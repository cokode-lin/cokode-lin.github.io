<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>bit1ä¸ªæ•°è®¡ç®—ç®—æ³•</title>
      <link href="/2023/12/30/%E7%AE%97%E6%B3%95/bit1%E4%B8%AA%E6%95%B0%E8%AE%A1%E7%AE%97%E7%AE%97%E6%B3%95/"/>
      <url>/2023/12/30/%E7%AE%97%E6%B3%95/bit1%E4%B8%AA%E6%95%B0%E8%AE%A1%E7%AE%97%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="ç»å…¸ä½è®¡æ•°ç®—æ³•"><a href="#ç»å…¸ä½è®¡æ•°ç®—æ³•" class="headerlink" title="ç»å…¸ä½è®¡æ•°ç®—æ³•"></a>ç»å…¸ä½è®¡æ•°ç®—æ³•</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">countBit1InByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> byte)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (byte) </span><br><span class="line">    &#123;</span><br><span class="line">        byte &amp;= (byte - <span class="number">1</span>);</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ­¤ç®—æ³•çš„æ€æƒ³æ˜¯åˆ©ç”¨ n &amp; (n-1) å¯ä»¥å°† n çš„æœ€å³è¾¹çš„ 1 ç½®é›¶çš„ç‰¹æ€§ï¼Œé€šè¿‡è¿­ä»£ç›´åˆ° n å˜ä¸º 0ï¼Œç»Ÿè®¡è¿­ä»£æ¬¡æ•°å³å¯ã€‚</p><p>å®ƒçš„è¿è¡Œæ—¶é—´ä¸å­—èŠ‚ä¸­bit1çš„ä½æ•°æˆæ­£æ¯”ï¼Œè€Œä¸æ˜¯ä¸å­—èŠ‚çš„æ€»ä½æ•°æˆæ­£æ¯”ã€‚å› æ­¤è®¡ç®—æ•ˆç‡ä¸ç¨³å®šï¼Œé€‚ç”¨äºbit1è¾ƒå°‘çš„åœºæ™¯ã€‚</p><h1 id="BKç®—æ³•ï¼ˆBrian-Kernighanâ€™sç®—æ³•ï¼‰"><a href="#BKç®—æ³•ï¼ˆBrian-Kernighanâ€™sç®—æ³•ï¼‰" class="headerlink" title="BKç®—æ³•ï¼ˆBrian Kernighanâ€™sç®—æ³•ï¼‰"></a>BKç®—æ³•ï¼ˆBrian Kernighanâ€™sç®—æ³•ï¼‰</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span>  </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span>   BYTE;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">short</span>  WORD;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">int</span>    DWORD;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—ä¸€ä¸ªå­—èŠ‚ä¸­bit1çš„ä¸ªæ•°</span></span><br><span class="line">BYTE <span class="title function_">countBit1InByte</span><span class="params">(BYTE byte)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ç¬¬ä¸€æ­¥ï¼šå°†ç›¸é‚»çš„ä¸¤ä½ä¸­çš„ 1 ä½ç›¸åŠ ï¼Œç»“æœä¿å­˜åœ¨åŸæ¥çš„ä½ç½®</span></span><br><span class="line">    byte = byte - ((byte &gt;&gt; <span class="number">1</span>) &amp; <span class="number">0x55</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¬¬äºŒæ­¥ï¼šå°†ç›¸é‚»çš„ 4 ä½ä¸­çš„ 1 ä½ç›¸åŠ ï¼Œç»“æœä¿å­˜åœ¨åŸæ¥çš„ä½ç½®</span></span><br><span class="line">    byte = (byte &amp; <span class="number">0x33</span>) + ((byte &gt;&gt; <span class="number">2</span>) &amp; <span class="number">0x33</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¬¬ä¸‰æ­¥ï¼šå°†ç›¸é‚»çš„ 8 ä½ä¸­çš„ 1 ä½ç›¸åŠ ï¼Œç»“æœä¿å­˜åœ¨åŸæ¥çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">return</span> (byte + (byte &gt;&gt; <span class="number">4</span>)) &amp; <span class="number">0x0F</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸é«˜æ•ˆçš„æ–¹æ³•ï¼Œä½¿ç”¨äº†ä½è¿ç®—æŠ€å·§æ¥å¿«é€Ÿè®¡ç®—ç»“æœï¼Œè€Œä¸éœ€è¦ä½¿ç”¨å¾ªç¯æˆ–æ¡ä»¶è¯­å¥ã€‚</p><p>ä¸è¿‡è¿™ä¸ªç®—æ³•ç†è§£èµ·æ¥è¾ƒä¸ºå›°éš¾ï¼Œä¸‹é¢å¼€å§‹è§£é‡Šæ¯ä¸€æ­¥æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p><p>ä»¥ 0x93 ä¸ºä¾‹</p><ol><li><p><strong>ç¬¬ä¸€æ­¥</strong>ï¼š<code>byte = byte - ((byte &gt;&gt; 1) &amp; 0x55);</code></p><p>è¿™ä¸€æ­¥çš„ç»“æœæ˜¯å°†ç›¸é‚»çš„ä¸¤ä½ä¸­çš„1ä½ç›¸åŠ ï¼Œå¹¶å°†ç»“æœä¿å­˜åœ¨åŸæ¥çš„ä½ç½®ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10010011</span> (<span class="number">0</span>x93) : original</span><br><span class="line"><span class="number">01000001</span> (<span class="number">0</span>x41) : (byte &gt;&gt; <span class="number">1</span>) &amp; <span class="number">0</span>x55</span><br><span class="line"><span class="number">01010010</span> (<span class="number">0</span>x52) : byte - ((byte &gt;&gt; <span class="number">1</span>) &amp; <span class="number">0</span>x55)</span><br><span class="line">------</span><br><span class="line"><span class="number">01010010</span> (<span class="number">0</span>x52) : result</span><br></pre></td></tr></table></figure></li><li><p><strong>ç¬¬äºŒæ­¥</strong>ï¼š<code>byte = (byte &amp; 0x33) + ((byte &gt;&gt; 2) &amp; 0x33);</code></p><p>è¿™ä¸€æ­¥æ˜¯è®¡ç®—å‰å4ä½çš„bit1ä¸ªæ•°ï¼Œå¹¶å°†è®¡ç®—çš„ç»“æœä¿å­˜åˆ°å„è‡ªçš„ä½ç½®ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">01010010 (0x52) : original</span><br><span class="line">00010000 (0x10) : (byte &gt;&gt; 2) &amp; 0x33</span><br><span class="line">00010010 (0x12) : byte &amp; 0x33</span><br><span class="line">00100010 (0x22) : (byte &amp; 0x33) + ((byte &gt;&gt; 2) &amp; 0x33)</span><br><span class="line">------</span><br><span class="line">00100010 (0x22) : result</span><br></pre></td></tr></table></figure></li><li><p><strong>ç¬¬ä¸‰æ­¥</strong>ï¼š<code>return (byte + (byte &gt;&gt; 4)) &amp; 0x0F;</code></p><p>å°†å‰å4ä½ä¸­bit1çš„ä¸ªæ•°ç›¸åŠ ï¼Œç„¶åé€šè¿‡ &amp; 0x0F ç¡®ä¿ç»“æœåœ¨4ä½ä»¥å†…ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">00100010 (0x22) : original</span><br><span class="line">00000100 (0x04) : (byte + (byte &gt;&gt; 4)) &amp; 0x0F</span><br><span class="line">------</span><br><span class="line">00000100 (0x04) : result</span><br></pre></td></tr></table></figure></li></ol><h1 id="æŸ¥è¡¨æ³•"><a href="#æŸ¥è¡¨æ³•" class="headerlink" title="æŸ¥è¡¨æ³•"></a>æŸ¥è¡¨æ³•</h1><p>æœ€é«˜æ•ˆçš„ç®—æ³•ï¼Œåªéœ€è¦å¤šå ç”¨ 256 Bytes çš„å†…å­˜ç©ºé—´ï¼Œå°±å¯æ¢æ¥æ•ˆç‡çš„æå¤§æå‡ã€‚</p><p>å…ˆç”¨ç»å…¸ä½è®¡æ•°ç®—æ³•æˆ–BKç®—æ³•è®¡ç®— 0 - 255 è¿™ 256 ä¸ªæ•°å­—å¯¹åº”çš„ bit1 ä¸ªæ•°ï¼Œå¹¶å°†è®¡ç®—çš„ç»“æ„ä¿å­˜åˆ° bit1Table æ•°ç»„ä¸­ã€‚ä¹‹åä½¿ç”¨çš„æ—¶å€™å°±å¯ä»¥ç›´æ¥é€šè¿‡bit1Table æ¥è·å–å„ä¸ªæ•°å€¼å¯¹åº”çš„ bit1 ä¸ªæ•°äº†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;  </span><br><span class="line"></span><br><span class="line">typedef unsigned char   BYTE;</span><br><span class="line">typedef unsigned short  WORD;</span><br><span class="line">typedef unsigned int    DWORD;</span><br><span class="line"></span><br><span class="line">BYTE bit1Table[256];</span><br><span class="line"></span><br><span class="line">// è®¡ç®—ä¸€ä¸ªå­—èŠ‚ä¸­bit1çš„ä¸ªæ•°</span><br><span class="line">BYTE countBit1InByte(BYTE byte)</span><br><span class="line">&#123;</span><br><span class="line">    // ç¬¬ä¸€æ­¥ï¼šå°†ç›¸é‚»çš„ä¸¤ä½ä¸­çš„ 1 ä½ç›¸åŠ ï¼Œç»“æœä¿å­˜åœ¨åŸæ¥çš„ä½ç½®</span><br><span class="line">    byte = byte - ((byte &gt;&gt; 1) &amp; 0x55);</span><br><span class="line"></span><br><span class="line">    // ç¬¬äºŒæ­¥ï¼šå°†ç›¸é‚»çš„ 4 ä½ä¸­çš„ 1 ä½ç›¸åŠ ï¼Œç»“æœä¿å­˜åœ¨åŸæ¥çš„ä½ç½®</span><br><span class="line">    byte = (byte &amp; 0x33) + ((byte &gt;&gt; 2) &amp; 0x33);</span><br><span class="line"></span><br><span class="line">    // ç¬¬ä¸‰æ­¥ï¼šå°†ç›¸é‚»çš„ 8 ä½ä¸­çš„ 1 ä½ç›¸åŠ ï¼Œç»“æœä¿å­˜åœ¨åŸæ¥çš„ä½ç½®</span><br><span class="line">    return (byte + (byte &gt;&gt; 4)) &amp; 0x0F;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åˆå§‹åŒ–bit1ä¸ªæ•°è¡¨</span><br><span class="line">void countBit1_InitTable(void)</span><br><span class="line">&#123;</span><br><span class="line">    DWORD i;</span><br><span class="line">    for (i = 0; i &lt; 256; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        bit1Table[i] = countBit1InByte(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æŸ¥è¡¨æ³•è®¡ç®—ä¸€ä¸ªByteä¸­bit1çš„ä¸ªæ•°ï¼Œéœ€å…ˆè°ƒç”¨ countBit1_InitTable å‡½æ•°</span><br><span class="line">BYTE countBit1InByte_LookupTable(BYTE byte)</span><br><span class="line">&#123;</span><br><span class="line">    return bit1Table[byte];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void main(void)</span><br><span class="line">&#123;</span><br><span class="line">    BYTE dat0 = 0x12;</span><br><span class="line">    BYTE dat1 = 0x31;</span><br><span class="line"></span><br><span class="line">    countBit1_InitTable();</span><br><span class="line"></span><br><span class="line">    printf(&quot;dat0 bit1 = %d\n&quot;, countBit1InByte_LookupTable(dat0));</span><br><span class="line">    printf(&quot;dat0 bit1 = %d\n&quot;, countBit1InByte_LookupTable(dat1));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>batè„šæœ¬</title>
      <link href="/2023/08/30/%E7%AC%94%E8%AE%B0/bat%E8%84%9A%E6%9C%AC/"/>
      <url>/2023/08/30/%E7%AC%94%E8%AE%B0/bat%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<p>ğŸš² ğŸš— âœˆï¸ ğŸš€</p><h2 id="ğŸš€-æ¡Œé¢å¿«æ·æ–¹å¼ç®­å¤´å’Œç›¾ç‰Œå»é™¤"><a href="#ğŸš€-æ¡Œé¢å¿«æ·æ–¹å¼ç®­å¤´å’Œç›¾ç‰Œå»é™¤" class="headerlink" title="ğŸš€ æ¡Œé¢å¿«æ·æ–¹å¼ç®­å¤´å’Œç›¾ç‰Œå»é™¤"></a>ğŸš€ æ¡Œé¢å¿«æ·æ–¹å¼ç®­å¤´å’Œç›¾ç‰Œå»é™¤</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@REM æ­¤è„šæœ¬éœ€è¦ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</span><br><span class="line"></span><br><span class="line">@REM å¿«æ·æ–¹å¼å°ç®­å¤´å’Œéœ€è¦ææƒè¿è¡Œçš„æç¤ºå›¾æ ‡å‡ä¸ºé€æ˜å›¾æ ‡</span><br><span class="line">reg add <span class="string">&quot;HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\Shell Icons&quot;</span> /v 29 /d <span class="string">&quot;%systemroot%\system32\imageres.dll,197&quot;</span> /t reg_sz /f</span><br><span class="line">reg add <span class="string">&quot;HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\Shell Icons&quot;</span> /v 77 /d <span class="string">&quot;%systemroot%\system32\imageres.dll,197&quot;</span> /t reg_sz /f</span><br><span class="line"></span><br><span class="line">@REM å…³é—­æ–‡ä»¶èµ„æºç®¡ç†å™¨</span><br><span class="line">taskkill /f /im explorer.exe</span><br><span class="line"></span><br><span class="line">@REM æ¸…é™¤åŸå…ˆçš„å›¾æ ‡ç¼“å­˜</span><br><span class="line">attrib -h -s -r <span class="string">&quot;%userprofile%\AppData\Local\IconCache.db&quot;</span></span><br><span class="line">del /f <span class="string">&quot;%userprofile%\AppData\Local\IconCache.db&quot;</span></span><br><span class="line"></span><br><span class="line">@REM é‡å¯æ–‡ä»¶èµ„æºç®¡ç†å™¨</span><br><span class="line">start explorer</span><br></pre></td></tr></table></figure><h2 id="ğŸš€-æ¡Œé¢å¿«æ·æ–¹å¼å›¾æ ‡ä¿®å¤"><a href="#ğŸš€-æ¡Œé¢å¿«æ·æ–¹å¼å›¾æ ‡ä¿®å¤" class="headerlink" title="ğŸš€ æ¡Œé¢å¿«æ·æ–¹å¼å›¾æ ‡ä¿®å¤"></a>ğŸš€ æ¡Œé¢å¿«æ·æ–¹å¼å›¾æ ‡ä¿®å¤</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line">@REM å…³é—­æ–‡ä»¶èµ„æºç®¡ç†å™¨</span><br><span class="line">taskkill /f /im explorer.exe</span><br><span class="line"></span><br><span class="line">@REM æ¸…é™¤åŸå…ˆçš„å›¾æ ‡ç¼“å­˜</span><br><span class="line">attrib -h -s -r <span class="string">&quot;%userprofile%\AppData\Local\IconCache.db&quot;</span></span><br><span class="line">del /f <span class="string">&quot;%userprofile%\AppData\Local\IconCache.db&quot;</span></span><br><span class="line"></span><br><span class="line">@REM é‡å¯æ–‡ä»¶èµ„æºç®¡ç†å™¨</span><br><span class="line">start explorer</span><br></pre></td></tr></table></figure><h2 id="ğŸš€-è¿ç»­æ‹·è´è„šæœ¬"><a href="#ğŸš€-è¿ç»­æ‹·è´è„šæœ¬" class="headerlink" title="ğŸš€ è¿ç»­æ‹·è´è„šæœ¬"></a>ğŸš€ è¿ç»­æ‹·è´è„šæœ¬</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">REM å°†å½“å‰ç›®å½•ä¸‹æ‰€æœ‰binæ–‡ä»¶è€ƒè´åˆ°æ¡Œé¢çš„ICSæ–‡ä»¶å¤¹</span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line">:Loop</span><br><span class="line"></span><br><span class="line">cls</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> filename=*.txt</span><br><span class="line"><span class="built_in">set</span> targetPath=%USERPROFILE%\Desktop\Test\</span><br><span class="line"></span><br><span class="line">REM æ‰“å°æ–‡ä»¶åå’Œä¿®æ”¹æ—¶é—´</span><br><span class="line"><span class="keyword">for</span> %%f <span class="keyword">in</span> (%filename%) <span class="keyword">do</span> (</span><br><span class="line">    <span class="built_in">echo</span> %%~tf      %%f</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span>.</span><br><span class="line"></span><br><span class="line">REM å¤åˆ¶æ–‡ä»¶</span><br><span class="line"><span class="keyword">for</span> %%f <span class="keyword">in</span> (%filename%) <span class="keyword">do</span> (</span><br><span class="line">    copy %%f %targetPath%</span><br><span class="line">    @REM <span class="built_in">echo</span> %targetPath%</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span>.</span><br><span class="line"><span class="built_in">echo</span> Time: %time:~0,2%:%time:~3,2%:%time:~6,2%</span><br><span class="line"><span class="built_in">echo</span>.</span><br><span class="line"><span class="built_in">echo</span>.</span><br><span class="line">pause</span><br><span class="line"></span><br><span class="line">goto :Loop</span><br></pre></td></tr></table></figure><h2 id="ğŸš€-æ¸…é™¤vscodeç¼“å­˜"><a href="#ğŸš€-æ¸…é™¤vscodeç¼“å­˜" class="headerlink" title="ğŸš€ æ¸…é™¤vscodeç¼“å­˜"></a>ğŸš€ æ¸…é™¤vscodeç¼“å­˜</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">rd /s /q %userprofile%\AppData\Roaming\Code\User\workspaceStorage\</span><br><span class="line">rd /s /q %userprofile%\AppData\Local\Microsoft\vscode-cpptools\ipch\</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RaspberryPi-PICOæ–°å»ºå·¥ç¨‹</title>
      <link href="/2023/08/04/%E5%8D%95%E7%89%87%E6%9C%BA/RaspberryPi-PICO%E6%96%B0%E5%BB%BA%E5%B7%A5%E7%A8%8B/"/>
      <url>/2023/08/04/%E5%8D%95%E7%89%87%E6%9C%BA/RaspberryPi-PICO%E6%96%B0%E5%BB%BA%E5%B7%A5%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>ğŸš² ğŸš— âœˆï¸ ğŸš€</p><h2 id="ğŸš€-å·¥ç¨‹æ–‡ä»¶ç›®å½•ç»„æˆ"><a href="#ğŸš€-å·¥ç¨‹æ–‡ä»¶ç›®å½•ç»„æˆ" class="headerlink" title="ğŸš€ å·¥ç¨‹æ–‡ä»¶ç›®å½•ç»„æˆ"></a>ğŸš€ å·¥ç¨‹æ–‡ä»¶ç›®å½•ç»„æˆ</h2><p>ä»¥åˆ›å»ºä¸€ä¸ª blink å·¥ç¨‹ä¸ºä¾‹</p><p>é¦–å…ˆæ–°å»ºä¸€ä¸ª blink ç›®å½•ï¼Œè¯¥ç›®å½•ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â””â”€â”€ blink</span><br><span class="line">    â”œâ”€â”€ build</span><br><span class="line">    â”œâ”€â”€ CMakeLists.txt</span><br><span class="line">    â”œâ”€â”€ main</span><br><span class="line">    â”‚   â””â”€â”€ blink.c</span><br><span class="line">    â””â”€â”€ pico_sdk_import.cmake</span><br></pre></td></tr></table></figure><p>build å’Œ main æ˜¯ç›®å½•ï¼Œbuild ç”¨äºå­˜æ”¾ç¼–è¯‘åçš„æ–‡ä»¶ï¼Œmain ç›®å½•åˆ™ç”¨äºå­˜æ”¾å·¥ç¨‹ç›¸å…³çš„ .c å’Œ .h æ–‡ä»¶ã€‚</p><p>pico_sdk_import.cmake è¿™ä¸ªæ–‡ä»¶æ˜¯ä» pico-sdk ä¸­æ‹·è´è¿‡æ¥çš„ï¼Œæ‹·è´å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> <span class="variable">$PICO_SDK_PATH</span>/external/pico_sdk_import.cmake .</span><br></pre></td></tr></table></figure><p>CMakeLists.txt æ˜¯ CMake çš„é…ç½®æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŒ‡å®šæœ€ä½çš„cmakeç‰ˆæœ¬</span></span><br><span class="line">cmake_minimum_required(VERSION 3.12)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šä¾èµ–æ–‡ä»¶</span></span><br><span class="line">include(pico_sdk_import.cmake)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šå·¥ç¨‹åä»¥åŠæ¶‰åŠåˆ°çš„ç¼–ç¨‹è¯­è¨€</span></span><br><span class="line">project(blink C CXX ASM)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–pico sdk</span></span><br><span class="line">pico_sdk_init()</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šè¦ç¼–è¯‘çš„æºç æ–‡ä»¶</span></span><br><span class="line">add_executable(blink</span><br><span class="line">        main/blink.c</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"><span class="comment"># éœ€è¦é“¾æ¥çš„åº“æ–‡ä»¶</span></span><br><span class="line">target_link_libraries(blink pico_stdlib)</span><br><span class="line"></span><br><span class="line"><span class="comment"># éœ€è¦ç”Ÿæˆçš„é¢å¤–æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># create map/bin/hex file etc.</span></span><br><span class="line">pico_add_extra_outputs(blink)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ğŸš€-ç¼–è¯‘å·¥ç¨‹"><a href="#ğŸš€-ç¼–è¯‘å·¥ç¨‹" class="headerlink" title="ğŸš€ ç¼–è¯‘å·¥ç¨‹"></a>ğŸš€ ç¼–è¯‘å·¥ç¨‹</h2><p>è¿›å…¥ build ç›®å½•ï¼ŒæŒ‰ç…§ä¸‹é¢çš„å‘½ä»¤å¼€å§‹ç¼–è¯‘ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cmake ..</span><br><span class="line">make</span><br></pre></td></tr></table></figure><p> ç¼–è¯‘åä¼šç”Ÿæˆ blink.elfã€blink.uf2ã€blink.bin è¿™ä¸‰ä¸ªå›ºä»¶æ–‡ä»¶ã€‚</p><blockquote><p>  .uf2æ ¼å¼å¯ä»¥ç›´æ¥é€šè¿‡æ¿è½½USBä¸‹è½½</p><p>  <em>.elfæ ¼å¼å¯ä»¥é€šè¿‡SWDæ¥å£ä¸‹è½½</em></p><p>  .binæ ¼å¼å¯ä»¥ç›´æ¥flashçƒ§å†™å™¨çƒ§å†™åˆ°flashä¸­</p></blockquote><h2 id="ğŸš€-å‚è€ƒèµ„æ–™"><a href="#ğŸš€-å‚è€ƒèµ„æ–™" class="headerlink" title="ğŸš€ å‚è€ƒèµ„æ–™"></a>ğŸš€ å‚è€ƒèµ„æ–™</h2><p><a href="https://blog.csdn.net/tianizimark/article/details/123014765">Raspberry-Pi-PICOç³»åˆ—â€”ç¬¬ä¸ƒç¯‡ åˆ›å»ºè‡ªå·±çš„å·¥ç¨‹</a></p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> RaspberryPi-PICO </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCodeé¢è¯•å¿…åˆ·75é¢˜</title>
      <link href="/2023/06/03/Leetcode/LeetCode%E9%9D%A2%E8%AF%95%E5%BF%85%E5%88%B775%E9%A2%98/"/>
      <url>/2023/06/03/Leetcode/LeetCode%E9%9D%A2%E8%AF%95%E5%BF%85%E5%88%B775%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>ğŸš² ğŸš— âœˆï¸ ğŸš€</p><h2 id="ğŸš€-äº¤æ›¿åˆå¹¶å­—ç¬¦ä¸²-ç®€å•"><a href="#ğŸš€-äº¤æ›¿åˆå¹¶å­—ç¬¦ä¸²-ç®€å•" class="headerlink" title="ğŸš€ äº¤æ›¿åˆå¹¶å­—ç¬¦ä¸² - ç®€å•"></a>ğŸš€ äº¤æ›¿åˆå¹¶å­—ç¬¦ä¸² - ç®€å•</h2><p><strong>é¢˜ç›®ï¼š</strong></p><p>ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² word1 å’Œ word2 ã€‚è¯·ä½ ä» word1 å¼€å§‹ï¼Œé€šè¿‡äº¤æ›¿æ·»åŠ å­—æ¯æ¥åˆå¹¶å­—ç¬¦ä¸²ã€‚</p><p>å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²æ¯”å¦ä¸€ä¸ªå­—ç¬¦ä¸²é•¿ï¼Œå°±å°†å¤šå‡ºæ¥çš„å­—æ¯è¿½åŠ åˆ°åˆå¹¶åå­—ç¬¦ä¸²çš„æœ«å°¾ã€‚</p><p>è¿”å› åˆå¹¶åçš„å­—ç¬¦ä¸² ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><blockquote><p>  è¾“å…¥ï¼šword1 = â€œabcâ€, word2 = â€œpqrâ€<br>  è¾“å‡ºï¼šâ€apbqcrâ€<br>  åˆå¹¶åï¼š  apbqcr</p></blockquote><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><blockquote><p>  è¾“å…¥ï¼šword1 = â€œabâ€, word2 = â€œpqrsâ€<br>  è¾“å‡ºï¼šâ€apbqrsâ€<br>  è§£é‡Šï¼šæ³¨æ„ï¼Œword2 æ¯” word1 é•¿ï¼Œâ€rsâ€ éœ€è¦è¿½åŠ åˆ°åˆå¹¶åå­—ç¬¦ä¸²çš„æœ«å°¾ã€‚<br>  åˆå¹¶åï¼šapbqrs</p></blockquote><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><blockquote><p>  è¾“å…¥ï¼šword1 = â€œabcdâ€, word2 = â€œpqâ€<br>  è¾“å‡ºï¼šâ€apbqcdâ€<br>  è§£é‡Šï¼šæ³¨æ„ï¼Œword1 æ¯” word2 é•¿ï¼Œâ€cdâ€ éœ€è¦è¿½åŠ åˆ°åˆå¹¶åå­—ç¬¦ä¸²çš„æœ«å°¾ã€‚<br>  åˆå¹¶åï¼šapbqcd</p></blockquote><h3 id="é¢˜è§£-æš´åŠ›æ±‚è§£"><a href="#é¢˜è§£-æš´åŠ›æ±‚è§£" class="headerlink" title="é¢˜è§£ - æš´åŠ›æ±‚è§£"></a>é¢˜è§£ - æš´åŠ›æ±‚è§£</h3><p>å®šä¹‰ä¸€ä¸ªæ•°ç»„æˆ–åˆ—è¡¨ï¼Œä¾æ¬¡è¯»å–word1å’Œword2çš„å­—ç¬¦å¹¶å­˜å‚¨åœ¨è¯¥æ•°ç»„ä¸Šï¼Œæœ€åè¿”å›è¯¥æ•°ç»„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mergeAlternately</span>(<span class="params">self, word1: <span class="built_in">str</span>, word2: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        retstr = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        word1Len = <span class="built_in">len</span>(word1)</span><br><span class="line">        word2Len = <span class="built_in">len</span>(word2)</span><br><span class="line">        strLen   = word1Len + word2Len</span><br><span class="line">        word1Index = <span class="number">0</span></span><br><span class="line">        word2Index = <span class="number">0</span></span><br><span class="line">        strIndex   = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> strIndex &lt; strLen:</span><br><span class="line">            <span class="keyword">if</span> word1Index &lt; word1Len:</span><br><span class="line">                retstr += word1[word1Index]</span><br><span class="line">                word1Index += <span class="number">1</span></span><br><span class="line">                strIndex += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> word2Index &lt; word2Len:</span><br><span class="line">                retstr += word2[word2Index]</span><br><span class="line">                word2Index += <span class="number">1</span></span><br><span class="line">                strIndex += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> retstr</span><br><span class="line"></span><br><span class="line"><span class="comment"># æµ‹è¯•</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    word1List = [<span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;ab&#x27;</span>, <span class="string">&#x27;abcd&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27; a  &#x27;</span>]</span><br><span class="line">    word2List = [<span class="string">&#x27;pqr&#x27;</span>, <span class="string">&#x27;pqrs&#x27;</span>, <span class="string">&#x27;pq&#x27;</span>, <span class="string">&#x27;pqr&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;p q r&#x27;</span>]</span><br><span class="line">    word3List = [<span class="string">&#x27;apbqcr&#x27;</span>, <span class="string">&#x27;apbqrs&#x27;</span>, <span class="string">&#x27;apbqcd&#x27;</span>, <span class="string">&#x27;pqr&#x27;</span>, <span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27; pa  q  r&#x27;</span>]</span><br><span class="line">    testNum = <span class="built_in">len</span>(word1List)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(testNum):</span><br><span class="line">        word3 = Solution().mergeAlternately(word1List[i], word2List[i])</span><br><span class="line">        <span class="keyword">if</span> word3 != word3List[i]:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;Error: <span class="subst">&#123;word1List[i]&#125;</span> + <span class="subst">&#123;word2List[i]&#125;</span> = <span class="subst">&#123;word3&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç”¨æ—¶ï¼š48 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†20.64%çš„ç”¨æˆ·</p><p>å†…å­˜æ¶ˆè€—ï¼š16.2 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†5.28%çš„ç”¨æˆ·</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> * <span class="title function_">mergeAlternately</span><span class="params">(<span class="type">char</span> * word1, <span class="type">char</span> * word2)</span>&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> word1Len = <span class="built_in">strlen</span>(word1);</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> word2Len = <span class="built_in">strlen</span>(word2);</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> lenSum   = word1Len + word2Len;</span><br><span class="line">    <span class="type">char</span> *retStr = (<span class="type">char</span> *)<span class="built_in">malloc</span>(lenSum+<span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> index1 = <span class="number">0</span>;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> index2 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (lenSum == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; lenSum;)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (index1 &lt; word1Len)</span><br><span class="line">        &#123;</span><br><span class="line">            retStr[i] = word1[index1];</span><br><span class="line">            i++;</span><br><span class="line">            index1++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (index2 &lt; word2Len)</span><br><span class="line">        &#123;</span><br><span class="line">            retStr[i] = word2[index2];</span><br><span class="line">            i++;</span><br><span class="line">            index2++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    retStr[i] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> retStr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> word1List[][<span class="number">8</span>] = &#123;<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;ab&quot;</span>, <span class="string">&quot;abcd&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;abc&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot; a  &quot;</span>&#125;;</span><br><span class="line">    <span class="type">char</span> word2List[][<span class="number">8</span>] = &#123;<span class="string">&quot;pqr&quot;</span>, <span class="string">&quot;pqrs&quot;</span>, <span class="string">&quot;pq&quot;</span>, <span class="string">&quot;pqr&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;p q r&quot;</span>&#125;;</span><br><span class="line">    <span class="type">char</span> word3List[][<span class="number">16</span>] = &#123;<span class="string">&quot;apbqcr&quot;</span>, <span class="string">&quot;apbqrs&quot;</span>, <span class="string">&quot;apbqcd&quot;</span>, <span class="string">&quot;pqr&quot;</span>, <span class="string">&quot;abc&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot; pa  q  r&quot;</span>&#125;;</span><br><span class="line">    <span class="type">int</span> testNum = <span class="keyword">sizeof</span>(word1List) / <span class="number">8</span>;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="type">char</span> *pstr;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; testNum; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        pstr = mergeAlternately(word1List[i], word2List[i]);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(pstr, word3List[i]))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;num%d error: mergeAlternately(\&quot;%s\&quot;, \&quot;%s\&quot;) = \&quot;%s\&quot; \r\n&quot;</span>, i, word1List[i], word2List[i], pstr);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ C æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p><p>å†…å­˜æ¶ˆè€—ï¼š5.9 MB, åœ¨æ‰€æœ‰ C æäº¤ä¸­å‡»è´¥äº†5.46%çš„ç”¨æˆ·</p><h3 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h3><p>ä¸Šé¢çš„è§£æ³•ç”¨äº†ä¸€ä¸ªå˜é‡æ¥è®°å½•è¿”å›å­—ç¬¦ä¸²çš„æ€»é•¿åº¦ï¼Œè¿™ä¸ªå˜é‡æ˜¯å¯ä»¥è¢«ä¼˜åŒ–æ‰çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mergeAlternately</span>(<span class="params">self, word1: <span class="built_in">str</span>, word2: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        index = <span class="number">0</span></span><br><span class="line">        res = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        word1Len = <span class="built_in">len</span>(word1)</span><br><span class="line">        word2Len = <span class="built_in">len</span>(word2)</span><br><span class="line">        <span class="keyword">while</span> index &lt; word1Len <span class="keyword">or</span> index &lt; word2Len:</span><br><span class="line">            <span class="keyword">if</span> index &lt; word1Len:</span><br><span class="line">                res += word1[index]</span><br><span class="line">            <span class="keyword">if</span> index &lt; word2Len:</span><br><span class="line">                res += word2[index]</span><br><span class="line">            index += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç”¨æ—¶ï¼š36 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†82.96%çš„ç”¨æˆ·</p><p>å†…å­˜æ¶ˆè€—ï¼š16.1 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†13.34%çš„ç”¨æˆ·</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> * <span class="title function_">mergeAlternately</span><span class="params">(<span class="type">char</span> * word1, <span class="type">char</span> * word2)</span>&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> word1Len = <span class="built_in">strlen</span>(word1);</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> word2Len = <span class="built_in">strlen</span>(word2);</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> i, j = <span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span> *retStr = (<span class="type">char</span> *)<span class="built_in">malloc</span>(word1Len + word2Len + <span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; (i &lt; word1Len) || (i &lt; word2Len); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; word1Len)</span><br><span class="line">        &#123;</span><br><span class="line">            retStr[j++] = word1[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; word2Len)</span><br><span class="line">        &#123;</span><br><span class="line">            retStr[j++] = word2[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    retStr[j] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> retStr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç”¨æ—¶ï¼š0 ms, åœ¨æ‰€æœ‰ C æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·</p><p>å†…å­˜æ¶ˆè€—ï¼š5.6 MB, åœ¨æ‰€æœ‰ C æäº¤ä¸­å‡»è´¥äº†66.55%çš„ç”¨æˆ·</p><h2 id="ğŸš€-å­—ç¬¦ä¸²çš„æœ€å¤§å…¬å› å­-ç®€å•"><a href="#ğŸš€-å­—ç¬¦ä¸²çš„æœ€å¤§å…¬å› å­-ç®€å•" class="headerlink" title="ğŸš€ å­—ç¬¦ä¸²çš„æœ€å¤§å…¬å› å­ - ç®€å•"></a>ğŸš€ å­—ç¬¦ä¸²çš„æœ€å¤§å…¬å› å­ - ç®€å•</h2><p><strong>é¢˜ç›®ï¼š</strong></p><p>å¯¹äºå­—ç¬¦ä¸² s å’Œ tï¼Œåªæœ‰åœ¨ s = t + â€¦ + tï¼ˆt è‡ªèº«è¿æ¥ 1 æ¬¡æˆ–å¤šæ¬¡ï¼‰æ—¶ï¼Œæˆ‘ä»¬æ‰è®¤å®š â€œt èƒ½é™¤å°½ sâ€ã€‚</p><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² str1 å’Œ str2 ã€‚è¿”å› æœ€é•¿å­—ç¬¦ä¸² xï¼Œè¦æ±‚æ»¡è¶³ x èƒ½é™¤å°½ str1 ä¸” x èƒ½é™¤å°½ str2 ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><blockquote><p>  è¾“å…¥ï¼šstr1 = â€œABCABCâ€, str2 = â€œABCâ€<br>  è¾“å‡ºï¼šâ€ABCâ€</p></blockquote><p>ç¤ºä¾‹ 2ï¼š</p><blockquote><p>  è¾“å…¥ï¼šstr1 = â€œABABABâ€, str2 = â€œABABâ€<br>  è¾“å‡ºï¼šâ€ABâ€</p></blockquote><p>ç¤ºä¾‹ 3ï¼š</p><blockquote><p>  è¾“å…¥ï¼šstr1 = â€œLEETâ€, str2 = â€œCODEâ€<br>  è¾“å‡ºï¼šâ€â€</p></blockquote><h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>é¢˜ç›®è¦æ±‚å­—ç¬¦ä¸² x èƒ½é™¤å°½ str1 ä¸” x èƒ½é™¤å°½ str2ï¼Œå› æ­¤å­—ç¬¦ä¸² x çš„é•¿åº¦å¿…é¡»ä¸º str1 å’Œ str2 çš„æœ€å¤§å…¬å› æ•°ã€‚</p><p>ä»¥æœ€å¤§å…¬å› æ•°å¯¹å­—ç¬¦ä¸² str1 è¿›è¡Œåˆ‡ç‰‡ï¼Œçœ‹çœ‹åˆ‡ç‰‡å‡ºæ¥çš„å­—ç¬¦ä¸² str3 æ˜¯å¦æ˜¯ str1 å’Œ str2 çš„å­ä¸²ã€‚å¦‚æœæ˜¯ï¼Œåˆ™str3 å°±æ˜¯æœ€å¤§å…¬å› å­ã€‚å¦‚æœä¸æ˜¯ï¼Œåˆ™æ²¡æœ‰å…¬å› å­ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> gcd</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">gcdOfStrings</span>(<span class="params">self, str1: <span class="built_in">str</span>, str2: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        str1Len = <span class="built_in">len</span>(str1)</span><br><span class="line">        str2Len = <span class="built_in">len</span>(str2)</span><br><span class="line">        divisor = gcd(str1Len, str2Len)<span class="comment"># è®¡ç®—å…¬å› æ•°</span></span><br><span class="line">        </span><br><span class="line">        retStr = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">if</span> str1[<span class="number">0</span> : divisor] == str2[<span class="number">0</span> : divisor]:</span><br><span class="line">            retStr = str1[<span class="number">0</span> : divisor]</span><br><span class="line">            index = divisor</span><br><span class="line">            <span class="keyword">while</span> index + divisor &lt;= str1Len:</span><br><span class="line">                <span class="keyword">if</span> retStr != str1[index : (index + divisor)]:</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">                index += divisor</span><br><span class="line">            index = divisor</span><br><span class="line">            <span class="keyword">while</span> index + divisor &lt;= str2Len:</span><br><span class="line">                <span class="keyword">if</span> retStr != str2[index : (index + divisor)]:</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">                index += divisor</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> retStr</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    strList1 = [<span class="string">&#x27;ABCABC&#x27;</span>, <span class="string">&#x27;ABABAB&#x27;</span>, <span class="string">&#x27;LEET&#x27;</span>, <span class="string">&#x27;ABCABCABCABC&#x27;</span>, <span class="string">&#x27;ABCABCABCABC&#x27;</span>, <span class="string">&#x27;ABCABCABCABD&#x27;</span>]</span><br><span class="line">    strList2 = [<span class="string">&#x27;ABC&#x27;</span>, <span class="string">&#x27;ABAB&#x27;</span>, <span class="string">&#x27;CODE&#x27;</span>, <span class="string">&#x27;ABCABCABCABC&#x27;</span>, <span class="string">&#x27;ABCABC&#x27;</span>, <span class="string">&#x27;ABCABC&#x27;</span>]</span><br><span class="line">    strList3 = [<span class="string">&#x27;ABC&#x27;</span>, <span class="string">&#x27;AB&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;ABCABCABCABC&#x27;</span>, <span class="string">&#x27;ABCABC&#x27;</span>, <span class="string">&#x27;&#x27;</span>]</span><br><span class="line">    listLen = <span class="built_in">len</span>(strList1)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(listLen):</span><br><span class="line">        str1 = Solution().gcdOfStrings(strList1[i], strList2[i])</span><br><span class="line">        <span class="keyword">if</span> str1 != strList3[i]:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;Error: Solution().gcdOfStrings(strList1[i], strList2[i]) = \&#x27;<span class="subst">&#123;str1&#125;</span>\&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç”¨æ—¶ï¼š44 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†50.83%çš„ç”¨æˆ·</p><p>å†…å­˜æ¶ˆè€—ï¼š16.2 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†7.65%çš„ç”¨æˆ·</p><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonç¦»çº¿å®‰è£…åº“</title>
      <link href="/2023/05/17/%E7%AC%94%E8%AE%B0/python%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85%E5%BA%93/"/>
      <url>/2023/05/17/%E7%AC%94%E8%AE%B0/python%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<p>ğŸš² ğŸš— âœˆï¸ ğŸš€</p><p>ä»¥DrissionPageåº“ä¸ºä¾‹</p><p>é¦–å…ˆåœ¨ä¸€ä¸ªå¯ä»¥è”ç½‘çš„ç”µè„‘å¯ä»¥ç¦»çº¿å®‰è£…åŒ…ä»¥åŠä¾èµ–åº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ä¸­ç§‘å¤§é•œåƒæºä¸‹è½½ç¦»çº¿å®‰è£…åŒ…ä»¥åŠä¾èµ–åº“ï¼Œä¸‹è½½åˆ°å½“å‰ç›®å½•</span></span><br><span class="line">pip download -d ./ -i https://pypi.mirrors.ustc.edu.cn/simple/ DrissionPage</span><br></pre></td></tr></table></figure><p>æ–°å»º requirement.txt æ–‡ä»¶ã€‚</p><p>ç„¶åå°†å‘½ä»¤è¡Œä¸Šçš„åŒ…æ–‡ä»¶åæŒ‰ç…§å€’åºçš„æ–¹å¼å¤åˆ¶åˆ° requirement.txt ä¸­ã€‚</p><p>å¯ä»¥å°†æ‰€æœ‰Savedå¼€å¤´çš„æ–‡å­—ä¸€èµ·è´Ÿè´£åˆ° requirement.txt ï¼Œç„¶åç”¨ vscode æ‰“å¼€ï¼Œå°†å‰é¢çš„æ–‡å­—ä¸€èµ·åˆ é™¤ï¼Œæœ€åè¿›è¡Œå€’åºå³å¯ã€‚</p><p><img src="../../images/pythonç¦»çº¿å®‰è£…åº“/image-20230515185628886.png" alt="image-20230515185628886"></p><p>å°†æ–‡ä»¶å¤¹æ‹·è´åˆ°éœ€è¦ç¦»çº¿å®‰è£…çš„ç”µè„‘ï¼Œå¹¶è¿›å…¥æ–‡ä»¶å¤¹å†…ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¿›è¡Œå®‰è£…ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirement.txt    <span class="comment">##æŒ‰ç…§è„šæœ¬å†…å®‰è£…åŒ…çš„é¡ºåºå®‰è£…åº“</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> pip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonè„šæœ¬</title>
      <link href="/2023/04/15/%E7%AC%94%E8%AE%B0/python%E8%84%9A%E6%9C%AC/"/>
      <url>/2023/04/15/%E7%AC%94%E8%AE%B0/python%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<p>ğŸš² ğŸš— âœˆï¸ ğŸš€</p><h2 id="ğŸš€-ä¿®æ”¹æ–‡ä»¶å"><a href="#ğŸš€-ä¿®æ”¹æ–‡ä»¶å" class="headerlink" title="ğŸš€ ä¿®æ”¹æ–‡ä»¶å"></a>ğŸš€ ä¿®æ”¹æ–‡ä»¶å</h2><p>åŠŸèƒ½ï¼Œæ‰“å°å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„æ–‡ä»¶åï¼Œå¹¶å°†æ–‡ä»¶åä¸­çš„<span style="color:blue"> â€˜.â€™ å’Œ â€˜-â€˜ ä¹‹é—´çš„å­—ç¬¦</span>æ›¿æ¢æˆ â€˜__â€™ ï¼ˆåŒ…æ‹¬â€™.â€™ å’Œ â€˜-â€˜ ï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_file_names</span>(<span class="params">directory</span>):</span><br><span class="line">    <span class="comment"># éå†ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¹¶å°†æ–‡ä»¶åæ·»åŠ åˆ°åˆ—è¡¨ä¸­</span></span><br><span class="line">    file_names = []</span><br><span class="line">    <span class="keyword">for</span> filename <span class="keyword">in</span> os.listdir(directory):</span><br><span class="line">        <span class="keyword">if</span> os.path.isfile(os.path.join(directory, filename)):</span><br><span class="line">            file_names.append(filename)</span><br><span class="line">    <span class="keyword">return</span> file_names</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°æ‰€æœ‰æ–‡ä»¶å</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">print_file_names</span>(<span class="params">file_names</span>):</span><br><span class="line">    <span class="keyword">for</span> filename <span class="keyword">in</span> file_names:</span><br><span class="line">        <span class="built_in">print</span>(filename)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹æ–‡ä»¶å</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">modify_file_name</span>(<span class="params">directory, old_name, new_name</span>):</span><br><span class="line">    <span class="comment"># è·å–æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">    old_path = os.path.join(directory, old_name)</span><br><span class="line">    new_path = os.path.join(directory, new_name)</span><br><span class="line">    <span class="comment"># é‡å‘½åæ–‡ä»¶</span></span><br><span class="line">    os.rename(old_path, new_path)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†è¦éå†çš„ç›®å½•è·¯å¾„æ›¿æ¢ä¸ºæ‚¨æ‰€éœ€çš„ç›®å½•</span></span><br><span class="line">directory = <span class="string">&#x27;./&#x27;</span></span><br><span class="line"><span class="comment"># å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨äºåŒ¹é…æ‹¬å·å†…çš„å­—ç¬¦ä¸²</span></span><br><span class="line">regex = re.<span class="built_in">compile</span>(<span class="string">r&#x27;\.(.*?)\-&#x27;</span>)</span><br><span class="line"><span class="comment"># è·å–æ‰€æœ‰æ–‡ä»¶å</span></span><br><span class="line">file_names = get_file_names(directory)</span><br><span class="line"><span class="comment"># æ‰“å°æ‰€æœ‰æ–‡ä»¶å</span></span><br><span class="line">print_file_names(file_names)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¾ªç¯éå†å¹¶ä¿®æ”¹æ–‡ä»¶å</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(file_names)):</span><br><span class="line">    <span class="comment"># è·å–åŸå§‹æ–‡ä»¶å</span></span><br><span class="line">    old_name = file_names[i]</span><br><span class="line">    <span class="comment"># æŸ¥æ‰¾æ‹¬å·å†…çš„å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">match</span> = regex.search(old_name)</span><br><span class="line">    <span class="comment"># ç§»é™¤ä¸éœ€è¦çš„å­—ç¬¦</span></span><br><span class="line">    new_name = old_name.replace(<span class="keyword">match</span>.group(), <span class="string">&#x27;_&#x27;</span>)</span><br><span class="line">    <span class="comment"># ä¿®æ”¹æ–‡ä»¶å</span></span><br><span class="line">    modify_file_name(directory, old_name, new_name)</span><br><span class="line">    <span class="built_in">print</span>(new_name)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ğŸš€-pngè½¬jpgå¹¶ä¿®æ”¹æ–‡ä»¶åä¸ºæ•°å­—åºåˆ—"><a href="#ğŸš€-pngè½¬jpgå¹¶ä¿®æ”¹æ–‡ä»¶åä¸ºæ•°å­—åºåˆ—" class="headerlink" title="ğŸš€ pngè½¬jpgå¹¶ä¿®æ”¹æ–‡ä»¶åä¸ºæ•°å­—åºåˆ—"></a>ğŸš€ pngè½¬jpgå¹¶ä¿®æ”¹æ–‡ä»¶åä¸ºæ•°å­—åºåˆ—</h2><p>æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">path = <span class="string">&#x27;./featureimages&#x27;</span></span><br><span class="line">files = os.listdir(path)</span><br><span class="line">i = <span class="number">1</span>       // å¦‚æœé‡å‘½åå¤±è´¥ï¼Œè¯´æ˜æ–‡ä»¶å¤¹å†…æœ‰åŒåçš„æ–‡ä»¶ï¼Œå¯ä»¥å…ˆå°†è¿™ä¸ªå€¼è®¾ç½®å¤§ä¸€ç‚¹ï¼Œä¹‹åå†è°ƒå›<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æŒ‰ç…§ä» 1 å¼€å§‹çš„æ•°å­—å‘½åï¼Œåç¼€ä¸å˜</span></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">    old_name = os.path.join(path, file)</span><br><span class="line">    extension = os.path.splitext(file)[<span class="number">1</span>]</span><br><span class="line">    new_name = os.path.join(path, <span class="built_in">str</span>(i) + extension)</span><br><span class="line">    <span class="built_in">print</span>(new_name)</span><br><span class="line">    os.rename(old_name, new_name)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†æ–‡ä»¶å¤¹å†…çš„ png å›¾ç‰‡è½¬æ¢ä¸º jpg</span></span><br><span class="line"><span class="keyword">for</span> filename <span class="keyword">in</span> os.listdir(path):</span><br><span class="line">    <span class="keyword">if</span> filename.endswith(<span class="string">&#x27;.png&#x27;</span>):</span><br><span class="line">        img = Image.<span class="built_in">open</span>(os.path.join(path, filename))</span><br><span class="line">        img = img.convert(<span class="string">&#x27;RGB&#x27;</span>)</span><br><span class="line">        new_filename = os.path.splitext(filename)[<span class="number">0</span>] + <span class="string">&#x27;.jpg&#x27;</span></span><br><span class="line">        img.save(os.path.join(path, new_filename))</span><br><span class="line">        os.remove(os.path.join(path, filename))</span><br></pre></td></tr></table></figure><h2 id="ğŸš€-xlsxæ–‡ä»¶æŒ‘é€‰ç‰¹å®šèŒƒå›´çš„å€¼"><a href="#ğŸš€-xlsxæ–‡ä»¶æŒ‘é€‰ç‰¹å®šèŒƒå›´çš„å€¼" class="headerlink" title="ğŸš€ xlsxæ–‡ä»¶æŒ‘é€‰ç‰¹å®šèŒƒå›´çš„å€¼"></a>ğŸš€ xlsxæ–‡ä»¶æŒ‘é€‰ç‰¹å®šèŒƒå›´çš„å€¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">title1 = <span class="string">&#x27;T_P_SLC&#x27;</span></span><br><span class="line">title2 = <span class="string">&#x27;T_R_SLC&#x27;</span></span><br><span class="line"></span><br><span class="line">threshold1  = <span class="number">130</span></span><br><span class="line">threshold2  = <span class="number">60</span></span><br><span class="line"></span><br><span class="line">xlsx_file_path  = <span class="string">&quot;./Xlsx/&quot;</span></span><br><span class="line">out_path_xlsx   = <span class="string">&#x27;./OutPut/&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤è¾“å‡ºæ–‡ä»¶å¤¹å†…æ‰€æœ‰çš„æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">for</span> filename <span class="keyword">in</span> os.listdir(out_path_xlsx):</span><br><span class="line">    file_path = os.path.join(out_path_xlsx, filename)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">if</span> os.path.isfile(file_path):</span><br><span class="line">            os.unlink(file_path)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;rm <span class="subst">&#123;file_path&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;Failed to delete <span class="subst">&#123;file_path&#125;</span>. Reason: <span class="subst">&#123;e&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æµè§ˆå¹¶å¤„ç†ç›®æ ‡æ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">for</span> filename <span class="keyword">in</span> os.listdir(xlsx_file_path):</span><br><span class="line">    file_path = os.path.join(xlsx_file_path, filename)</span><br><span class="line">    out_file_path = os.path.join(out_path_xlsx, filename)</span><br><span class="line">    <span class="built_in">print</span>(file_path)</span><br><span class="line">    <span class="built_in">print</span>(out_file_path)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¯»å–Excelæ–‡ä»¶  </span></span><br><span class="line">    df = pd.read_excel(file_path)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å°†æ–‡æœ¬æ ¼å¼è½¬æ¢ä¸ºæ•´æ•°  </span></span><br><span class="line">    df[title1] = df[title1].astype(<span class="built_in">int</span>)  </span><br><span class="line">    df[title2] = df[title2].astype(<span class="built_in">int</span>)  </span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç­›é€‰å¤§äºé˜ˆå€¼çš„è¡Œ</span></span><br><span class="line">    df_filtered = df[(df[title1] &gt; threshold1) | (df[title2] &gt; threshold2)]  </span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¿å­˜ç­›é€‰åçš„æ•°æ®åˆ°æ–°çš„Excelæ–‡ä»¶  </span></span><br><span class="line">    df_filtered.to_excel(out_file_path, index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><h2 id="ğŸš€-ç»Ÿè®¡Datæ–‡ä»¶ä¸­å„ä¸ªæ•°å€¼çš„æ•°é‡"><a href="#ğŸš€-ç»Ÿè®¡Datæ–‡ä»¶ä¸­å„ä¸ªæ•°å€¼çš„æ•°é‡" class="headerlink" title="ğŸš€ ç»Ÿè®¡Datæ–‡ä»¶ä¸­å„ä¸ªæ•°å€¼çš„æ•°é‡"></a>ğŸš€ ç»Ÿè®¡Datæ–‡ä»¶ä¸­å„ä¸ªæ•°å€¼çš„æ•°é‡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;a.dat&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = f.read()</span><br><span class="line"></span><br><span class="line">counter = collections.Counter(data)</span><br><span class="line">x = <span class="built_in">list</span>(counter.keys())</span><br><span class="line">y = <span class="built_in">list</span>(counter.values())</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> <span class="built_in">sorted</span>(counter.keys()):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;key&#125;</span> : <span class="subst">&#123;counter[key]&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.bar(x, y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h2 id="ğŸš€-å°†txtæ–‡ä»¶ä»¥ç©ºæ ¼è¿›è¡Œåˆ†éš”å¹¶æ‰¹é‡è½¬æ¢ä¸ºxlsxæ–‡ä»¶"><a href="#ğŸš€-å°†txtæ–‡ä»¶ä»¥ç©ºæ ¼è¿›è¡Œåˆ†éš”å¹¶æ‰¹é‡è½¬æ¢ä¸ºxlsxæ–‡ä»¶" class="headerlink" title="ğŸš€ å°†txtæ–‡ä»¶ä»¥ç©ºæ ¼è¿›è¡Œåˆ†éš”å¹¶æ‰¹é‡è½¬æ¢ä¸ºxlsxæ–‡ä»¶"></a>ğŸš€ å°†txtæ–‡ä»¶ä»¥ç©ºæ ¼è¿›è¡Œåˆ†éš”å¹¶æ‰¹é‡è½¬æ¢ä¸ºxlsxæ–‡ä»¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">out_path_txt = <span class="string">&#x27;./Out/Txt/&#x27;</span></span><br><span class="line">out_path_xlsx = <span class="string">&#x27;./Out/Xlsx/&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤ ./Out/Xlsx/ æ–‡ä»¶å¤¹å†…æ‰€æœ‰çš„æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">for</span> filename <span class="keyword">in</span> os.listdir(out_path_xlsx):</span><br><span class="line">    file_path = os.path.join(out_path_xlsx, filename)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">if</span> os.path.isfile(file_path):</span><br><span class="line">            os.unlink(file_path)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;rm <span class="subst">&#123;file_path&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;Failed to delete <span class="subst">&#123;file_path&#125;</span>. Reason: <span class="subst">&#123;e&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æµè§ˆå¹¶å¤„ç†ç›®æ ‡æ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">for</span> filename <span class="keyword">in</span> os.listdir(out_path_txt):</span><br><span class="line">    file_path = os.path.join(out_path_txt, filename)</span><br><span class="line">    outPut_path = os.path.join(out_path_xlsx, filename)[<span class="number">0</span>:-<span class="number">3</span>] + <span class="string">&#x27;xlsx&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;create <span class="subst">&#123;outPut_path&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="comment"># è¯»å–CSVæ–‡ä»¶  </span></span><br><span class="line">    df = pd.read_csv(file_path, sep=<span class="string">&quot; &quot;</span>, header=<span class="number">0</span>)</span><br><span class="line">    <span class="comment"># å°†DataFrameä¿å­˜ä¸ºxlsxæ–‡ä»¶  </span></span><br><span class="line">    df.to_excel(outPut_path, index=<span class="literal">False</span>, engine=<span class="string">&#x27;openpyxl&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="ğŸš€-å°†å›¾ç‰‡è½¬æ¢ä¸ºcæ–‡ä»¶"><a href="#ğŸš€-å°†å›¾ç‰‡è½¬æ¢ä¸ºcæ–‡ä»¶" class="headerlink" title="ğŸš€ å°†å›¾ç‰‡è½¬æ¢ä¸ºcæ–‡ä»¶"></a>ğŸš€ å°†å›¾ç‰‡è½¬æ¢ä¸ºcæ–‡ä»¶</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">from PIL import Image  </span><br><span class="line">import os  </span><br><span class="line"></span><br><span class="line"># å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå°†RGB888æ ¼å¼è½¬æ¢ä¸ºRGB565æ ¼å¼</span><br><span class="line">def <span class="title function_">rgb888_to_rgb565</span><span class="params">(r, g, b, Little_Endian=<span class="number">0</span>)</span>:</span><br><span class="line">    # å°†8ä½çš„R,G,Bå€¼åˆ†åˆ«å³ç§»3,2,3ä½ï¼Œå¾—åˆ°5ä½çš„R,G,Bå€¼</span><br><span class="line">    r = r &gt;&gt; <span class="number">3</span></span><br><span class="line">    g = g &gt;&gt; <span class="number">2</span></span><br><span class="line">    b = b &gt;&gt; <span class="number">3</span></span><br><span class="line">    # å°†<span class="number">5</span>ä½çš„R,G,Bå€¼æ‹¼æ¥æˆ<span class="number">16</span>ä½çš„RGB565å€¼ï¼Œé«˜ä½åœ¨å‰ï¼Œä½ä½åœ¨å</span><br><span class="line">    rgb565 = (r &lt;&lt; <span class="number">11</span>) | (g &lt;&lt; <span class="number">5</span>) | b</span><br><span class="line">    # å°ç«¯æ¨¡å¼éœ€è¦è°ƒæ¢é«˜ä½ä½</span><br><span class="line">    <span class="keyword">if</span> Little_Endian != <span class="number">0</span>:</span><br><span class="line">        rgb565 = (rgb565 &gt;&gt; <span class="number">8</span>) | ((rgb565 &amp; <span class="number">0xFF</span>) &lt;&lt; <span class="number">8</span>)</span><br><span class="line">    # è¿”å›RGB565å€¼</span><br><span class="line">    <span class="keyword">return</span> rgb565</span><br><span class="line"></span><br><span class="line"># å°†å›¾åƒæ–‡ä»¶ä»¥RGB565çš„æ ¼å¼å†™å…¥åˆ°.cæ–‡ä»¶ </span><br><span class="line">def img_to_cFile(img_name, cFile_name):</span><br><span class="line">    # æ‰“å¼€å›¾åƒæ–‡ä»¶å¹¶è½¬æ¢ä¸ºRGBæ¨¡å¼  </span><br><span class="line">    img = Image.open(img_name).convert(<span class="string">&quot;RGB&quot;</span>)  </span><br><span class="line">    # è·å–å›¾åƒçš„å®½åº¦å’Œé«˜åº¦  </span><br><span class="line">    width, height = img.size  </span><br><span class="line">    with open(cFile_name, <span class="string">&quot;w&quot;</span>) as f:  </span><br><span class="line">        f.write(f<span class="string">&quot;// width = &#123;width&#125;, height = &#123;height&#125;\n&quot;</span>)</span><br><span class="line">        f.write(f<span class="string">&quot;const unsigned short img_&#123;os.path.basename(cFile_name)[:-2]&#125;[] = &#123;&#123;&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> y in range(height):  </span><br><span class="line">            <span class="keyword">for</span> x in range(width):  </span><br><span class="line">                # è·å–å½“å‰åƒç´ çš„RGBå€¼  </span><br><span class="line">                r, g, b = img.getpixel((x, y))  </span><br><span class="line">                </span><br><span class="line">                # å°†RGBå€¼è½¬æ¢ä¸ºRGB565æ ¼å¼  </span><br><span class="line">                rgb565 = rgb888_to_rgb565(r, g, b, <span class="number">1</span>)</span><br><span class="line">                </span><br><span class="line">                # æ¯<span class="number">16</span>ä¸ªæ•°æ®æ·»åŠ ä¸€ä¸ªæ¢è¡Œ</span><br><span class="line">                <span class="keyword">if</span> (x % <span class="number">16</span> == <span class="number">0</span>):</span><br><span class="line">                    f.write(<span class="string">&quot;\n    &quot;</span>)</span><br><span class="line"></span><br><span class="line">                # å°†RGB565æ ¼å¼å†™å…¥æ–‡ä»¶ </span><br><span class="line">                <span class="keyword">if</span> x == width - <span class="number">1</span> and y == height - <span class="number">1</span>:      # æœ€åä¸€ä¸ªæ•°æ®ä¸ç”¨åŠ é€—å·</span><br><span class="line">                    f.write(<span class="string">&quot;0x&#123;:04x&#125;\n&quot;</span>.format(rgb565))</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    f.write(<span class="string">&quot;0x&#123;:04x&#125;, &quot;</span>.format(rgb565))</span><br><span class="line">        f.write(<span class="string">&quot;&#125;;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"># åˆ é™¤æ–‡ä»¶å¤¹å†…æ‰€æœ‰çš„æ–‡ä»¶</span><br><span class="line">def rm_path_file(path_name):</span><br><span class="line">    <span class="keyword">for</span> filename in os.listdir(path_name):</span><br><span class="line">        file_path = os.path.join(path_name, filename)</span><br><span class="line">        try:</span><br><span class="line">            <span class="keyword">if</span> os.path.isfile(file_path):</span><br><span class="line">                os.unlink(file_path)</span><br><span class="line">                print(f<span class="number">&#x27;</span>rm &#123;file_path&#125;<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">        except Exception as e:</span></span><br><span class="line"><span class="string">            print(f&#x27;</span>Failed to delete &#123;file_path&#125;. Reason: &#123;e&#125;<span class="string">&#x27;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># å®šä¹‰æ–‡ä»¶å¤¹è·¯å¾„  </span></span><br><span class="line"><span class="string">img_path = &#x27;</span>./img/<span class="string">&#x27;        # æ”¾ç½®å›¾ç‰‡çš„ç›®å½•</span></span><br><span class="line"><span class="string">cFile_path = &#x27;</span>./cFile/<span class="string">&#x27;    # ç”Ÿæˆ.cæ–‡ä»¶çš„ç›®å½•</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">if __name__ == &#x27;</span>__main__<span class="number">&#x27;</span>: </span><br><span class="line">    rm_path_file(cFile_path)    # åˆ é™¤cæ–‡ä»¶å¤¹å†…åŸæœ‰çš„æ–‡ä»¶</span><br><span class="line">    # è·å–æ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰æ–‡ä»¶  </span><br><span class="line">    files = os.listdir(img_path)  </span><br><span class="line">    # æ‰“å°æ¯ä¸ªæ–‡ä»¶å  </span><br><span class="line">    <span class="keyword">for</span> file in files:  </span><br><span class="line">        img_name = os.path.join(img_path, file)</span><br><span class="line">        # æ£€æŸ¥æ˜¯å¦ä¸ºæ–‡ä»¶ï¼Œæ’é™¤å­æ–‡ä»¶å¤¹  </span><br><span class="line">        <span class="keyword">if</span> os.path.isfile(img_name):  </span><br><span class="line">            cFile_name = os.path.splitext(file)[<span class="number">0</span>] + <span class="string">&#x27;.c&#x27;</span></span><br><span class="line">            cFile_name = os.path.join(cFile_path, cFile_name)</span><br><span class="line">            img_to_cFile(img_name, cFile_name)</span><br><span class="line">            print(cFile_name)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTMLå­¦ä¹ ç¬”è®°</title>
      <link href="/2023/04/11/%E7%AC%94%E8%AE%B0/HTML%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/04/11/%E7%AC%94%E8%AE%B0/HTML%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>ğŸš² ğŸš— âœˆï¸ ğŸš€</p><h2 id="ğŸš€-HTMLç®€ä»‹"><a href="#ğŸš€-HTMLç®€ä»‹" class="headerlink" title="ğŸš€ HTMLç®€ä»‹"></a>ğŸš€ HTMLç®€ä»‹</h2><ul><li>HTML çš„è‹±æ–‡å…¨ç§°æ˜¯ Hyper Text Markup Languageï¼Œå³è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ã€‚</li><li>HTML æ˜¯æ‰€æœ‰ç½‘ç«™çš„åŸºç¡€ï¼Œæˆ‘ä»¬æ‰€çœ‹åˆ°çš„æ‰€æœ‰ç½‘ç«™éƒ½æ˜¯ç”± HTML æ„æˆçš„ã€‚</li><li>HTML æœ€åˆäº1989å¹´ç”± CERN çš„ Tim Berners-Lee å‘æ˜ã€‚HTML åŸºäºæ›´å¤è€ä¸€äº›çš„è¯­è¨€ SGML å®šä¹‰ï¼Œå¹¶ç®€åŒ–äº†å…¶ä¸­çš„è¯­è¨€å…ƒç´ ã€‚è¿™äº›å…ƒç´ ç”¨äºå‘Šè¯‰æµè§ˆå™¨å¦‚ä½•åœ¨ç”¨æˆ·çš„å±å¹•ä¸Šå±•ç¤ºæ•°æ®ï¼Œæ‰€ä»¥å¾ˆæ—©å°±å¾—åˆ°å„ä¸ªWebæµè§ˆå™¨å‚å•†çš„æ”¯æŒã€‚</li></ul><h2 id="ğŸš€-ç¬¬ä¸€ä¸ªç¨‹åº"><a href="#ğŸš€-ç¬¬ä¸€ä¸ªç¨‹åº" class="headerlink" title="ğŸš€ ç¬¬ä¸€ä¸ªç¨‹åº"></a>ğŸš€ ç¬¬ä¸€ä¸ªç¨‹åº</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>helloç¨‹åº<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ä¸€çº§æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>äºŒçº§æ ‡é¢˜<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://www.hilinkk.cn/medias/banner/1.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;æµ‹è¯•å›¾ç‰‡&quot;</span> <span class="attr">width</span>=<span class="string">&quot;480px&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        hello world</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.hilinkk.cn/&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>é¦–é¡µç½‘å€<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><a href="https://www.runoob.com/try/try.php?filename=tryhtml_intro" target="_blank">åœ¨çº¿æµ‹è¯•é“¾æ¥</a></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="../../images/HTMLå­¦ä¹ ç¬”è®°/image-20230412004216570.png" alt="ç¨‹åºè¿è¡Œæ•ˆæœ"></p><h2 id="ğŸš€-ä¸ªäººç›¸å†Œ"><a href="#ğŸš€-ä¸ªäººç›¸å†Œ" class="headerlink" title="ğŸš€ ä¸ªäººç›¸å†Œ"></a>ğŸš€ ä¸ªäººç›¸å†Œ</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>æˆ‘çš„ç›¸å†Œ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/* ç½‘é¡µæ ·å¼ */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-family</span>: Arial, sans-serif;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-top</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">flex-wrap</span>: wrap;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.card</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-bottom</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">4px</span> <span class="number">8px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">300px</span>; <span class="comment">/* è®¾ç½®å›¾ç‰‡é«˜åº¦ */</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.card</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">16px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100%</span>; <span class="comment">/* è®¾ç½®å›¾ç‰‡é«˜åº¦ */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">object-fit</span>: cover; <span class="comment">/* å¡«å……æ•´ä¸ªå›¾ç‰‡åŒºåŸŸ */</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span> <span class="selector-class">.desc</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç½‘é¡µæ ‡é¢˜ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>æˆ‘çš„ç›¸å†Œ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å›¾ç‰‡å±•ç¤ºåŒºåŸŸ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://www.hilinkk.cn/medias/banner/1.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;å›¾ç‰‡1&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;desc&quot;</span>&gt;</span>å›¾ç‰‡1æè¿°<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://www.hilinkk.cn/medias/banner/2.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;å›¾ç‰‡2&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;desc&quot;</span>&gt;</span>å›¾ç‰‡2æè¿°<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://www.hilinkk.cn/medias/banner/3.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;å›¾ç‰‡3&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;desc&quot;</span>&gt;</span>å›¾ç‰‡3æè¿°<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://www.hilinkk.cn/medias/banner/4.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;å›¾ç‰‡4&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;desc&quot;</span>&gt;</span>å›¾ç‰‡4æè¿°<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://www.hilinkk.cn/medias/banner/5.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;å›¾ç‰‡5&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;desc&quot;</span>&gt;</span>å›¾ç‰‡5æè¿°<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://www.hilinkk.cn/medias/banner/6.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;å›¾ç‰‡6&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;desc&quot;</span>&gt;</span>å›¾ç‰‡6æè¿°<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- æ·»åŠ æ›´å¤šå›¾ç‰‡ --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;div class=&quot;card&quot;&gt;</span></span><br><span class="line"><span class="comment">            &lt;img src=&quot;imgNum.jpg&quot; alt=&quot;å›¾ç‰‡&quot;&gt;</span></span><br><span class="line"><span class="comment">            &lt;div class=&quot;desc&quot;&gt;å›¾ç‰‡æè¿°&lt;/div&gt;</span></span><br><span class="line"><span class="comment">        &lt;/div&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š<br><img src="../../images/HTMLå­¦ä¹ ç¬”è®°/image-20230415163659355.png" alt="ä¸ªäººç›¸å†Œç½‘é¡µæ•ˆæœ"></p><h2 id="ğŸš€-èµ„æ–™æ±‡æ€»"><a href="#ğŸš€-èµ„æ–™æ±‡æ€»" class="headerlink" title="ğŸš€ èµ„æ–™æ±‡æ€»"></a>ğŸš€ èµ„æ–™æ±‡æ€»</h2><h3 id="âœˆï¸-å­¦ä¹ ç½‘ç«™"><a href="#âœˆï¸-å­¦ä¹ ç½‘ç«™" class="headerlink" title="âœˆï¸ å­¦ä¹ ç½‘ç«™"></a>âœˆï¸ å­¦ä¹ ç½‘ç«™</h3><p>W3Cï¼šwww.w3c.org</p><p>W3Schoolï¼š<a href="https://www.w3school.com.cn/">https://www.w3school.com.cn/</a></p><p>MDNï¼š<a href="https://developer.mozilla.org/zh-CN/">https://developer.mozilla.org/zh-CN/</a></p><p>HTML5 æ•™ç¨‹ï¼š<a href="https://www.runoob.com/html/html5-intro.html">https://www.runoob.com/html/html5-intro.html</a></p><p>HTMlæ–‡æ¡£åœ°å€ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element">https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element</a></p><h3 id="âœˆï¸-è§†é¢‘æ•™ç¨‹"><a href="#âœˆï¸-è§†é¢‘æ•™ç¨‹" class="headerlink" title="âœˆï¸ è§†é¢‘æ•™ç¨‹"></a>âœˆï¸ è§†é¢‘æ•™ç¨‹</h3><p>Bç«™ - è¶…ç®€å•HTMLå…¥é—¨æ•™ç¨‹ï¼š<a href="https://www.bilibili.com/video/BV1gP4y1E75S/">https://www.bilibili.com/video/BV1gP4y1E75S/</a></p><p>Bç«™ - pinkè€å¸ˆå‰ç«¯å…¥é—¨æ•™ç¨‹ï¼š<a href="https://www.bilibili.com/video/BV14J4114768/">https://www.bilibili.com/video/BV14J4114768/</a></p><p>Bç«™ - å°šç¡…è°·å‰ç«¯html+cssé›¶åŸºç¡€æ•™ç¨‹ï¼š<a href="https://www.bilibili.com/video/BV1p84y1P7Z5/">https://www.bilibili.com/video/BV1p84y1P7Z5/</a></p><h3 id="âœˆï¸-å·¥å…·"><a href="#âœˆï¸-å·¥å…·" class="headerlink" title="âœˆï¸ å·¥å…·"></a>âœˆï¸ å·¥å…·</h3><p>åœ¨çº¿ç¼–è¾‘å·¥å…·ï¼š<a href="https://www.runoob.com/try/try.php?filename=tryhtml_intro">https://www.runoob.com/try/try.php?filename=tryhtml_intro</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éšæœºæ•°ç”Ÿæˆç®—æ³•</title>
      <link href="/2023/04/11/%E7%AC%94%E8%AE%B0/%E9%9A%8F%E6%9C%BA%E6%95%B0%E7%94%9F%E6%88%90%E7%AE%97%E6%B3%95/"/>
      <url>/2023/04/11/%E7%AC%94%E8%AE%B0/%E9%9A%8F%E6%9C%BA%E6%95%B0%E7%94%9F%E6%88%90%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>ğŸš² ğŸš— âœˆï¸ ğŸš€</p><h2 id="ğŸš€-è¾ƒä¸ºçœŸå®çš„éšæœºæ•°è·å–"><a href="#ğŸš€-è¾ƒä¸ºçœŸå®çš„éšæœºæ•°è·å–" class="headerlink" title="ğŸš€ è¾ƒä¸ºçœŸå®çš„éšæœºæ•°è·å–"></a>ğŸš€ è¾ƒä¸ºçœŸå®çš„éšæœºæ•°è·å–</h2><p>ä¸€ä¸ªéšæœºæ•°éœ€è¦æ»¡è¶³ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><p>1ã€åœ¨è§„å®šçš„æ•°å€¼èŒƒå›´å†…ï¼Œæ¯ä¸ªæ•°å€¼å‡ºç°çš„æ¦‚ç‡ç›¸åŒï¼Œç»è¿‡ä¸€å®šæ¬¡æ•°çš„ç”Ÿæˆä¹‹åå¯ä»¥è¦†ç›–è¯¥èŒƒå›´å†…çš„æ‰€æœ‰å€¼ã€‚</p><p>2ã€ä¸èƒ½é€šè¿‡ä»»ä½•ç®—æ³•æ¨å¯¼å‡ºä¸‹ä¸€ä¸ªæ•°å­—ã€‚</p><p>ç”±äºä¸Šè¿°ç¬¬äºŒä¸ªæ¡ä»¶çš„é™åˆ¶ï¼ŒçœŸæ­£çš„éšæœºæ•°æ˜¯ä¸èƒ½é€šè¿‡ç®—æ³•ç”Ÿæˆçš„ã€‚ä¸€èˆ¬å¯ä»¥ç”¨ç¡¬ä»¶ä¿¡æ¯æ¥è·å–ï¼Œä¾‹å¦‚ï¼š</p><p>1ã€å®šæ—¶å™¨çš„å€¼ã€‚</p><p>2ã€è·å–ADCé‡‡æ ·çš„å€¼ã€‚</p><p>3ã€åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨çš„å€¼ã€‚</p><p>ä¸è¿‡ç”±äºè¿™äº›æ•°å€¼çŸ­æ—¶é—´å†…çš„å˜åŒ–ä¸æ˜¯å¾ˆå¤§ï¼Œå› æ­¤ä¸èƒ½åœ¨çŸ­æ—¶é—´å†…è¿ç»­è·å–ã€‚</p><h2 id="ğŸš€-ä¼ªéšæœºæ•°ç®—æ³•"><a href="#ğŸš€-ä¼ªéšæœºæ•°ç®—æ³•" class="headerlink" title="ğŸš€ ä¼ªéšæœºæ•°ç®—æ³•"></a>ğŸš€ ä¼ªéšæœºæ•°ç®—æ³•</h2><p>ä¸€ä¸ªè‰¯å¥½çš„éšæœºæ•°å‘ç”Ÿå™¨åº”å½“å…·å¤‡ä»¥ä¸‹å‡ ä¸ªç‰¹æ€§ï¼š</p><p>1ã€äº§ç”Ÿçš„éšæœºæ•°è¦å…·æœ‰å‡åŒ€æ€»ä½“éšæœºæ ·æœ¬çš„ç»Ÿè®¡æ€§è´¨ï¼Œå¦‚åˆ†å¸ƒçš„å‡åŒ€æ€§ï¼ŒæŠ½æ ·çš„éšæœºæ€§ï¼Œæ•°åˆ—é—´çš„ç‹¬ç«‹æ€§ç­‰ã€‚<br>2ã€äº§ç”Ÿçš„æ•°åˆ—è¦æœ‰è¶³å¤Ÿé•¿çš„å‘¨æœŸï¼Œä»¥æ»¡è¶³æ¨¡æ‹Ÿè®¡ç®—çš„éœ€è¦ã€‚<br>3ã€äº§ç”Ÿæ•°åˆ—çš„é€Ÿåº¦è¦å¿«ï¼Œå ç”¨è®¡ç®—æœºçš„å†…å­˜å°‘ï¼Œå…·æœ‰å®Œå…¨å¯é‡å¤æ€§ã€‚</p><h3 id="âœˆï¸-çº¿æ€§åŒä½™æ³•ï¼ˆLCGï¼‰"><a href="#âœˆï¸-çº¿æ€§åŒä½™æ³•ï¼ˆLCGï¼‰" class="headerlink" title="âœˆï¸ çº¿æ€§åŒä½™æ³•ï¼ˆLCGï¼‰"></a>âœˆï¸ çº¿æ€§åŒä½™æ³•ï¼ˆLCGï¼‰</h3><p>â€‹        çº¿æ€§åŒä½™æ³•æ˜¯ç›®å‰åº”ç”¨æœ€å¹¿æ³›çš„æ–¹æ³•ä¹‹ä¸€ï¼Œå¾ˆå¤šç¼–ç¨‹è¯­è¨€çš„éšæœºæ•°ç”Ÿæˆ API ä¹Ÿæœ‰é‡‡ç”¨è¿™ç§æ–¹æ³•ï¼Œå®ƒåˆ©ç”¨æ•°è®ºä¸­çš„åŒä½™è¿ç®—æ¥äº§ç”Ÿéšæœºæ•°ï¼Œæ‰€ä»¥ç§°ä¸ºåŒä½™å‘ç”Ÿå™¨ï¼Œä¸€èˆ¬é€’æ¨å…¬å¼ä¸º: </p><p><img src="../../images/éšæœºæ•°ç”Ÿæˆç®—æ³•/image-20230411202308654.png" alt=""></p><p>â€‹        å…¶ä¸­ aã€cã€m éƒ½æ˜¯å¸¸æ•°ï¼Œ$x_n$ æ˜¯äº§ç”Ÿçš„éšæœºæ•°åºåˆ—ã€‚å³ç”¨ä¸Šä¸€ä¸ªéšæœºæ•°  x~n-1~ æ ¹æ®å…¬å¼è®¡ç®—å‡ºéšæœºæ•° x~n~ï¼Œä¸€å¼€å§‹æ—¶è¦ç»™ä¸ªåˆå€¼ x~0~ï¼Œä¹Ÿå«éšæœºæ•°ç§å­ã€‚å› ä¸ºåé¢åŠ äº†ä¸ªå–ä½™ m çš„è¿ç®—ï¼Œæ‰€ä»¥äº§ç”Ÿçš„éšæœºæ•°èŒƒå›´æ˜¯ 0 åˆ° mã€‚Cè¯­è¨€çš„ rand() å‡½æ•°ä¹Ÿé‡‡ç”¨äº†è¿™ç§æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> next = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">rand</span><span class="params">(<span class="type">void</span>)</span> <span class="comment">// RAND_MAX assumed to be 32767</span></span><br><span class="line">&#123;</span><br><span class="line">    next = next * <span class="number">1103515245</span> + <span class="number">12345</span>;</span><br><span class="line">    <span class="keyword">return</span> (<span class="type">unsigned</span> <span class="type">int</span>)(next / <span class="number">65536</span>) % <span class="number">32768</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># æ”¹å˜seedçš„å€¼ï¼Œå¯ä¼ å…¥å®šæ—¶å™¨çš„å€¼</span><br><span class="line"><span class="type">void</span> <span class="title function_">srand</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> seed)</span></span><br><span class="line">&#123;</span><br><span class="line">    next = seed;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯è°ƒæ•´ aã€c çš„å€¼æ¥æ”¹å˜éšæœºæ•°çš„å‡åŒ€æ€§ï¼Œå½“ a = 9ï¼Œc = 7 æ•ˆæœè¾ƒä¸ºç†æƒ³ã€‚</p><p>ä¸‹é¢æ˜¯ç”¨æ¥éªŒè¯æ­¤ç®—æ³•çš„ python ç¨‹åºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">wTestNum = <span class="number">1000</span>     <span class="comment"># æµ‹è¯•æ¬¡æ•°</span></span><br><span class="line">wrange = <span class="number">128</span>        <span class="comment"># éšæœºæ•°èŒƒå›´</span></span><br><span class="line">RandSeed = <span class="number">0x1234</span>   <span class="comment"># éšæœºç§å­ï¼Œéšä¾¿å–ä¸€ä¸ªæ•°ï¼Œå•ç‰‡æœºå¯ä»¥åˆ©ç”¨å®šæ—¶å™¨æˆ–è€…ADCè·å–</span></span><br><span class="line">wTempValue = <span class="number">0</span></span><br><span class="line">wpTempdata = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">myRand</span>(<span class="params">numRange</span>):</span><br><span class="line">    <span class="keyword">global</span> RandSeed</span><br><span class="line">    RandSeed = ((RandSeed * <span class="number">1103515245</span>) + <span class="number">12345</span>)  <span class="comment"># é‡æ–°è®¡ç®—éšæœºæ•°ç§å­</span></span><br><span class="line">    <span class="comment"># return ((wseed // 65536) % numRange)</span></span><br><span class="line">    <span class="keyword">return</span> ((RandSeed &gt;&gt; <span class="number">16</span>) % numRange)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(wTestNum):</span><br><span class="line">    wTempValue = myRand(wrange)</span><br><span class="line">    <span class="comment"># ç»Ÿè®¡å„ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line">    <span class="keyword">if</span> wTempValue <span class="keyword">in</span> wpTempdata:</span><br><span class="line">        wpTempdata[wTempValue] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        wpTempdata[wTempValue] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(wpTempdata)</span></span><br><span class="line">plt.bar([x <span class="keyword">for</span> x <span class="keyword">in</span> wpTempdata], [wpTempdata[x] <span class="keyword">for</span> x <span class="keyword">in</span> wpTempdata])</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å†³ä¸­æ–‡æ˜¾ç¤ºé—®é¢˜</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line">plt.xlabel(<span class="string">&#x27;éšæœºæ•°å€¼&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;äº§ç”Ÿçš„æ¬¡æ•°/æ¬¡&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å½“æµ‹è¯•æ¬¡æ•°ä¸º1000 æ—¶ï¼Œç”Ÿæˆçš„å›¾ç‰‡å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="../../images/éšæœºæ•°ç”Ÿæˆç®—æ³•/image-20230403202319366.png" alt="LCG-æµ‹è¯•æ¬¡æ•°ä¸º1000æ—¶"></p><p>å½“æµ‹è¯•æ¬¡æ•°ä¸º10000 æ—¶ï¼Œç”Ÿæˆçš„å›¾ç‰‡å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="../../images/éšæœºæ•°ç”Ÿæˆç®—æ³•/image-20230403202446600.png" alt="LCG-æµ‹è¯•æ¬¡æ•°ä¸º10000æ—¶"></p><p>ç”±ä¸Šé¢ä¸¤å›¾åˆ†æå¯å¾—ï¼šæ­¤ç®—æ³•ç®—å‡ºæ¥çš„éšæœºæ•°å…·æœ‰å‡åŒ€æ€»ä½“éšæœºæ ·æœ¬çš„ç»Ÿè®¡æ€§è´¨ï¼Œä¸»è¦<strong>ä¼˜ç‚¹</strong>æœ‰ï¼š</p><p>1ã€ç®—æ³•ç®€å•ï¼Œå ç”¨å†…å­˜å°ï¼Œè¿ç®—é‡å°ã€‚</p><p>ä¸»è¦ç¼ºç‚¹æœ‰ï¼š</p><p>1ã€æ­¤ä¼ªéšæœºåºåˆ—å…·æœ‰å‘¨æœŸæ€§ï¼Œå»ºè®®æ¯é—´éš”ä¸€æ®µæ—¶é—´å°±æ”¹å˜ä¸€æ¬¡éšæœºç§å­çš„å€¼ã€‚</p><p>2ã€å„ä¸ªæ•°å­—å‡ºç°çš„æ¦‚ç‡ç›¸å·®è¾ƒå¤§ã€‚</p><p>3ã€ç®—æ³•ç®€å•ï¼Œå®¹æ˜“è¢«åæ¨å‡º a å’Œ c çš„å€¼ï¼Œè¿›è€Œè¢«ç ´è§£ç®—å‡ºä¸‹ä¸€ä¸ªâ€œéšæœºæ•°â€ã€‚</p><p>å› æ­¤ï¼Œçº¿æ€§åŒä½™æ³•ç®—æ³•é€‚ç”¨äºå¯¹ç³»ç»Ÿå®æ—¶æ€§è¦æ±‚é«˜ï¼Œç®—åŠ›è¾ƒä½ï¼Œè¦æ±‚ä¸ä¸¥æ ¼çš„åœºåˆã€‚å¯ä»¥å°†å®šæ—¶å™¨å€¼æˆ–å…¶ä»–ç¡¬ä»¶æ•°å€¼ä½œä¸ºéšæœºç§å­ï¼Œæé«˜æ•°å€¼çš„éšæœºæ€§ã€‚</p><p>ä¸”ç»æœ¬äººæµ‹è¯•ï¼Œå»æ‰ â€œ&gt;&gt; 16â€ è¿™æ¡è¯­å¥ä¹‹åï¼Œå„éšæœºæ•°å‡ºç°æ¦‚ç‡å°±å®Œå…¨ä¸€è‡´äº†ï¼Œä¸è¿‡è¿™æœ‰åˆ©æœ‰å¼Šï¼Œåªé€‚ç”¨äºç”Ÿæˆä¸ä¼šé‡å¤çš„æ•°åˆ—ï¼Œä¾‹å¦‚éšæœºç¿»è½¬ä¸€æ®µå†…å­˜ä¸­çš„éšæœºå‡ ä¸ª bitã€‚</p><h3 id="âœˆï¸-åé¦ˆä½ç§»å¯„å­˜å™¨æ³•ï¼ˆFSRï¼‰"><a href="#âœˆï¸-åé¦ˆä½ç§»å¯„å­˜å™¨æ³•ï¼ˆFSRï¼‰" class="headerlink" title="âœˆï¸ åé¦ˆä½ç§»å¯„å­˜å™¨æ³•ï¼ˆFSRï¼‰"></a>âœˆï¸ åé¦ˆä½ç§»å¯„å­˜å™¨æ³•ï¼ˆFSRï¼‰</h3><p>â€‹        åé¦ˆä½ç§»å¯„å­˜å™¨æ³•é€šè¿‡å¯¹å¯„å­˜å™¨è¿›è¡Œä½ç§»ï¼Œç›´æ¥åœ¨å­˜å‚¨å•å…ƒä¸­å½¢æˆéšæœºæ•°ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼Œå› æ­¤å¾ˆå¤šMCUä¸»æ§é‡Œé›†æˆçš„éšæœºæ•°æ¨¡å—éƒ½é‡‡ç”¨äº†ç±»ä¼¼çš„æ–¹æ³•ã€‚</p><p>pythonæµ‹è¯•ç¨‹åºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">wTestNum = <span class="number">40000</span>    <span class="comment"># æµ‹è¯•æ¬¡æ•°</span></span><br><span class="line">wrange = <span class="number">128</span>        <span class="comment"># éšæœºæ•°èŒƒå›´</span></span><br><span class="line">wseed = <span class="number">0x1234</span>      <span class="comment"># éšæœºç§å­ï¼Œéšä¾¿å–ä¸€ä¸ªæ•°ï¼Œå•ç‰‡æœºå¯ä»¥åˆ©ç”¨å®šæ—¶å™¨æˆ–è€…ADCè·å–</span></span><br><span class="line">wTempValue = <span class="number">0</span></span><br><span class="line">wpTempdata = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">myRand</span>(<span class="params">numRange</span>):</span><br><span class="line">    <span class="keyword">global</span> wseed</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">16</span>):</span><br><span class="line">        wseed = ((wseed &lt;&lt; <span class="number">1</span>) &amp; <span class="number">0xFFFF</span>)</span><br><span class="line">        wseed |= (((wseed &gt;&gt; <span class="number">15</span>) ^ (wseed &gt;&gt; <span class="number">14</span>)) &amp; <span class="number">0x01</span>)</span><br><span class="line">    Num = wseed % numRange</span><br><span class="line">    <span class="keyword">return</span> Num</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(wTestNum):</span><br><span class="line">    wTempValue = myRand(wrange)</span><br><span class="line">    <span class="comment"># ç»Ÿè®¡å„ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line">    <span class="keyword">if</span> wTempValue <span class="keyword">in</span> wpTempdata:</span><br><span class="line">        wpTempdata[wTempValue] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        wpTempdata[wTempValue] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(wpTempdata)</span></span><br><span class="line">plt.bar([x <span class="keyword">for</span> x <span class="keyword">in</span> wpTempdata], [wpTempdata[x] <span class="keyword">for</span> x <span class="keyword">in</span> wpTempdata])</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å†³ä¸­æ–‡æ˜¾ç¤ºé—®é¢˜</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line">plt.xlabel(<span class="string">&#x27;éšæœºæ•°å€¼&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;äº§ç”Ÿçš„æ¬¡æ•°/æ¬¡&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å½“ wTestNum = 1000 æ—¶ï¼Œç”Ÿæˆçš„å›¾ç‰‡å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="../../images/éšæœºæ•°ç”Ÿæˆç®—æ³•/image-20230406134925793.png" alt="FSR-æµ‹è¯•æ¬¡æ•°ä¸º1000æ—¶"></p><p>å½“ wTestNum = 10000 æ—¶ï¼Œç”Ÿæˆçš„å›¾ç‰‡å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="../../images/éšæœºæ•°ç”Ÿæˆç®—æ³•/image-20230406135026654.png" alt="FSR-æµ‹è¯•æ¬¡æ•°ä¸º10000æ—¶"></p><p>ç»¼ä¸Šæ‰€è¿°ï¼Œåé¦ˆä½ç§»å¯„å­˜å™¨æ³•å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p><p>1ã€åé¦ˆä½ç§»å¯„å­˜å™¨æ³•å¯ä»¥é€šè¿‡å¯¹å¯„å­˜å™¨è¿›è¡Œä½ç§»ï¼Œç›´æ¥åœ¨å­˜å‚¨å•å…ƒä¸­å½¢æˆéšæœºæ•°ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼Œå› æ­¤å¾ˆå¤šMCUä¸»æ§é‡Œé›†æˆçš„éšæœºæ•°æ¨¡å—éƒ½é‡‡ç”¨äº†æ­¤æ–¹æ³•ã€‚</p><p>ç¼ºç‚¹æ˜¯ï¼š</p><p>1ã€å¦‚æœé è½¯ä»¶ç”Ÿæˆä¼šæ¯”è¾ƒæ…¢ã€‚</p><h3 id="âœˆï¸-ç»„åˆéšæœºæ•°å‘ç”Ÿå™¨"><a href="#âœˆï¸-ç»„åˆéšæœºæ•°å‘ç”Ÿå™¨" class="headerlink" title="âœˆï¸ ç»„åˆéšæœºæ•°å‘ç”Ÿå™¨"></a>âœˆï¸ ç»„åˆéšæœºæ•°å‘ç”Ÿå™¨</h3><p>â€‹        å°†ä¸åŒçš„éšæœºæ•°å‘ç”Ÿå™¨è¿›è¡Œçº§è”ç»„åˆï¼Œç”¨ä¸€ç§éšæœºæ•°å‘ç”Ÿå™¨äº§ç”Ÿçš„éšæœºæ•°ä½œä¸ºä¸‹ä¸€ä¸ªéšæœºæ•°å‘ç”Ÿå™¨çš„ç§å­æˆ–è€…ç”¨æ¥æ‰°ä¹±å¦ä¸€ä¸ªéšæœºæ•°å‘ç”Ÿå™¨ï¼Œä»¥æ­¤æ¥è·å¾—æ¯”å•ä¸€éšæœºæ•°å‘ç”Ÿå™¨æ›´å¥½çš„æ•ˆæœã€‚ä¾‹å¦‚ä¸¤ä¸ªçº¿æ€§åŒä½™å‘ç”Ÿå™¨è¿›è¡Œç»„åˆï¼Œç¬¬ä¸€ä¸ªéšæœºæ•°å‘ç”Ÿå™¨äº§ç”Ÿéšæœºæ•°ä½œä¸ºä¸‹ä¸€ä¸ªå‘ç”Ÿå™¨çš„cå‚æ•°æ¥å¯¹ä¸‹ä¸€ä¸ªéšæœºæ•°å‘ç”Ÿå™¨è¿›è¡Œæ‰°åŠ¨ï¼Œä»¥è·å¾—æ¯”å•ä¸€éšæœºæ•°å‘ç”Ÿå™¨æ›´é•¿çš„éšæœºæ•°å‘¨æœŸã€‚</p><h2 id="ğŸš€-å‚è€ƒèµ„æ–™"><a href="#ğŸš€-å‚è€ƒèµ„æ–™" class="headerlink" title="ğŸš€ å‚è€ƒèµ„æ–™"></a>ğŸš€ å‚è€ƒèµ„æ–™</h2><ul><li>éšæœºæ•°ç”Ÿæˆæ–¹æ³•åŠå…¶åº”ç”¨ï¼š<a href="https://blog.csdn.net/qq_34254642/article/details/104011261">https://blog.csdn.net/qq_34254642/article/details/104011261</a></li><li><p>ä¸€ç§åŸºäºçº¿æ€§åé¦ˆä½ç§»å¯„å­˜å™¨çš„éšæœºæ•°ç”Ÿæˆæ–¹æ³•ï¼š<a href="https://blog.csdn.net/qq_34254642/article/details/106819635">https://blog.csdn.net/qq_34254642/article/details/106819635</a></p></li><li><p>å¦‚ä½•ç”Ÿæˆéšæœºæ•°+åŸç†è¯¦ç»†åˆ†æï¼š<a href="https://blog.csdn.net/chenlong_cxy/article/details/112862909">https://blog.csdn.net/chenlong_cxy/article/details/112862909</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vscodeæ’ä»¶å’Œä¸»é¢˜</title>
      <link href="/2023/04/01/%E7%AC%94%E8%AE%B0/vscode%E6%8F%92%E4%BB%B6%E5%92%8C%E4%B8%BB%E9%A2%98/"/>
      <url>/2023/04/01/%E7%AC%94%E8%AE%B0/vscode%E6%8F%92%E4%BB%B6%E5%92%8C%E4%B8%BB%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸš€-æ’ä»¶"><a href="#ğŸš€-æ’ä»¶" class="headerlink" title="ğŸš€ æ’ä»¶"></a>ğŸš€ æ’ä»¶</h2><h3 id="âœˆï¸-Chinese-Simplified"><a href="#âœˆï¸-Chinese-Simplified" class="headerlink" title="âœˆï¸ Chinese (Simplified)"></a>âœˆï¸ Chinese (Simplified)</h3><p>é€‚ç”¨äº VS Code çš„ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰è¯­è¨€åŒ…ã€‚</p><h3 id="âœˆï¸-C-C"><a href="#âœˆï¸-C-C" class="headerlink" title="âœˆï¸ C/C++"></a>âœˆï¸ C/C++</h3><p>ç”¨äºç¼–å†™Cç¨‹åºã€‚</p><h3 id="âœˆï¸-Icons"><a href="#âœˆï¸-Icons" class="headerlink" title="âœˆï¸ Icons"></a>âœˆï¸ Icons</h3><p>ç²¾ç¾æ–‡ä»¶å›¾æ ‡ã€‚</p><p><img src="../../images/vscodeæ’ä»¶å’Œä¸»é¢˜/image-20230401204749400.jpg" alt="Icons"></p><h3 id="âœˆï¸-Rainbow-Brackets"><a href="#âœˆï¸-Rainbow-Brackets" class="headerlink" title="âœˆï¸ Rainbow Brackets"></a>âœˆï¸ Rainbow Brackets</h3><p>å½©è™¹æ‹¬å·ï¼Œè¿™ä¸ºä»£ç çš„ç»“æ„æä¾›äº†æ”¹è¿›çš„è§†è§‰ä½“éªŒã€‚</p><p><span style="color:red">æ­¤åŠŸèƒ½å·²ç»å†…ç½®åœ¨vscodeä¸­äº†ï¼Œä¸éœ€è¦å†å®‰è£…ã€‚ä¸è¿‡éœ€è¦åœ¨è®¾ç½®ä¸­æ‰“å¼€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</span></p><p><img src="../../images/vscodeæ’ä»¶å’Œä¸»é¢˜/image-20230405153131748.png" alt="Vscodeè®¾ç½®æ‹¬å·é¢œè‰²"></p><p>ç„¶ååœ¨ setting.json æ–‡ä»¶ä¸­åŠ å…¥ä¸‹é¢é…ç½®ï¼Œå¯è‡ªå®šä¹‰ä¸ºè‡ªå·±å–œæ¬¢çš„é¢œè‰²ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;workbench.colorCustomizations&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;editorBracketHighlight.foreground1&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#ffd700&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;editorBracketHighlight.foreground2&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#da70d6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;editorBracketHighlight.foreground3&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#179fff&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;editorBracketHighlight.foreground4&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#24d600&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;editorBracketHighlight.foreground5&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#00d8d8&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;editorBracketHighlight.foreground6&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#ee0255&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="../../images/vscodeæ’ä»¶å’Œä¸»é¢˜/image-20230405155132515.png" alt="vscodeé…ç½®æ‹¬å·é¢œè‰²æ•ˆæœå›¾"></p><h3 id="âœˆï¸-Tabnine-AI"><a href="#âœˆï¸-Tabnine-AI" class="headerlink" title="âœˆï¸ Tabnine AI"></a>âœˆï¸ Tabnine AI</h3><p>AI æ™ºèƒ½ä»£ç è¡¥å…¨å·¥å…·ã€‚</p><h3 id="âœˆï¸-Indent-rainbow"><a href="#âœˆï¸-Indent-rainbow" class="headerlink" title="âœˆï¸ Indent-rainbow"></a>âœˆï¸ Indent-rainbow</h3><p>é€šè¿‡æ·»åŠ å½©è‰²æ ‡ç­¾ç¼©è¿›ä½¿æ‚¨çš„ä»£ç æ›´å…·å¯è¯»æ€§ã€‚å®‰è£…åï¼Œæ¯ä¸ªé€‰é¡¹å¡ç¼©è¿›éƒ½ä¼šåœ¨ç¼–è¾‘å™¨ä¸­å‘ˆç°ä¸åŒçš„é¢œè‰²ã€‚</p><p>æ­¤æ‰©å±•å°†å¸®åŠ©æˆ‘ä»¬æ›´å¿«åœ°äº†è§£ä»£ç ç»“æ„çš„æµç¨‹ã€‚</p><p>å¯åœ¨ vscode çš„ setting.json ä¸­ä¿®æ”¹é¢œè‰²å’Œé€æ˜åº¦ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;indentRainbow.colors&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;rgba(255,255,64,0.2)&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;rgba(127,255,127,0.2)&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;rgba(79,236,236,0.2)&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;rgba(0,191,255,0.2)&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;indentRainbow.errorColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgba(255,0,0,0.3)&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;indentRainbow.tabmixColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rgba(255,0,0,0.3)&quot;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><h3 id="âœˆï¸-background"><a href="#âœˆï¸-background" class="headerlink" title="âœˆï¸ background"></a>âœˆï¸ background</h3><p>å¯çˆ±èè‰èƒŒæ™¯ã€‚</p><p><img src="../../images/vscodeæ’ä»¶å’Œä¸»é¢˜/40583704-6accf3a4-61c6-11e8-8c00-a636b9c3ec65.jpg" alt="background"></p><h3 id="âœˆï¸-Code-Runner"><a href="#âœˆï¸-Code-Runner" class="headerlink" title="âœˆï¸ Code Runner"></a>âœˆï¸ Code Runner</h3><p>ç”¨äºè¿è¡Œä»£ç ã€‚</p><h3 id="âœˆï¸-highlight-words"><a href="#âœˆï¸-highlight-words" class="headerlink" title="âœˆï¸ highlight-words"></a>âœˆï¸ highlight-words</h3><p>ç”¨äºé«˜äº®æ˜¾ç¤ºé€‰ä¸­çš„æ–‡å­—ã€‚</p><p>ä¸‹è½½æ’ä»¶ä¹‹åè¿˜éœ€é…ç½®å¿«æ·é”®ï¼Œåœ¨é”®ç›˜å¿«æ·æ–¹å¼ä¸­æœç´¢ <strong>Highlight Toggle Current</strong> ï¼Œç„¶åé…ç½®å¿«æ·é”®å³å¯ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ <kbd>Ctrl</kbd><kbd>q</kbd> ã€‚</p><p><img src="../../images/vscodeæ’ä»¶å’Œä¸»é¢˜/image-20230410202049973.png" alt="é…ç½®å¿«æ·é”®"></p><p>ç„¶åè¿˜éœ€åœ¨setting.json æ–‡ä»¶ä¸­é…ç½®é«˜äº®æ˜¾ç¤ºçš„é¢œè‰²ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;highlightwords.colors&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;light&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#b3d9ff&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;dark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#b3d9ff&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;light&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#e6ffb3&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;dark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#e6ffb3&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;light&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#b3b3ff&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;dark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#b3b3ff&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;light&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#ffd9b3&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;dark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#ffd9b3&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;light&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#ffb3ff&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;dark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#ffb3ff&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;light&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#ffff80&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;dark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#ffff80&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;light&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#b3ffd3&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;dark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#b3ffd3&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;light&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#ffb3bf&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;dark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#ffb3bf&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;highlightwords.box&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;light&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;dark&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><h3 id="âœˆï¸-Live-Server"><a href="#âœˆï¸-Live-Server" class="headerlink" title="âœˆï¸ Live Server"></a>âœˆï¸ Live Server</h3><p>Live Server çš„ä½œç”¨æ˜¯å¯ä»¥è¾¹ç¼–å†™ HTML ç¨‹åºï¼Œè¾¹æŸ¥çœ‹æ•ˆæœï¼Œå¯ä»¥èŠ‚çœè°ƒè¯•çš„æ—¶é—´ã€‚</p><ul><li>ä½¿ç”¨æ–¹æ³•<ul><li>é¦–å…ˆåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æ­¤ç½‘å€ï¼š<a href="http://127.0.0.1:5500/">http://127.0.0.1:5500/</a></li><li>ç„¶ååœ¨ vscode ä¸­å³é”®ï¼Œé€‰æ‹© Open with Live Server å³å¯ï¼Œåç»­æ— éœ€å†è¿›è¡Œæ­¤æ­¥éª¤ã€‚</li></ul></li></ul><h3 id="âœˆï¸-HTML-CSS-Support"><a href="#âœˆï¸-HTML-CSS-Support" class="headerlink" title="âœˆï¸ HTML CSS Support"></a>âœˆï¸ HTML CSS Support</h3><p>å¯ä»¥åœ¨ç¼–å†™ HTML ä»£ç çš„æ—¶å€™ï¼Œæ™ºèƒ½æç¤º css çš„ id ä»¥åŠç±»åã€‚</p><h3 id="âœˆï¸-image-preview"><a href="#âœˆï¸-image-preview" class="headerlink" title="âœˆï¸ image preview"></a>âœˆï¸ image preview</h3><p>å›¾ç‰‡é¢„è§ˆã€‚</p><h3 id="âœˆï¸-toggle-quotes"><a href="#âœˆï¸-toggle-quotes" class="headerlink" title="âœˆï¸ toggle quotes"></a>âœˆï¸ toggle quotes</h3><p>å¼•å·åˆ‡æ¢ã€‚</p><h3 id="âœˆï¸-Rainbow-Fart"><a href="#âœˆï¸-Rainbow-Fart" class="headerlink" title="âœˆï¸ Rainbow Fart"></a>âœˆï¸ Rainbow Fart</h3><p>ä¸€ä¸ªåœ¨ä½ ç¼–ç¨‹æ—¶æŒç»­å¤¸ä½ å†™çš„ç‰›é€¼çš„æ‰©å±•ï¼Œå®¹æ˜“ç¤¾æ­»ï¼Œè°¨æ…å®‰è£…ã€‚</p><h2 id="ğŸš€-ä¸»é¢˜"><a href="#ğŸš€-ä¸»é¢˜" class="headerlink" title="ğŸš€ ä¸»é¢˜"></a>ğŸš€ ä¸»é¢˜</h2><h3 id="âœˆï¸-Ayuä¸»é¢˜"><a href="#âœˆï¸-Ayuä¸»é¢˜" class="headerlink" title="âœˆï¸ Ayuä¸»é¢˜"></a>âœˆï¸ Ayuä¸»é¢˜</h3><p>ä¸€ä¸ªç®€å•çš„ä¸»é¢˜ä¸æ˜äº®çš„é¢œè‰²ï¼Œæœ‰ä¸‰ä¸ªç‰ˆæœ¬â€”â€” é»‘æš—ï¼Œå…‰çº¿å’Œæµ·å¸‚èœƒæ¥¼â€”â€” å…¨å¤©èˆ’é€‚çš„å·¥ä½œã€‚</p><p><img src="../../images/vscodeæ’ä»¶å’Œä¸»é¢˜/7d8c9227cf470342697a8cffd73b41e7.jpg" alt="Ayuä¸»é¢˜"></p><h3 id="âœˆï¸-Noctisä¸»é¢˜"><a href="#âœˆï¸-Noctisä¸»é¢˜" class="headerlink" title="âœˆï¸ Noctisä¸»é¢˜"></a>âœˆï¸ Noctisä¸»é¢˜</h3><p>Noctisæœ‰11ä¸ªç‰ˆæœ¬ï¼Œ8ä¸ªæ˜¯é»‘æš—çš„ï¼Œ3ä¸ªæ˜¯å…‰æ˜çš„ã€‚</p><p><img src="../../images/vscodeæ’ä»¶å’Œä¸»é¢˜/noctisLux.jpg" alt="Noctis Lux"></p><h3 id="âœˆï¸-One-Dark-Pro"><a href="#âœˆï¸-One-Dark-Pro" class="headerlink" title="âœˆï¸ One Dark Pro"></a>âœˆï¸ One Dark Pro</h3><p>ä¸€æ¬¾æš—é»‘é£æ ¼çš„ä¸»é¢˜ã€‚</p><p><img src="../../images/vscodeæ’ä»¶å’Œä¸»é¢˜/editor1.jpg" alt="One Dark Pro"></p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DrissionPageåº“çš„ä½¿ç”¨</title>
      <link href="/2023/04/01/%E7%AC%94%E8%AE%B0/DrissionPage%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2023/04/01/%E7%AC%94%E8%AE%B0/DrissionPage%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸš€-DrissionPageåº“ç®€ä»‹"><a href="#ğŸš€-DrissionPageåº“ç®€ä»‹" class="headerlink" title="ğŸš€ DrissionPageåº“ç®€ä»‹"></a>ğŸš€ DrissionPageåº“ç®€ä»‹</h2><ul><li><p>å®˜æ–¹ä»‹ç»ï¼š</p><ul><li>DrissionPage æ˜¯ä¸€ä¸ªåŸºäº python çš„ç½‘é¡µè‡ªåŠ¨åŒ–å·¥å…·ã€‚</li><li>å®ƒæ—¢èƒ½æ§åˆ¶æµè§ˆå™¨ï¼Œä¹Ÿèƒ½æ”¶å‘æ•°æ®åŒ…ï¼Œè¿˜èƒ½æŠŠä¸¤è€…åˆè€Œä¸ºä¸€ã€‚</li><li>å¯å…¼é¡¾æµè§ˆå™¨è‡ªåŠ¨åŒ–çš„ä¾¿åˆ©æ€§å’Œ requests çš„é«˜æ•ˆç‡ã€‚</li><li>å®ƒåŠŸèƒ½å¼ºå¤§ï¼Œå†…ç½®æ— æ•°äººæ€§åŒ–è®¾è®¡å’Œä¾¿æ·åŠŸèƒ½ã€‚</li><li>å®ƒçš„è¯­æ³•ç®€æ´è€Œä¼˜é›…ï¼Œä»£ç é‡å°‘ï¼Œå¯¹æ–°æ‰‹å‹å¥½ã€‚</li></ul></li><li><p>python ç‰ˆæœ¬ï¼š3.6 åŠä»¥ä¸Š</p></li><li><p>æ”¯æŒæµè§ˆå™¨ï¼šChromium å†…æ ¸ï¼ˆå¦‚ Chrome å’Œ Edgeï¼‰</p></li><li><p>gitä»“åº“ï¼š<a href="https://gitee.com/g1879/DrissionPage">https://gitee.com/g1879/DrissionPage</a></p></li><li><p>ä½¿ç”¨è¯´æ˜ï¼š<a href="http://g1879.gitee.io/drissionpagedocs/">http://g1879.gitee.io/drissionpagedocs/</a></p></li></ul><h2 id="ğŸš€-ç¯å¢ƒæ­å»º"><a href="#ğŸš€-ç¯å¢ƒæ­å»º" class="headerlink" title="ğŸš€ ç¯å¢ƒæ­å»º"></a>ğŸš€ ç¯å¢ƒæ­å»º</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pipå®‰è£…</span></span><br><span class="line">pip install DrissionPage</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœpipå®‰è£…é€Ÿåº¦å¤ªæ…¢ï¼Œå°±ä½¿ç”¨æ¸…åæºæ¥å®‰è£…ï¼Œå¦‚ä¸‹</span></span><br><span class="line">pip install DrissionPage -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡çº§</span></span><br><span class="line">pip install DrissionPage --upgrade</span><br></pre></td></tr></table></figure><p>æ–°å»ºä¸€ä¸ªpythonæ–‡ä»¶ï¼Œå¡«å†™ä»¥ä¸‹ä»£ç å¹¶è¿è¡Œã€‚å¦‚æœå¯ä»¥æ­£å¸¸å¯åŠ¨äº†æµè§ˆå™¨å¹¶ä¸”è®¿é—®äº†ç™¾åº¦é¡µé¢ï¼Œè¯´æ˜å¯ç›´æ¥ä½¿ç”¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> DrissionPage <span class="keyword">import</span> ChromiumPage</span><br><span class="line"></span><br><span class="line">page = ChromiumPage()</span><br><span class="line">page.get(<span class="string">&#x27;http://baidu.com&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸Šé¢çš„æ­¥éª¤æç¤ºå‡ºé”™ï¼Œè¯´æ˜ç¨‹åºæ²¡åœ¨ç³»ç»Ÿé‡Œæ‰¾åˆ°æµè§ˆå™¨ï¼Œéœ€è¦æ‰‹åŠ¨é…ç½®æµè§ˆå™¨è·¯å¾„ã€‚</p><p>æ–°å»ºä¸€ä¸ªä¸´æ—¶ py æ–‡ä»¶ï¼Œå¹¶è¾“å…¥ä»¥ä¸‹ä»£ç ï¼Œå¡«å…¥æ‚¨ç”µè„‘é‡Œçš„æµè§ˆå™¨ exe æ–‡ä»¶è·¯å¾„ï¼Œç„¶åæ‰§è¡Œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿™æ®µä»£ç åªè¦è¿è¡Œä¸€æ¬¡å³å¯ï¼Œä¸ç”¨å†™åˆ°æ­£å¼ç¨‹åºé‡Œã€‚</span></span><br><span class="line"><span class="keyword">from</span> DrissionPage.easy_set <span class="keyword">import</span> set_paths</span><br><span class="line">set_paths(browser_path=<span class="string">r&#x27;C:\Program Files (x86)\Microsoft\Edge\Application\msedge.exe&#x27;</span>) <span class="comment"># éœ€è¦æ”¹æˆè‡ªå·±æµè§ˆå™¨çš„å®‰è£…è·¯å¾„</span></span><br></pre></td></tr></table></figure><h2 id="ğŸš€-ä½¿ç”¨ç¤ºä¾‹"><a href="#ğŸš€-ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ğŸš€ ä½¿ç”¨ç¤ºä¾‹"></a>ğŸš€ ä½¿ç”¨ç¤ºä¾‹</h2><p>å®˜æ–¹æ•™ç¨‹ï¼š<a href="http://g1879.gitee.io/drissionpagedocs/demos/douban_book_pics/">http://g1879.gitee.io/drissionpagedocs/demos/douban_book_pics/</a></p><h3 id="âœˆï¸-ç™»å½•gitee"><a href="#âœˆï¸-ç™»å½•gitee" class="headerlink" title="âœˆï¸ ç™»å½•gitee"></a>âœˆï¸ ç™»å½•gitee</h3><p>æŠŠä»¥ä¸‹ä»£ç å¤åˆ¶åˆ°ç¼–è¾‘å™¨ï¼ŒæŠŠè´¦å·å’Œå¯†ç æ”¹ä¸ºæ‚¨è‡ªå·±çš„ï¼Œå¯ç›´æ¥æ‰§è¡Œçœ‹åˆ°è¿è¡Œç»“æœã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> DrissionPage <span class="keyword">import</span> ChromiumPage</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºé¡µé¢å¯¹è±¡ï¼Œå¹¶å¯åŠ¨æˆ–æ¥ç®¡æµè§ˆå™¨</span></span><br><span class="line">page = ChromiumPage()</span><br><span class="line"><span class="comment"># è·³è½¬åˆ°ç™»å½•é¡µé¢</span></span><br><span class="line">page.get(<span class="string">&#x27;https://gitee.com/login&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä½åˆ°è´¦å·æ–‡æœ¬æ¡†ï¼Œè·å–æ–‡æœ¬æ¡†å…ƒç´ </span></span><br><span class="line">ele = page.ele(<span class="string">&#x27;#user_login&#x27;</span>)</span><br><span class="line"><span class="comment"># è¾“å…¥å¯¹æ–‡æœ¬æ¡†è¾“å…¥è´¦å·</span></span><br><span class="line">ele.<span class="built_in">input</span>(<span class="string">&#x27;æ‚¨çš„è´¦å·&#x27;</span>)</span><br><span class="line"><span class="comment"># å®šä½åˆ°å¯†ç æ–‡æœ¬æ¡†å¹¶è¾“å…¥å¯†ç </span></span><br><span class="line">page.ele(<span class="string">&#x27;#user_password&#x27;</span>).<span class="built_in">input</span>(<span class="string">&#x27;æ‚¨çš„å¯†ç &#x27;</span>)</span><br><span class="line"><span class="comment"># ç‚¹å‡»ç™»å½•æŒ‰é’®</span></span><br><span class="line">page.ele(<span class="string">&#x27;@value=ç™» å½•&#x27;</span>).click()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="âœˆï¸-ä¸‹è½½æ˜Ÿå·´å…‹äº§å“å›¾ç‰‡"><a href="#âœˆï¸-ä¸‹è½½æ˜Ÿå·´å…‹äº§å“å›¾ç‰‡" class="headerlink" title="âœˆï¸ ä¸‹è½½æ˜Ÿå·´å…‹äº§å“å›¾ç‰‡"></a>âœˆï¸ ä¸‹è½½æ˜Ÿå·´å…‹äº§å“å›¾ç‰‡</h3><p>ä»¥ä¸‹ä»£ç å¯ç›´æ¥è¿è¡Œå¹¶æŸ¥çœ‹ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> DrissionPage <span class="keyword">import</span> SessionPage</span><br><span class="line"><span class="keyword">from</span> re <span class="keyword">import</span> search</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥sæ¨¡å¼åˆ›å»ºé¡µé¢å¯¹è±¡</span></span><br><span class="line">page = SessionPage()</span><br><span class="line"><span class="comment"># è®¿é—®ç›®æ ‡ç½‘é¡µ</span></span><br><span class="line">page.get(<span class="string">&#x27;https://www.starbucks.com.cn/menu/&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æ‰€æœ‰classå±æ€§ä¸ºpreview circleçš„å…ƒç´ </span></span><br><span class="line">divs = page.eles(<span class="string">&#x27;.preview circle&#x27;</span>)</span><br><span class="line"><span class="comment"># éå†è¿™äº›å…ƒç´ </span></span><br><span class="line"><span class="keyword">for</span> div <span class="keyword">in</span> divs:</span><br><span class="line">    <span class="comment"># ç”¨ç›¸å¯¹å®šä½è·å–å½“å‰divå…ƒç´ åä¸€ä¸ªå…„å¼Ÿå…ƒç´ ï¼Œå¹¶è·å–å…¶æ–‡æœ¬</span></span><br><span class="line">    name = div.<span class="built_in">next</span>().text</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åœ¨divå…ƒç´ çš„styleå±æ€§ä¸­æå–å›¾ç‰‡ç½‘å€å¹¶è¿›è¡Œæ‹¼æ¥</span></span><br><span class="line">    img_url = div.attr(<span class="string">&#x27;style&#x27;</span>)</span><br><span class="line">    img_url = search(<span class="string">r&#x27;&quot;(.*)&quot;&#x27;</span>, img_url).group(<span class="number">1</span>)</span><br><span class="line">    img_url = <span class="string">f&#x27;https://www.starbucks.com.cn<span class="subst">&#123;img_url&#125;</span>&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ‰§è¡Œä¸‹è½½</span></span><br><span class="line">    page.download(img_url, <span class="string">r&#x27;.\imgs&#x27;</span>, rename=name)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vscodeå®‰è£…FiraCodeå­—ä½“</title>
      <link href="/2023/03/02/%E7%AC%94%E8%AE%B0/Vscode%E5%AE%89%E8%A3%85FiraCode%E5%AD%97%E4%BD%93/"/>
      <url>/2023/03/02/%E7%AC%94%E8%AE%B0/Vscode%E5%AE%89%E8%A3%85FiraCode%E5%AD%97%E4%BD%93/</url>
      
        <content type="html"><![CDATA[<p>ä»¥ windows ç³»ç»Ÿç¯å¢ƒä¸ºä¾‹ã€‚</p><h2 id="1ã€å®‰è£…å­—ä½“"><a href="#1ã€å®‰è£…å­—ä½“" class="headerlink" title="1ã€å®‰è£…å­—ä½“"></a>1ã€å®‰è£…å­—ä½“</h2><ul><li><p>å­—ä½“ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/tonsky/FiraCode">https://github.com/tonsky/FiraCode</a> </p></li><li><p>ä¸‹è½½å¹¶è§£å‹æ–‡ä»¶å¤¹åå¯ä»¥å‘ç°æœ‰ä¸ª <span style="color:#027ad5"><strong>ttf</strong></span> æ–‡ä»¶å¤¹ã€‚</p></li></ul><p><img src="../../images/Vscodeå®‰è£…FiraCodeå­—ä½“/image-20230220141328700.png" alt="å›¾1"></p><ul><li>è¿›å…¥ ttf æ–‡ä»¶å¤¹ï¼Œå…¨é€‰æ–‡ä»¶ï¼Œç„¶åå³é”®é€‰æ‹©å®‰è£…ã€‚</li></ul><p><img src="../../images/Vscodeå®‰è£…FiraCodeå­—ä½“/image-20230220142009644.png" alt="å›¾2"></p><h2 id="2ã€é…ç½®VSCode"><a href="#2ã€é…ç½®VSCode" class="headerlink" title="2ã€é…ç½®VSCode"></a>2ã€é…ç½®VSCode</h2><ul><li>è¿›å…¥è®¾ç½®é¡µé¢ï¼Œä¾æ¬¡é€‰æ‹© <strong>å­—ä½“</strong>ã€<strong>åœ¨ settinfs.json ä¸­ç¼–è¾‘</strong> ã€‚</li></ul><p><img src="../../images/Vscodeå®‰è£…FiraCodeå­—ä½“/image-20230220142144058.png" alt="å›¾3"></p><ul><li>å°†ä¸‹é¢ä¸¤è¡Œé…ç½®ç²˜è´´åˆ°è¯¥æ–‡ä»¶å¹¶ä¿å­˜å³å¯ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;editor.fontFamily&quot;: &quot;Fira Code&quot;,</span><br><span class="line">&quot;editor.fontLigatures&quot;: &quot;&#x27;cv01&#x27;, &#x27;cv02&#x27;, &#x27;ss05&#x27;, &#x27;ss03&#x27;&quot;,</span><br></pre></td></tr></table></figure><ul><li>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li></ul><p><img src="../../images/Vscodeå®‰è£…FiraCodeå­—ä½“/image-20230220142355987-1677756900546-10.png" alt="å›¾4"></p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åµŒå…¥å¼ä»£ç é«˜æ•ˆè¿è¡ŒæŒ‡å—</title>
      <link href="/2022/12/17/%E7%AC%94%E8%AE%B0/%E5%B5%8C%E5%85%A5%E5%BC%8F%E4%BB%A3%E7%A0%81%E9%AB%98%E6%95%88%E8%BF%90%E8%A1%8C%E6%8C%87%E5%8D%97/"/>
      <url>/2022/12/17/%E7%AC%94%E8%AE%B0/%E5%B5%8C%E5%85%A5%E5%BC%8F%E4%BB%A3%E7%A0%81%E9%AB%98%E6%95%88%E8%BF%90%E8%A1%8C%E6%8C%87%E5%8D%97/</url>
      
        <content type="html"><![CDATA[<p>ğŸš² ğŸš— âœˆï¸ ğŸš€</p><p><strong>ã€æ³¨ã€‘</strong>ï¼šæœ¬æ–‡å…¨éƒ¨å†…å®¹æ¥æºäºï¼š<a href="https://mp.weixin.qq.com/s/WuiTGgxSxO79858WsxIoNw">åµŒå…¥å¼ä»£ç é«˜æ•ˆè¿è¡ŒæŒ‡å—</a>ï¼Œæœ¬äººåªæ˜¯æ–‡ç« çš„æ¬è¿å·¥ï¼Œå½“ç„¶ï¼Œä¹Ÿè¿›è¡Œäº†ä¸€äº›æ•´ç†ä¼˜åŒ–ã€‚</p><p>åµŒå…¥å¼Cè¯­è¨€ä¹‹æ‰€ä»¥ç»ä¹…ä¸è¡°ï¼Œåœ¨äºå®ƒçš„è¿è¡Œæ•ˆç‡å¾ˆé«˜ï¼Œæƒ³è¦é«˜æ•ˆè¿è¡Œä»£ç ï¼Œé™¤äº†ç¼–è¯‘å™¨å¸®å¿™ä¼˜åŒ–ï¼Œå…³é”®è¿˜è¦é è‡ªå·±â€œä¼˜åŒ–â€ä»£ç ã€‚</p><p>è¯¥æ–¹æ¡ˆä¸»è¦æ˜¯è€ƒè™‘åˆ°åœ¨åµŒå…¥å¼å¼€å‘ä¸­å¯¹ç¨‹åºæ‰§è¡Œé€Ÿåº¦çš„è¦æ±‚ç‰¹åˆ«é«˜ï¼Œæ‰€ä»¥è¯¥æ–¹æ¡ˆä¸»è¦æ˜¯ä¸ºäº†ä¼˜åŒ–ç¨‹åºçš„æ‰§è¡Œé€Ÿåº¦ã€‚</p><p>æ³¨æ„ï¼šä¼˜åŒ–æ˜¯æœ‰ä¾§é‡ç‚¹çš„ï¼Œä¼˜åŒ–æ˜¯ä¸€é—¨å¹³è¡¡çš„è‰ºæœ¯ï¼Œå®ƒå¾€å¾€è¦ä»¥ç‰ºç‰²ç¨‹åºçš„å¯è¯»æ€§æˆ–è€…å¢åŠ ä»£ç é•¿åº¦ä¸ºä»£ä»·ã€‚</p><h2 id="ğŸš€-é€‰æ‹©åˆé€‚çš„ç®—æ³•å’Œæ•°æ®ç»“æ„"><a href="#ğŸš€-é€‰æ‹©åˆé€‚çš„ç®—æ³•å’Œæ•°æ®ç»“æ„" class="headerlink" title="ğŸš€ é€‰æ‹©åˆé€‚çš„ç®—æ³•å’Œæ•°æ®ç»“æ„"></a>ğŸš€ é€‰æ‹©åˆé€‚çš„ç®—æ³•å’Œæ•°æ®ç»“æ„</h2><ul><li>é€‰æ‹©ä¸€ç§åˆé€‚çš„æ•°æ®ç»“æ„å¾ˆé‡è¦ï¼Œæ¯”å¦‚åœ¨ä¸€å †éšæœºå­˜æ”¾çš„æ•°ä¸­ä½¿ç”¨äº†å¤§é‡çš„æ’å…¥å’Œåˆ é™¤æŒ‡ä»¤ï¼Œé‚£ä½¿ç”¨é“¾è¡¨è¦å¿«å¾—å¤šã€‚</li><li><p>æ•°ç»„ä¸æŒ‡é’ˆè¯­å¥å…·æœ‰ååˆ†å¯†åˆ‡çš„å…³ç³»ï¼Œä¸€èˆ¬æ¥è¯´ï¼ŒæŒ‡é’ˆæ¯”è¾ƒçµæ´»ç®€æ´ï¼Œè€Œæ•°ç»„åˆ™æ¯”è¾ƒç›´è§‚ï¼Œå®¹æ˜“ç†è§£ã€‚å¯¹äºå¤§éƒ¨åˆ†çš„ç¼–è¯‘å™¨ï¼Œä½¿ç”¨æŒ‡é’ˆæ¯”ä½¿ç”¨æ•°ç»„ç”Ÿæˆçš„ä»£ç æ›´çŸ­ï¼Œæ‰§è¡Œæ•ˆç‡æ›´é«˜ã€‚</p></li><li><p>åœ¨è®¸å¤šç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ç”¨æŒ‡é’ˆè¿ç®—ä»£æ›¿æ•°ç»„ç´¢å¼•ï¼Œè¿™æ ·åšå¸¸å¸¸èƒ½äº§ç”Ÿåˆå¿«åˆçŸ­çš„ä»£ç ã€‚ä½¿ç”¨å¤šç»´æ•°ç»„æ—¶å·®å¼‚æ›´æ˜æ˜¾ã€‚</p></li><li>ä¸‹é¢çš„ä»£ç ä½œç”¨æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯æ•ˆç‡ä¸ä¸€æ ·ã€‚æŒ‡é’ˆæ–¹æ³•çš„ä¼˜ç‚¹æ˜¯ï¼Œarrayçš„åœ°å€æ¯æ¬¡è£…å…¥åœ°å€påï¼Œåœ¨æ¯æ¬¡å¾ªç¯ä¸­åªéœ€å¯¹på¢é‡æ“ä½œã€‚è€Œåœ¨æ•°ç»„ç´¢å¼•æ–¹æ³•ä¸­ï¼Œæ¯æ¬¡å¾ªç¯ä¸­éƒ½å¿…é¡»æ ¹æ®tå€¼æ±‚æ•°ç»„ä¸‹æ ‡çš„å¤æ‚è¿ç®—ã€‚</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„ç´¢å¼•</span></span><br><span class="line">For(;;)&#123;               </span><br><span class="line">    A = <span class="built_in">array</span>[t++];</span><br><span class="line">&#125;                      </span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‡é’ˆè¿ç®—</span></span><br><span class="line">p = <span class="built_in">array</span>;</span><br><span class="line"><span class="keyword">for</span>(;;)&#123;</span><br><span class="line">    A = *(p++);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ğŸš€-å‡å°‘è¿ç®—çš„å¼ºåº¦"><a href="#ğŸš€-å‡å°‘è¿ç®—çš„å¼ºåº¦" class="headerlink" title="ğŸš€ å‡å°‘è¿ç®—çš„å¼ºåº¦"></a>ğŸš€ å‡å°‘è¿ç®—çš„å¼ºåº¦</h2><h3 id="âœˆï¸-æŸ¥è¡¨-æ¸¸æˆç¨‹åºå‘˜å¿…ä¿®è¯¾"><a href="#âœˆï¸-æŸ¥è¡¨-æ¸¸æˆç¨‹åºå‘˜å¿…ä¿®è¯¾" class="headerlink" title="âœˆï¸ æŸ¥è¡¨(æ¸¸æˆç¨‹åºå‘˜å¿…ä¿®è¯¾)"></a>âœˆï¸ æŸ¥è¡¨(æ¸¸æˆç¨‹åºå‘˜å¿…ä¿®è¯¾)</h3><p>ä¸€ä¸ªèªæ˜çš„æ¸¸æˆå¤§è™¾ï¼ŒåŸºæœ¬ä¸Šä¸ä¼šåœ¨è‡ªå·±çš„ä¸»å¾ªç¯é‡Œæä»€ä¹ˆè¿ç®—å·¥ä½œï¼Œç»å¯¹æ˜¯å…ˆè®¡ç®—å¥½äº†ï¼Œå†åˆ°å¾ªç¯é‡ŒæŸ¥è¡¨ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><p>æ—§ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">long</span> <span class="title function_">factorial</span><span class="params">(<span class="type">int</span> i)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> i * factorial(i - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">long</span> factorial_table[] = &#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">24</span>, <span class="number">120</span>, <span class="number">720</span>  <span class="comment">/* etc */</span> &#125;;</span><br><span class="line"><span class="type">long</span> <span class="title function_">factorial</span><span class="params">(<span class="type">int</span> i)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> factorial_table[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœè¡¨å¾ˆå¤§ï¼Œä¸å¥½å†™ï¼Œå°±å†™ä¸€ä¸ªinitå‡½æ•°ï¼Œåœ¨å¾ªç¯å¤–ä¸´æ—¶ç”Ÿæˆè¡¨æ ¼ã€‚</p><h3 id="âœˆï¸-æ±‚ä½™è¿ç®—"><a href="#âœˆï¸-æ±‚ä½™è¿ç®—" class="headerlink" title="âœˆï¸ æ±‚ä½™è¿ç®—"></a>âœˆï¸ æ±‚ä½™è¿ç®—</h3><ul><li><p>ä½æ“ä½œåªéœ€ä¸€ä¸ªæŒ‡ä»¤å‘¨æœŸå³å¯å®Œæˆï¼Œè€Œå¤§éƒ¨åˆ†çš„Cç¼–è¯‘å™¨çš„â€œ%â€è¿ç®—å‡æ˜¯è°ƒç”¨å­ç¨‹åºæ¥å®Œæˆï¼Œä»£ç é•¿ã€æ‰§è¡Œé€Ÿåº¦æ…¢ã€‚</p></li><li><p>åªè¦æ˜¯æ±‚ 2^n^ çš„ä½™æ•°ï¼Œå‡å¯ä½¿ç”¨ä½æ“ä½œçš„æ–¹æ³•æ¥ä»£æ›¿ã€‚</p></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = a % <span class="number">8</span>;</span><br></pre></td></tr></table></figure><p>å¯ä»¥æ”¹ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = a &amp; <span class="number">7</span>;</span><br></pre></td></tr></table></figure><h3 id="âœˆï¸-å¹³æ–¹è¿ç®—"><a href="#âœˆï¸-å¹³æ–¹è¿ç®—" class="headerlink" title="âœˆï¸ å¹³æ–¹è¿ç®—"></a>âœˆï¸ å¹³æ–¹è¿ç®—</h3><ul><li>åœ¨æœ‰å†…ç½®ç¡¬ä»¶ä¹˜æ³•å™¨çš„å•ç‰‡æœºä¸­(å¦‚51ç³»åˆ—)ï¼Œä¹˜æ³•è¿ç®—æ¯”æ±‚å¹³æ–¹è¿ç®—å¿«å¾—å¤šã€‚</li><li>æ—¢ä½¿æ˜¯åœ¨æ²¡æœ‰å†…ç½®ç¡¬ä»¶ä¹˜æ³•å™¨çš„å•ç‰‡æœºä¸­ï¼Œä¹˜æ³•è¿ç®—çš„å­ç¨‹åºä¹Ÿè¦æ¯”å¹³æ–¹è¿ç®—çš„å­ç¨‹åºä»£ç çŸ­ï¼Œæ‰§è¡Œé€Ÿåº¦å¿«ã€‚</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="built_in">pow</span>(a, <span class="number">2.0</span>);<span class="comment">// æ…¢</span></span><br><span class="line">a = a * a;<span class="comment">// å¿«</span></span><br></pre></td></tr></table></figure><ul><li>å¦‚æœæ˜¯æ±‚3æ¬¡æ–¹ï¼Œåˆ™æ•ˆç‡çš„æ”¹å–„æ›´æ˜æ˜¾ã€‚</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="built_in">pow</span>(a, <span class="number">3.0</span>);<span class="comment">// æ…¢</span></span><br><span class="line">a = a * a * a;<span class="comment">// å¿«</span></span><br></pre></td></tr></table></figure><h3 id="âœˆï¸-ç”¨ç§»ä½å®ç°ä¹˜é™¤æ³•è¿ç®—"><a href="#âœˆï¸-ç”¨ç§»ä½å®ç°ä¹˜é™¤æ³•è¿ç®—" class="headerlink" title="âœˆï¸ ç”¨ç§»ä½å®ç°ä¹˜é™¤æ³•è¿ç®—"></a>âœˆï¸ ç”¨ç§»ä½å®ç°ä¹˜é™¤æ³•è¿ç®—</h3><ul><li><p>é€šå¸¸å¦‚æœéœ€è¦ä¹˜ä»¥æˆ–é™¤ä»¥ 2^n^ï¼Œéƒ½å¯ä»¥ç”¨ç§»ä½çš„æ–¹æ³•ä»£æ›¿ã€‚</p></li><li><p>ç”¨ç§»ä½çš„æ–¹æ³•å¾—åˆ°ä»£ç æ¯”è°ƒç”¨ä¹˜é™¤æ³•å­ç¨‹åºç”Ÿæˆçš„ä»£ç æ•ˆç‡é«˜ã€‚</p></li><li>ä¾‹å¦‚ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = a * <span class="number">4</span>;</span><br><span class="line">b = b / <span class="number">4</span>;</span><br></pre></td></tr></table></figure><p>å¯ä»¥æ”¹ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = a &lt;&lt; <span class="number">2</span>;</span><br><span class="line">b = b &gt;&gt; <span class="number">2</span>;</span><br></pre></td></tr></table></figure><ul><li>å®é™…ä¸Šï¼Œåªè¦æ˜¯ä¹˜ä»¥æˆ–é™¤ä»¥ä¸€ä¸ªæ•´æ•°ï¼Œå‡å¯ä»¥ç”¨ç§»ä½çš„æ–¹æ³•å¾—åˆ°ç»“æœï¼Œå¦‚ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = a * <span class="number">9</span>;</span><br></pre></td></tr></table></figure><p>å¯ä»¥æ”¹ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = (a &lt;&lt; <span class="number">3</span>) + a;<span class="comment">// a = (a * 8) + a</span></span><br></pre></td></tr></table></figure><h3 id="âœˆï¸-é¿å…ä¸å¿…è¦çš„æ•´æ•°é™¤æ³•"><a href="#âœˆï¸-é¿å…ä¸å¿…è¦çš„æ•´æ•°é™¤æ³•" class="headerlink" title="âœˆï¸ é¿å…ä¸å¿…è¦çš„æ•´æ•°é™¤æ³•"></a>âœˆï¸ é¿å…ä¸å¿…è¦çš„æ•´æ•°é™¤æ³•</h3><ul><li>æ•´æ•°é™¤æ³•æ˜¯æ•´æ•°è¿ç®—ä¸­æœ€æ…¢çš„ï¼Œæ‰€ä»¥åº”è¯¥å°½å¯èƒ½é¿å…ã€‚</li><li><p>ä¸€ç§å¯èƒ½å‡å°‘æ•´æ•°é™¤æ³•çš„åœ°æ–¹æ˜¯è¿é™¤ï¼Œè¿™é‡Œé™¤æ³•å¯ä»¥ç”±ä¹˜æ³•ä»£æ›¿ã€‚ä¸è¿‡æœ‰å¯èƒ½ä¼šå¯¼è‡´åœ¨ç®—ä¹˜ç§¯æ—¶æº¢å‡ºï¼Œæ‰€ä»¥åªèƒ½åœ¨ä¸€å®šèŒƒå›´çš„é™¤æ³•ä¸­ä½¿ç”¨ã€‚</p></li><li><p>ä¾‹å¦‚ï¼š</p></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> i, j, k, m;</span><br><span class="line">m = i / j / k;</span><br></pre></td></tr></table></figure><ul><li>å¯ä»¥æ”¹æˆï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> i, j, k, m;</span><br><span class="line">m = i / (j * k);</span><br></pre></td></tr></table></figure><h3 id="âœˆï¸-ä½¿ç”¨å¢é‡å’Œå‡é‡æ“ä½œç¬¦"><a href="#âœˆï¸-ä½¿ç”¨å¢é‡å’Œå‡é‡æ“ä½œç¬¦" class="headerlink" title="âœˆï¸ ä½¿ç”¨å¢é‡å’Œå‡é‡æ“ä½œç¬¦"></a>âœˆï¸ ä½¿ç”¨å¢é‡å’Œå‡é‡æ“ä½œç¬¦</h3><p>åœ¨ä½¿ç”¨åˆ°åŠ ä¸€å’Œå‡ä¸€æ“ä½œæ—¶å°½é‡ä½¿ç”¨å¢é‡å’Œå‡é‡æ“ä½œç¬¦ï¼Œå› ä¸ºå¢é‡ç¬¦è¯­å¥æ¯”èµ‹å€¼è¯­å¥æ›´å¿«ï¼ŒåŸå› åœ¨äºå¯¹å¤§å¤šæ•°CPUæ¥è¯´ï¼Œå¯¹å†…å­˜å­—çš„å¢ã€å‡é‡æ“ä½œä¸å¿…æ˜æ˜¾åœ°ä½¿ç”¨å–å†…å­˜å’Œå†™å†…å­˜çš„æŒ‡ä»¤ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ¡è¯­å¥ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x = x + <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>æ¨¡ä»¿å¤§å¤šæ•°å¾®æœºæ±‡ç¼–è¯­è¨€ä¸ºä¾‹ï¼Œäº§ç”Ÿçš„ä»£ç ç±»ä¼¼äºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">move A, x;æŠŠxä»å†…å­˜å–å‡ºå­˜å…¥ç´¯åŠ å™¨A</span><br><span class="line">add A, <span class="number">1</span>;ç´¯åŠ å™¨AåŠ <span class="number">1</span></span><br><span class="line">store x;æŠŠæ–°å€¼å­˜å›x</span><br></pre></td></tr></table></figure><p>å¦‚æœä½¿ç”¨å¢é‡æ“ä½œç¬¦ï¼Œç”Ÿæˆçš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">incr x;xåŠ <span class="number">1</span></span><br></pre></td></tr></table></figure><p>æ˜¾ç„¶ï¼Œä¸ç”¨å–æŒ‡ä»¤å’Œå­˜æŒ‡ä»¤ï¼Œå¢ã€å‡é‡æ“ä½œæ‰§è¡Œçš„é€Ÿåº¦åŠ å¿«ï¼ŒåŒæ—¶é•¿åº¦ä¹Ÿç¼©çŸ­äº†ã€‚</p><h3 id="âœˆï¸-ä½¿ç”¨å¤åˆèµ‹å€¼è¡¨è¾¾å¼"><a href="#âœˆï¸-ä½¿ç”¨å¤åˆèµ‹å€¼è¡¨è¾¾å¼" class="headerlink" title="âœˆï¸ ä½¿ç”¨å¤åˆèµ‹å€¼è¡¨è¾¾å¼"></a>âœˆï¸ ä½¿ç”¨å¤åˆèµ‹å€¼è¡¨è¾¾å¼</h3><ul><li>å¤åˆèµ‹å€¼è¡¨è¾¾å¼(å¦‚ a-=1 åŠ a+=1 ç­‰)éƒ½èƒ½å¤Ÿç”Ÿæˆé«˜è´¨é‡çš„ç¨‹åºä»£ç ã€‚</li></ul><h3 id="âœˆï¸-æå–å…¬å…±çš„å­è¡¨è¾¾å¼"><a href="#âœˆï¸-æå–å…¬å…±çš„å­è¡¨è¾¾å¼" class="headerlink" title="âœˆï¸ æå–å…¬å…±çš„å­è¡¨è¾¾å¼"></a>âœˆï¸ æå–å…¬å…±çš„å­è¡¨è¾¾å¼</h3><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒC++ç¼–è¯‘å™¨ä¸èƒ½ä»æµ®ç‚¹è¡¨è¾¾å¼ä¸­æå‡ºå…¬å…±çš„å­è¡¨è¾¾å¼ï¼Œå› ä¸ºè¿™æ„å‘³ç€ç›¸å½“äºå¯¹è¡¨è¾¾å¼é‡æ–°æ’åºã€‚éœ€è¦ç‰¹åˆ«æŒ‡å‡ºçš„æ˜¯ï¼Œç¼–è¯‘å™¨åœ¨æå–å…¬å…±å­è¡¨è¾¾å¼å‰ä¸èƒ½æŒ‰ç…§ä»£æ•°çš„ç­‰ä»·å…³ç³»é‡æ–°å®‰æ’è¡¨è¾¾å¼ã€‚è¿™æ—¶ï¼Œç¨‹åºå‘˜è¦æ‰‹åŠ¨åœ°æå‡ºå…¬å…±çš„å­è¡¨è¾¾å¼ï¼ˆåœ¨VC.NETé‡Œæœ‰ä¸€é¡¹â€œå…¨å±€ä¼˜åŒ–â€é€‰é¡¹å¯ä»¥å®Œæˆæ­¤å·¥ä½œï¼Œä½†æ•ˆæœå°±ä¸å¾—è€ŒçŸ¥äº†ï¼‰ã€‚</p><p>ä¸å¥½çš„ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> a, b, c, d, e, f;</span><br><span class="line">e = b * c / d;</span><br><span class="line">f = b / d * a;</span><br></pre></td></tr></table></figure><p>æ¨èçš„ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> a, b, c, d, e, f;</span><br><span class="line"><span class="type">const</span> <span class="type">float</span> t = (b / d);</span><br><span class="line">e = c * t;</span><br><span class="line">f = a * t;</span><br></pre></td></tr></table></figure><p>ä¸å¥½çš„ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> a, b, c, e, f;</span><br><span class="line">e = a / c;</span><br><span class="line">f = b / c;</span><br></pre></td></tr></table></figure><p>æ¨èçš„ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> a, b, c, e, f;</span><br><span class="line"><span class="type">const</span> <span class="type">float</span> t = (<span class="number">1.0f</span> / c);</span><br><span class="line">e = a * t;</span><br><span class="line">f = b * t;</span><br></pre></td></tr></table></figure><h2 id="ğŸš€-ç»“æ„ä½“æˆå‘˜çš„å¸ƒå±€"><a href="#ğŸš€-ç»“æ„ä½“æˆå‘˜çš„å¸ƒå±€" class="headerlink" title="ğŸš€ ç»“æ„ä½“æˆå‘˜çš„å¸ƒå±€"></a>ğŸš€ ç»“æ„ä½“æˆå‘˜çš„å¸ƒå±€</h2><p>å¾ˆå¤šç¼–è¯‘å™¨æœ‰â€œä½¿ç»“æ„ä½“å­—ï¼ŒåŒå­—æˆ–å››å­—å¯¹é½â€çš„é€‰é¡¹ã€‚ä½†æ˜¯ï¼Œè¿˜æ˜¯éœ€è¦æ”¹å–„ç»“æ„ä½“æˆå‘˜çš„å¯¹é½ï¼Œæœ‰äº›ç¼–è¯‘å™¨å¯èƒ½åˆ†é…ç»™ç»“æ„ä½“æˆå‘˜ç©ºé—´çš„é¡ºåºä¸ä»–ä»¬å£°æ˜çš„ä¸åŒã€‚ä½†æ˜¯ï¼Œæœ‰äº›ç¼–è¯‘å™¨å¹¶ä¸æä¾›è¿™äº›åŠŸèƒ½ï¼Œæˆ–è€…æ•ˆæœä¸å¥½ã€‚æ‰€ä»¥ï¼Œè¦åœ¨ä»˜å‡ºæœ€å°‘ä»£ä»·çš„æƒ…å†µä¸‹å®ç°æœ€å¥½çš„ç»“æ„ä½“å’Œç»“æ„ä½“æˆå‘˜å¯¹é½ï¼Œå»ºè®®é‡‡å–ä¸‹åˆ—æ–¹æ³•ï¼š</p><h3 id="âœˆï¸-æŒ‰æ•°æ®ç±»å‹çš„é•¿åº¦æ’åº"><a href="#âœˆï¸-æŒ‰æ•°æ®ç±»å‹çš„é•¿åº¦æ’åº" class="headerlink" title="âœˆï¸ æŒ‰æ•°æ®ç±»å‹çš„é•¿åº¦æ’åº"></a>âœˆï¸ æŒ‰æ•°æ®ç±»å‹çš„é•¿åº¦æ’åº</h3><p>æŠŠç»“æ„ä½“çš„æˆå‘˜æŒ‰ç…§å®ƒä»¬çš„ç±»å‹é•¿åº¦æ’åºï¼Œå£°æ˜æˆå‘˜æ—¶æŠŠé•¿çš„ç±»å‹æ”¾åœ¨çŸ­çš„å‰é¢ã€‚ç¼–è¯‘å™¨è¦æ±‚æŠŠé•¿å‹æ•°æ®ç±»å‹å­˜æ”¾åœ¨å¶æ•°åœ°å€è¾¹ç•Œã€‚åœ¨ç”³æ˜ä¸€ä¸ªå¤æ‚çš„æ•°æ®ç±»å‹ (æ—¢æœ‰å¤šå­—èŠ‚æ•°æ®åˆæœ‰å•å­—èŠ‚æ•°æ®) æ—¶ï¼Œåº”è¯¥é¦–å…ˆå­˜æ”¾å¤šå­—èŠ‚æ•°æ®ï¼Œç„¶åå†å­˜æ”¾å•å­—èŠ‚æ•°æ®ï¼Œè¿™æ ·å¯ä»¥é¿å…å†…å­˜çš„ç©ºæ´ã€‚ç¼–è¯‘å™¨è‡ªåŠ¨åœ°æŠŠç»“æ„çš„å®ä¾‹å¯¹é½åœ¨å†…å­˜çš„å¶æ•°è¾¹ç•Œã€‚</p><h3 id="âœˆï¸-æŠŠç»“æ„ä½“å¡«å……æˆæœ€é•¿ç±»å‹é•¿åº¦çš„æ•´å€æ•°"><a href="#âœˆï¸-æŠŠç»“æ„ä½“å¡«å……æˆæœ€é•¿ç±»å‹é•¿åº¦çš„æ•´å€æ•°" class="headerlink" title="âœˆï¸ æŠŠç»“æ„ä½“å¡«å……æˆæœ€é•¿ç±»å‹é•¿åº¦çš„æ•´å€æ•°"></a>âœˆï¸ æŠŠç»“æ„ä½“å¡«å……æˆæœ€é•¿ç±»å‹é•¿åº¦çš„æ•´å€æ•°</h3><p>æŠŠç»“æ„ä½“å¡«å……æˆæœ€é•¿ç±»å‹é•¿åº¦çš„æ•´å€æ•°ã€‚ç…§è¿™æ ·ï¼Œå¦‚æœç»“æ„ä½“çš„ç¬¬ä¸€ä¸ªæˆå‘˜å¯¹é½äº†ï¼Œæ‰€æœ‰æ•´ä¸ªç»“æ„ä½“è‡ªç„¶ä¹Ÿå°±å¯¹é½äº†ã€‚ä¸‹é¢çš„ä¾‹å­æ¼”ç¤ºäº†å¦‚ä½•å¯¹ç»“æ„ä½“æˆå‘˜è¿›è¡Œé‡æ–°æ’åºï¼š</p><p>ä¸å¥½çš„ä»£ç ï¼Œæ™®é€šé¡ºåºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> a[<span class="number">5</span>];</span><br><span class="line">    <span class="type">long</span> k;</span><br><span class="line">    <span class="type">double</span> x;</span><br><span class="line">&#125; baz;</span><br></pre></td></tr></table></figure><p>æ¨èçš„ä»£ç ï¼Œæ–°çš„é¡ºåºå¹¶æ‰‹åŠ¨å¡«å……äº†å‡ ä¸ªå­—èŠ‚ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">double</span> x;</span><br><span class="line">    <span class="type">long</span> k;</span><br><span class="line">    <span class="type">char</span> a[<span class="number">5</span>];</span><br><span class="line">    <span class="type">char</span> pad[<span class="number">7</span>];</span><br><span class="line">&#125; baz;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªè§„åˆ™åŒæ ·é€‚ç”¨äºç±»çš„æˆå‘˜çš„å¸ƒå±€ã€‚</p><h3 id="âœˆï¸-æŒ‰æ•°æ®ç±»å‹çš„é•¿åº¦æ’åºæœ¬åœ°å˜é‡"><a href="#âœˆï¸-æŒ‰æ•°æ®ç±»å‹çš„é•¿åº¦æ’åºæœ¬åœ°å˜é‡" class="headerlink" title="âœˆï¸ æŒ‰æ•°æ®ç±»å‹çš„é•¿åº¦æ’åºæœ¬åœ°å˜é‡"></a>âœˆï¸ æŒ‰æ•°æ®ç±»å‹çš„é•¿åº¦æ’åºæœ¬åœ°å˜é‡</h3><p>å½“ç¼–è¯‘å™¨åˆ†é…ç»™æœ¬åœ°å˜é‡ç©ºé—´æ—¶ï¼Œå®ƒä»¬çš„é¡ºåºå’Œå®ƒä»¬åœ¨æºä»£ç ä¸­å£°æ˜çš„é¡ºåºä¸€æ ·ï¼Œå’Œä¸Šä¸€æ¡è§„åˆ™ä¸€æ ·ï¼Œåº”è¯¥æŠŠé•¿çš„å˜é‡æ”¾åœ¨çŸ­çš„å˜é‡å‰é¢ã€‚å¦‚æœç¬¬ä¸€ä¸ªå˜é‡å¯¹é½äº†ï¼Œå…¶å®ƒå˜é‡å°±ä¼šè¿ç»­çš„å­˜æ”¾ï¼Œè€Œä¸”ä¸ç”¨å¡«å……å­—èŠ‚è‡ªç„¶å°±ä¼šå¯¹é½ã€‚æœ‰äº›ç¼–è¯‘å™¨åœ¨åˆ†é…å˜é‡æ—¶ä¸ä¼šè‡ªåŠ¨æ”¹å˜å˜é‡é¡ºåºï¼Œæœ‰äº›ç¼–è¯‘å™¨ä¸èƒ½äº§ç”Ÿ4å­—èŠ‚å¯¹é½çš„æ ˆï¼Œæ‰€ä»¥4å­—èŠ‚å¯èƒ½ä¸å¯¹é½ã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­æ¼”ç¤ºäº†æœ¬åœ°å˜é‡å£°æ˜çš„é‡æ–°æ’åºï¼š</p><p>ä¸å¥½çš„ä»£ç ï¼Œæ™®é€šé¡ºåº</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">short</span> ga, gu, gi;</span><br><span class="line"><span class="type">long</span> foo, bar;</span><br><span class="line"><span class="type">double</span> x, y, z[<span class="number">3</span>];</span><br><span class="line"><span class="type">char</span> a, b;</span><br><span class="line"><span class="type">float</span> baz;</span><br></pre></td></tr></table></figure><p>æ¨èçš„ä»£ç ï¼Œæ”¹è¿›çš„é¡ºåº</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> z[<span class="number">3</span>];</span><br><span class="line"><span class="type">double</span> x, y;</span><br><span class="line"><span class="type">long</span> foo, bar;</span><br><span class="line"><span class="type">float</span> baz;</span><br><span class="line"><span class="type">short</span> ga, gu, gi;</span><br></pre></td></tr></table></figure><h3 id="âœˆï¸-æŠŠé¢‘ç¹ä½¿ç”¨çš„æŒ‡é’ˆå‹å‚æ•°æ‹·è´åˆ°æœ¬åœ°å˜é‡"><a href="#âœˆï¸-æŠŠé¢‘ç¹ä½¿ç”¨çš„æŒ‡é’ˆå‹å‚æ•°æ‹·è´åˆ°æœ¬åœ°å˜é‡" class="headerlink" title="âœˆï¸ æŠŠé¢‘ç¹ä½¿ç”¨çš„æŒ‡é’ˆå‹å‚æ•°æ‹·è´åˆ°æœ¬åœ°å˜é‡"></a>âœˆï¸ æŠŠé¢‘ç¹ä½¿ç”¨çš„æŒ‡é’ˆå‹å‚æ•°æ‹·è´åˆ°æœ¬åœ°å˜é‡</h3><p>é¿å…åœ¨å‡½æ•°ä¸­é¢‘ç¹ä½¿ç”¨æŒ‡é’ˆå‹å‚æ•°æŒ‡å‘çš„å€¼ã€‚å› ä¸ºç¼–è¯‘å™¨ä¸çŸ¥é“æŒ‡é’ˆä¹‹é—´æ˜¯å¦å­˜åœ¨å†²çªï¼Œæ‰€ä»¥æŒ‡é’ˆå‹å‚æ•°å¾€å¾€ä¸èƒ½è¢«ç¼–è¯‘å™¨ä¼˜åŒ–ã€‚è¿™æ ·æ•°æ®ä¸èƒ½è¢«å­˜æ”¾åœ¨å¯„å­˜å™¨ä¸­ï¼Œè€Œä¸”æ˜æ˜¾åœ°å ç”¨äº†å†…å­˜å¸¦å®½ã€‚æ³¨æ„ï¼Œå¾ˆå¤šç¼–è¯‘å™¨æœ‰â€œå‡è®¾ä¸å†²çªâ€ä¼˜åŒ–å¼€å…³ï¼ˆåœ¨VCé‡Œå¿…é¡»æ‰‹åŠ¨æ·»åŠ ç¼–è¯‘å™¨å‘½ä»¤è¡Œ/Oaæˆ–/Owï¼‰ï¼Œè¿™å…è®¸ç¼–è¯‘å™¨å‡è®¾ä¸¤ä¸ªä¸åŒçš„æŒ‡é’ˆæ€»æ˜¯æœ‰ä¸åŒçš„å†…å®¹ï¼Œè¿™æ ·å°±ä¸ç”¨æŠŠæŒ‡é’ˆå‹å‚æ•°ä¿å­˜åˆ°æœ¬åœ°å˜é‡ã€‚å¦åˆ™ï¼Œè¯·åœ¨å‡½æ•°ä¸€å¼€å§‹æŠŠæŒ‡é’ˆæŒ‡å‘çš„æ•°æ®ä¿å­˜åˆ°æœ¬åœ°å˜é‡ã€‚å¦‚æœéœ€è¦çš„è¯ï¼Œåœ¨å‡½æ•°ç»“æŸå‰æ‹·è´å›å»ã€‚</p><p>ä¸å¥½çš„ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡è®¾ q != r</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">isqrt</span><span class="params">(<span class="type">unsigned</span> <span class="type">long</span> a, <span class="type">unsigned</span> <span class="type">long</span>* q, <span class="type">unsigned</span> <span class="type">long</span>* r)</span></span><br><span class="line">&#123;</span><br><span class="line">    *q = a;</span><br><span class="line">    <span class="keyword">if</span> (a &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span> (*q &gt; (*r = a / *q))</span><br><span class="line">        &#123;</span><br><span class="line">          *q = (*q + *r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    *r = a - *q * *q;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¨èçš„ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡è®¾ q != r</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">isqrt</span><span class="params">(<span class="type">unsigned</span> <span class="type">long</span> a, <span class="type">unsigned</span> <span class="type">long</span>* q, <span class="type">unsigned</span> <span class="type">long</span>* r)</span></span><br><span class="line">&#123;</span><br><span class="line">ã€€ã€€<span class="type">unsigned</span> <span class="type">long</span> qq, rr;</span><br><span class="line">ã€€ã€€qq = a;</span><br><span class="line">ã€€ã€€<span class="keyword">if</span> (a &gt; <span class="number">0</span>)</span><br><span class="line">ã€€ã€€&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">while</span> (qq &gt; (rr = a / qq))</span><br><span class="line">ã€€ã€€ã€€ã€€&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€qq = (qq + rr) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">ã€€ã€€ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€rr = a - qq * qq;</span><br><span class="line">ã€€ã€€*q = qq;</span><br><span class="line">ã€€ã€€*r = rr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ğŸš€-å¾ªç¯ä¼˜åŒ–"><a href="#ğŸš€-å¾ªç¯ä¼˜åŒ–" class="headerlink" title="ğŸš€ å¾ªç¯ä¼˜åŒ–"></a>ğŸš€ å¾ªç¯ä¼˜åŒ–</h2><h3 id="âœˆï¸-å……åˆ†åˆ†è§£å°çš„å¾ªç¯"><a href="#âœˆï¸-å……åˆ†åˆ†è§£å°çš„å¾ªç¯" class="headerlink" title="âœˆï¸ å……åˆ†åˆ†è§£å°çš„å¾ªç¯"></a>âœˆï¸ å……åˆ†åˆ†è§£å°çš„å¾ªç¯</h3><p>è¦å……åˆ†åˆ©ç”¨CPUçš„æŒ‡ä»¤ç¼“å­˜ï¼Œå°±è¦å……åˆ†åˆ†è§£å°çš„å¾ªç¯ã€‚ç‰¹åˆ«æ˜¯å½“å¾ªç¯ä½“æœ¬èº«å¾ˆå°çš„æ—¶å€™ï¼Œåˆ†è§£å¾ªç¯å¯ä»¥æé«˜æ€§èƒ½ã€‚æ³¨æ„:å¾ˆå¤šç¼–è¯‘å™¨å¹¶ä¸èƒ½è‡ªåŠ¨åˆ†è§£å¾ªç¯ã€‚ä¸å¥½çš„ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3Dè½¬åŒ–ï¼šæŠŠçŸ¢é‡ V å’Œ 4x4 çŸ©é˜µ M ç›¸ä¹˜</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i ++)</span><br><span class="line">&#123;</span><br><span class="line">ã€€ã€€r[i] = <span class="number">0</span>;</span><br><span class="line">ã€€ã€€<span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j ++)</span><br><span class="line">ã€€ã€€&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€r[i] += M[j][i] * V[j];</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¨èçš„ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">r[<span class="number">0</span>] = M[<span class="number">0</span>][<span class="number">0</span>]*V[<span class="number">0</span>] + M[<span class="number">1</span>][<span class="number">0</span>]*V[<span class="number">1</span>] + M[<span class="number">2</span>][<span class="number">0</span>]*V[<span class="number">2</span>] + M[<span class="number">3</span>][<span class="number">0</span>]*V[<span class="number">3</span>];</span><br><span class="line">r[<span class="number">1</span>] = M[<span class="number">0</span>][<span class="number">1</span>]*V[<span class="number">0</span>] + M[<span class="number">1</span>][<span class="number">1</span>]*V[<span class="number">1</span>] + M[<span class="number">2</span>][<span class="number">1</span>]*V[<span class="number">2</span>] + M[<span class="number">3</span>][<span class="number">1</span>]*V[<span class="number">3</span>];</span><br><span class="line">r[<span class="number">2</span>] = M[<span class="number">0</span>][<span class="number">2</span>]*V[<span class="number">0</span>] + M[<span class="number">1</span>][<span class="number">2</span>]*V[<span class="number">1</span>] + M[<span class="number">2</span>][<span class="number">2</span>]*V[<span class="number">2</span>] + M[<span class="number">3</span>][<span class="number">2</span>]*V[<span class="number">3</span>];</span><br><span class="line">r[<span class="number">3</span>] = M[<span class="number">0</span>][<span class="number">3</span>]*V[<span class="number">0</span>] + M[<span class="number">1</span>][<span class="number">3</span>]*V[<span class="number">1</span>] + M[<span class="number">2</span>][<span class="number">3</span>]*V[<span class="number">2</span>] + M[<span class="number">3</span>][<span class="number">3</span>]*v[<span class="number">3</span>];</span><br></pre></td></tr></table></figure><h3 id="âœˆï¸-æå–å…¬å…±éƒ¨åˆ†"><a href="#âœˆï¸-æå–å…¬å…±éƒ¨åˆ†" class="headerlink" title="âœˆï¸ æå–å…¬å…±éƒ¨åˆ†"></a>âœˆï¸ æå–å…¬å…±éƒ¨åˆ†</h3><p>å¯¹äºä¸€äº›ä¸éœ€è¦å¾ªç¯å˜é‡å‚åŠ è¿ç®—çš„ä»»åŠ¡å¯ä»¥æŠŠå®ƒä»¬æ”¾åˆ°å¾ªç¯å¤–é¢ï¼Œè¿™é‡Œçš„ä»»åŠ¡åŒ…æ‹¬è¡¨è¾¾å¼ã€å‡½æ•°çš„è°ƒç”¨ã€æŒ‡é’ˆè¿ç®—ã€æ•°ç»„è®¿é—®ç­‰ï¼Œåº”è¯¥å°†æ²¡æœ‰å¿…è¦æ‰§è¡Œå¤šæ¬¡çš„æ“ä½œå…¨éƒ¨é›†åˆåœ¨ä¸€èµ·ï¼Œæ”¾åˆ°ä¸€ä¸ªinitçš„åˆå§‹åŒ–ç¨‹åºä¸­è¿›è¡Œã€‚</p><h3 id="âœˆï¸-å»¶æ—¶å‡½æ•°"><a href="#âœˆï¸-å»¶æ—¶å‡½æ•°" class="headerlink" title="âœˆï¸ å»¶æ—¶å‡½æ•°"></a>âœˆï¸ å»¶æ—¶å‡½æ•°</h3><p>é€šå¸¸ä½¿ç”¨çš„å»¶æ—¶å‡½æ•°å‡é‡‡ç”¨è‡ªåŠ çš„å½¢å¼ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">delay</span> <span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°†å…¶æ”¹ä¸ºè‡ªå‡å»¶æ—¶å‡½æ•°ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">delay</span> <span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1000</span>; i &gt; <span class="number">0</span>; i--);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸¤ä¸ªå‡½æ•°çš„å»¶æ—¶æ•ˆæœç›¸ä¼¼ï¼Œä½†å‡ ä¹æ‰€æœ‰çš„Cç¼–è¯‘å¯¹åä¸€ç§å‡½æ•°ç”Ÿæˆçš„ä»£ç å‡æ¯”å‰ä¸€ç§ä»£ç å°‘13ä¸ªå­—èŠ‚ï¼Œå› ä¸ºå‡ ä¹æ‰€æœ‰çš„MCUå‡æœ‰ä¸º0è½¬ç§»çš„æŒ‡ä»¤ï¼Œé‡‡ç”¨åä¸€ç§æ–¹å¼èƒ½å¤Ÿç”Ÿæˆè¿™ç±»æŒ‡ä»¤ã€‚åœ¨ä½¿ç”¨whileå¾ªç¯æ—¶ä¹Ÿä¸€æ ·ï¼Œä½¿ç”¨è‡ªå‡æŒ‡ä»¤æ§åˆ¶å¾ªç¯ä¼šæ¯”ä½¿ç”¨è‡ªåŠ æŒ‡ä»¤æ§åˆ¶å¾ªç¯ç”Ÿæˆçš„ä»£ç æ›´å°‘1~3ä¸ªå­—æ¯ã€‚ä½†æ˜¯åœ¨å¾ªç¯ä¸­æœ‰é€šè¿‡å¾ªç¯å˜é‡â€œiâ€è¯»å†™æ•°ç»„çš„æŒ‡ä»¤æ—¶ï¼Œä½¿ç”¨é¢„å‡å¾ªç¯æœ‰å¯èƒ½ä½¿æ•°ç»„è¶…ç•Œï¼Œè¦å¼•èµ·æ³¨æ„ã€‚</p><h3 id="âœˆï¸-whileå¾ªç¯å’Œdoâ€¦whileå¾ªç¯"><a href="#âœˆï¸-whileå¾ªç¯å’Œdoâ€¦whileå¾ªç¯" class="headerlink" title="âœˆï¸ whileå¾ªç¯å’Œdoâ€¦whileå¾ªç¯"></a>âœˆï¸ whileå¾ªç¯å’Œdoâ€¦whileå¾ªç¯</h3><p>ç”¨whileå¾ªç¯æ—¶æœ‰ä»¥ä¸‹ä¸¤ç§å¾ªç¯å½¢å¼ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">int</span> i;</span><br><span class="line">i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt; <span class="number">1000</span>)</span><br><span class="line">&#123;</span><br><span class="line">    i++;</span><br><span class="line">    <span class="comment">//ç”¨æˆ·ç¨‹åº</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ–ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">int</span> i;</span><br><span class="line">i = <span class="number">1000</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="comment">//ç”¨æˆ·ç¨‹åº</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (i &gt; <span class="number">0</span>);</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸¤ç§å¾ªç¯ä¸­ï¼Œä½¿ç”¨doâ€¦whileå¾ªç¯ç¼–è¯‘åç”Ÿæˆçš„ä»£ç çš„é•¿åº¦çŸ­äºwhileå¾ªç¯ã€‚</p><h3 id="âœˆï¸-å¾ªç¯å±•å¼€"><a href="#âœˆï¸-å¾ªç¯å±•å¼€" class="headerlink" title="âœˆï¸ å¾ªç¯å±•å¼€"></a>âœˆï¸ å¾ªç¯å±•å¼€</h3><p>è¿™æ˜¯ç»å…¸çš„é€Ÿåº¦ä¼˜åŒ–ï¼Œä½†è®¸å¤šç¼–è¯‘ç¨‹åº(å¦‚gcc -funroll-loops)èƒ½è‡ªåŠ¨å®Œæˆè¿™ä¸ªäº‹ï¼Œæ‰€ä»¥ç°åœ¨ä½ è‡ªå·±æ¥ä¼˜åŒ–è¿™ä¸ªæ˜¾å¾—æ•ˆæœä¸æ˜æ˜¾ã€‚</p><p>æ—§ä»£ç :</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    do_stuff(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°ä»£ç :</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">100</span>; )</span><br><span class="line">&#123;</span><br><span class="line">    do_stuff(i); i++;</span><br><span class="line">    do_stuff(i); i++;</span><br><span class="line">    do_stuff(i); i++;</span><br><span class="line">    do_stuff(i); i++;</span><br><span class="line">    do_stuff(i); i++;</span><br><span class="line">    do_stuff(i); i++;</span><br><span class="line">    do_stuff(i); i++;</span><br><span class="line">    do_stuff(i); i++;</span><br><span class="line">    do_stuff(i); i++;</span><br><span class="line">    do_stuff(i); i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œæ–°ä»£ç é‡Œæ¯”è¾ƒæŒ‡ä»¤ç”±100æ¬¡é™ä½ä¸º10æ¬¡ï¼Œå¾ªç¯æ—¶é—´èŠ‚çº¦äº†90%ã€‚ä¸è¿‡æ³¨æ„:å¯¹äºä¸­é—´å˜é‡æˆ–ç»“æœè¢«æ›´æ”¹çš„å¾ªç¯ï¼Œç¼–è¯‘ç¨‹åºå¾€å¾€æ‹’ç»å±•å¼€ï¼Œ(æ€•æ‹…è´£ä»»å‘—)ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä½ è‡ªå·±æ¥åšå±•å¼€å·¥ä½œäº†ã€‚</p><p>è¿˜æœ‰ä¸€ç‚¹è¯·æ³¨æ„ï¼Œåœ¨æœ‰å†…éƒ¨æŒ‡ä»¤cacheçš„CPUä¸Š(å¦‚MMXèŠ¯ç‰‡)ï¼Œå› ä¸ºå¾ªç¯å±•å¼€çš„ä»£ç å¾ˆå¤§ï¼Œå¾€å¾€cacheæº¢å‡ºï¼Œè¿™æ—¶å±•å¼€çš„ä»£ç ä¼šé¢‘ç¹åœ°åœ¨CPU çš„cacheå’Œå†…å­˜ä¹‹é—´è°ƒæ¥è°ƒå»ï¼Œåˆå› ä¸ºcacheé€Ÿåº¦å¾ˆé«˜ï¼Œæ‰€ä»¥æ­¤æ—¶å¾ªç¯å±•å¼€åè€Œä¼šå˜æ…¢ã€‚è¿˜æœ‰å°±æ˜¯å¾ªç¯å±•å¼€ä¼šå½±å“çŸ¢é‡è¿ç®—ä¼˜åŒ–ã€‚</p><h3 id="âœˆï¸-å¾ªç¯åµŒå¥—"><a href="#âœˆï¸-å¾ªç¯åµŒå¥—" class="headerlink" title="âœˆï¸ å¾ªç¯åµŒå¥—"></a>âœˆï¸ å¾ªç¯åµŒå¥—</h3><p>æŠŠç›¸å…³å¾ªç¯æ”¾åˆ°ä¸€ä¸ªå¾ªç¯é‡Œï¼Œä¹Ÿä¼šåŠ å¿«é€Ÿåº¦ã€‚</p><p>æ—§ä»£ç :</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAX; i++)         <span class="comment">/* initialize 2d array to 0&#x27;s */</span></span><br><span class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; MAX; j++)</span><br><span class="line">        a[i][j] = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAX; i++)        <span class="comment">/* put 1&#x27;s along the diagonal */</span></span><br><span class="line">        a[i][i] = <span class="number">1.0</span>;</span><br></pre></td></tr></table></figure><p>æ–°ä»£ç :</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAX; i++)         <span class="comment">/* initialize 2d array to 0&#x27;s */</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; MAX; j++)</span><br><span class="line">        a[i][j] = <span class="number">0.0</span>;</span><br><span class="line">    a[i][i] = <span class="number">1.0</span>;                            <span class="comment">/* put 1&#x27;s along the diagonal */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="âœˆï¸-Switchè¯­å¥ä¸­æ ¹æ®å‘ç”Ÿé¢‘ç‡æ¥è¿›è¡Œcaseæ’åº"><a href="#âœˆï¸-Switchè¯­å¥ä¸­æ ¹æ®å‘ç”Ÿé¢‘ç‡æ¥è¿›è¡Œcaseæ’åº" class="headerlink" title="âœˆï¸ Switchè¯­å¥ä¸­æ ¹æ®å‘ç”Ÿé¢‘ç‡æ¥è¿›è¡Œcaseæ’åº"></a>âœˆï¸ Switchè¯­å¥ä¸­æ ¹æ®å‘ç”Ÿé¢‘ç‡æ¥è¿›è¡Œcaseæ’åº</h3><p>Switch å¯èƒ½è½¬åŒ–æˆå¤šç§ä¸åŒç®—æ³•çš„ä»£ç ã€‚å…¶ä¸­æœ€å¸¸è§çš„æ˜¯è·³è½¬è¡¨å’Œæ¯”è¾ƒé“¾/æ ‘ã€‚å½“switchç”¨æ¯”è¾ƒé“¾çš„æ–¹å¼è½¬åŒ–æ—¶ï¼Œç¼–è¯‘å™¨ä¼šäº§ç”Ÿif-else-ifçš„åµŒå¥—ä»£ç ï¼Œå¹¶æŒ‰ç…§é¡ºåºè¿›è¡Œæ¯”è¾ƒï¼ŒåŒ¹é…æ—¶å°±è·³è½¬åˆ°æ»¡è¶³æ¡ä»¶çš„è¯­å¥æ‰§è¡Œã€‚æ‰€ä»¥å¯ä»¥å¯¹caseçš„å€¼ä¾ç…§å‘ç”Ÿçš„å¯èƒ½æ€§è¿›è¡Œæ’åºï¼ŒæŠŠæœ€æœ‰å¯èƒ½çš„æ”¾åœ¨ç¬¬ä¸€ä½ï¼Œè¿™æ ·å¯ä»¥æé«˜æ€§èƒ½ã€‚æ­¤å¤–ï¼Œåœ¨caseä¸­æ¨èä½¿ç”¨å°çš„è¿ç»­çš„æ•´æ•°ï¼Œå› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„ç¼–è¯‘å™¨éƒ½å¯ä»¥æŠŠswitch è½¬åŒ–æˆè·³è½¬è¡¨ã€‚</p><p>ä¸å¥½çš„ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> days_in_month, short_months, normal_months, long_months;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (days_in_month)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">28</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">29</span>:</span><br><span class="line">        short_months++;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">30</span>:</span><br><span class="line">        normal_months++;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">31</span>:</span><br><span class="line">        long_months++;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;month has fewer than 28 or more than 31 days&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¨èçš„ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> days_in_monthï¼Œ short_monthsï¼Œ normal_monthsï¼Œ long_months;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (days_in_month)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">31</span>:</span><br><span class="line">        long_months++;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">30</span>:</span><br><span class="line">        normal_months++;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">28</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">29</span>:</span><br><span class="line">        short_months++;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;month has fewer than 28 or more than 31 days&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="âœˆï¸-å°†å¤§çš„switchè¯­å¥è½¬ä¸ºåµŒå¥—switchè¯­å¥"><a href="#âœˆï¸-å°†å¤§çš„switchè¯­å¥è½¬ä¸ºåµŒå¥—switchè¯­å¥" class="headerlink" title="âœˆï¸ å°†å¤§çš„switchè¯­å¥è½¬ä¸ºåµŒå¥—switchè¯­å¥"></a>âœˆï¸ å°†å¤§çš„switchè¯­å¥è½¬ä¸ºåµŒå¥—switchè¯­å¥</h3><p>å½“switchè¯­å¥ä¸­çš„caseæ ‡å·å¾ˆå¤šæ—¶ï¼Œä¸ºäº†å‡å°‘æ¯”è¾ƒçš„æ¬¡æ•°ï¼Œæ˜æ™ºçš„åšæ³•æ˜¯æŠŠå¤§switchè¯­å¥è½¬ä¸ºåµŒå¥—switchè¯­å¥ã€‚æŠŠå‘ç”Ÿé¢‘ç‡é«˜çš„case æ ‡å·æ”¾åœ¨ä¸€ä¸ªswitchè¯­å¥ä¸­ï¼Œå¹¶ä¸”æ˜¯åµŒå¥—switchè¯­å¥çš„æœ€å¤–å±‚ï¼Œå‘ç”Ÿç›¸å¯¹é¢‘ç‡ç›¸å¯¹ä½çš„caseæ ‡å·æ”¾åœ¨å¦ä¸€ä¸ªswitchè¯­å¥ä¸­ã€‚æ¯”å¦‚ï¼Œä¸‹é¢çš„ç¨‹åºæ®µæŠŠç›¸å¯¹å‘ç”Ÿé¢‘ç‡ä½çš„æƒ…å†µæ”¾åœ¨ç¼ºçœçš„caseæ ‡å·å†…ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">pMsg = ReceiveMessage();</span><br><span class="line"><span class="keyword">switch</span> (pMsg-&gt;type)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">case</span> FREQUENT_MSG1:</span><br><span class="line">        handleFrequentMsg();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> FREQUENT_MSG2:</span><br><span class="line">        handleFrequentMsg2();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> FREQUENT_MSGn:</span><br><span class="line">        handleFrequentMsgn();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:                     <span class="comment">//åµŒå¥—éƒ¨åˆ†ç”¨æ¥å¤„ç†ä¸ç»å¸¸å‘ç”Ÿçš„æ¶ˆæ¯</span></span><br><span class="line">        <span class="keyword">switch</span> (pMsg-&gt;type)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> INFREQUENT_MSG1:</span><br><span class="line">                handleInfrequentMsg1();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> INFREQUENT_MSG2:</span><br><span class="line">                handleInfrequentMsg2();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> INFREQUENT_MSGm:</span><br><span class="line">                handleInfrequentMsgm();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœswitchä¸­æ¯ä¸€ç§æƒ…å†µä¸‹éƒ½æœ‰å¾ˆå¤šçš„å·¥ä½œè¦åšï¼Œé‚£ä¹ˆæŠŠæ•´ä¸ªswitchè¯­å¥ç”¨ä¸€ä¸ªæŒ‡å‘å‡½æ•°æŒ‡é’ˆçš„è¡¨æ¥æ›¿æ¢ä¼šæ›´åŠ æœ‰æ•ˆï¼Œæ¯”å¦‚ä¸‹é¢çš„switchè¯­å¥ï¼Œæœ‰ä¸‰ç§æƒ…å†µï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">MsgType</span>&#123;</span>Msg1, Msg2, Msg3&#125;;</span><br><span class="line"><span class="keyword">switch</span> (ReceiveMessage()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">case</span> Msg1;</span><br><span class="line">        ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</span><br><span class="line">    <span class="keyword">case</span> Msg2;</span><br><span class="line">        ã€‚ã€‚ã€‚ã€‚ã€‚</span><br><span class="line">    <span class="keyword">case</span> Msg3;</span><br><span class="line">        ã€‚ã€‚ã€‚ã€‚ã€‚</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºäº†æé«˜æ‰§è¡Œé€Ÿåº¦ï¼Œç”¨ä¸‹é¢è¿™æ®µä»£ç æ¥æ›¿æ¢è¿™ä¸ªä¸Šé¢çš„switchè¯­å¥ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*å‡†å¤‡å·¥ä½œ*/</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">handleMsg1</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">handleMsg2</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">handleMsg3</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="comment">/*åˆ›å»ºä¸€ä¸ªå‡½æ•°æŒ‡é’ˆæ•°ç»„*/</span></span><br><span class="line"><span class="type">int</span> (*MsgFunction [])() = &#123;handleMsg1, handleMsg2, handleMsg3&#125;;</span><br><span class="line"><span class="comment">/*ç”¨ä¸‹é¢è¿™è¡Œæ›´æœ‰æ•ˆçš„ä»£ç æ¥æ›¿æ¢switchè¯­å¥*/</span></span><br><span class="line">status=MsgFunction[ReceiveMessage()]();</span><br></pre></td></tr></table></figure><h3 id="âœˆï¸-å¾ªç¯è½¬ç½®"><a href="#âœˆï¸-å¾ªç¯è½¬ç½®" class="headerlink" title="âœˆï¸ å¾ªç¯è½¬ç½®"></a>âœˆï¸ å¾ªç¯è½¬ç½®</h3><p>æœ‰äº›æœºå™¨å¯¹JNZ(ä¸º0è½¬ç§»)æœ‰ç‰¹åˆ«çš„æŒ‡ä»¤å¤„ç†ï¼Œé€Ÿåº¦éå¸¸å¿«ï¼Œå¦‚æœä½ çš„å¾ªç¯å¯¹æ–¹å‘ä¸æ•æ„Ÿï¼Œå¯ä»¥ç”±å¤§å‘å°å¾ªç¯ã€‚</p><p>æ—§ä»£ç :</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= MAX; i++)</span><br><span class="line">&#123;</span><br><span class="line">    ã€‚ã€‚ã€‚</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°ä»£ç :</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">i = MAX + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (--i)</span><br><span class="line">&#123;</span><br><span class="line">    ã€‚ã€‚ã€‚</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸è¿‡åƒä¸‡æ³¨æ„ï¼Œå¦‚æœæŒ‡é’ˆæ“ä½œä½¿ç”¨äº†iå€¼ï¼Œè¿™ç§æ–¹æ³•å¯èƒ½å¼•èµ·æŒ‡é’ˆè¶Šç•Œçš„ä¸¥é‡é”™è¯¯(i = MAX+1;)ã€‚å½“ç„¶ä½ å¯ä»¥é€šè¿‡å¯¹iåšåŠ å‡è¿ç®—æ¥çº æ­£ï¼Œä½†æ˜¯è¿™æ ·å°±èµ·ä¸åˆ°åŠ é€Ÿçš„ä½œç”¨ï¼Œé™¤éç±»ä¼¼äºä»¥ä¸‹æƒ…å†µï¼š</p><p>æ—§ä»£ç :</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> a[MAX + <span class="number">5</span>];</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= MAX; i++)</span><br><span class="line">&#123;</span><br><span class="line">    *(a + i + <span class="number">4</span>) = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°ä»£ç :</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">i = MAX + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (--i)</span><br><span class="line">&#123;</span><br><span class="line">    *(a + i + <span class="number">4</span>) = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="âœˆï¸-å…¬ç”¨ä»£ç å—"><a href="#âœˆï¸-å…¬ç”¨ä»£ç å—" class="headerlink" title="âœˆï¸ å…¬ç”¨ä»£ç å—"></a>âœˆï¸ å…¬ç”¨ä»£ç å—</h3><p>ä¸€äº›å…¬ç”¨å¤„ç†æ¨¡å—ï¼Œä¸ºäº†æ»¡è¶³å„ç§ä¸åŒçš„è°ƒç”¨éœ€è¦ï¼Œå¾€å¾€åœ¨å†…éƒ¨é‡‡ç”¨äº†å¤§é‡çš„if-then-elseç»“æ„ï¼Œè¿™æ ·å¾ˆä¸å¥½ï¼Œåˆ¤æ–­è¯­å¥å¦‚æœå¤ªå¤æ‚ï¼Œä¼šæ¶ˆè€—å¤§é‡çš„æ—¶é—´çš„ï¼Œåº”è¯¥å°½é‡å‡å°‘å…¬ç”¨ä»£ç å—çš„ä½¿ç”¨ã€‚(ä»»ä½•æƒ…å†µä¸‹ï¼Œç©ºé—´ä¼˜åŒ–å’Œæ—¶é—´ä¼˜åŒ–éƒ½æ˜¯å¯¹ç«‹çš„â€”ä¸œæ¥¼)ã€‚å½“ç„¶ï¼Œå¦‚æœä»…ä»…æ˜¯ä¸€ä¸ª(3==x)ä¹‹ç±»çš„ç®€å•åˆ¤æ–­ï¼Œé€‚å½“ä½¿ç”¨ä¸€ä¸‹ï¼Œä¹Ÿè¿˜æ˜¯å…è®¸çš„ã€‚è®°ä½ï¼Œä¼˜åŒ–æ°¸è¿œæ˜¯è¿½æ±‚ä¸€ç§å¹³è¡¡ï¼Œè€Œä¸æ˜¯èµ°æç«¯ã€‚</p><h3 id="âœˆï¸-æå‡å¾ªç¯çš„æ€§èƒ½"><a href="#âœˆï¸-æå‡å¾ªç¯çš„æ€§èƒ½" class="headerlink" title="âœˆï¸ æå‡å¾ªç¯çš„æ€§èƒ½"></a>âœˆï¸ æå‡å¾ªç¯çš„æ€§èƒ½</h3><p>è¦æå‡å¾ªç¯çš„æ€§èƒ½ï¼Œå‡å°‘å¤šä½™çš„å¸¸é‡è®¡ç®—éå¸¸æœ‰ç”¨ï¼ˆæ¯”å¦‚ï¼Œä¸éšå¾ªç¯å˜åŒ–çš„è®¡ç®—ï¼‰ã€‚</p><p>ä¸å¥½çš„ä»£ç (åœ¨for()ä¸­åŒ…å«ä¸å˜çš„if())ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>( i ã€‚ã€‚ã€‚)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>( CONSTANT0 )</span><br><span class="line">    &#123;</span><br><span class="line">        DoWork0(i);<span class="comment">// å‡è®¾è¿™é‡Œä¸æ”¹å˜CONSTANT0çš„å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        DoWork1(i);<span class="comment">// å‡è®¾è¿™é‡Œä¸æ”¹å˜CONSTANT0çš„å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¨èçš„ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>( CONSTANT0 )</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>( i ã€‚ã€‚ã€‚)</span><br><span class="line">    &#123;</span><br><span class="line">        DoWork0( i );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>( i ã€‚ã€‚ã€‚)</span><br><span class="line">    &#123;</span><br><span class="line">        DoWork1( i );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœå·²ç»çŸ¥é“if()çš„å€¼ï¼Œè¿™æ ·å¯ä»¥é¿å…é‡å¤è®¡ç®—ã€‚è™½ç„¶ä¸å¥½çš„ä»£ç ä¸­çš„åˆ†æ”¯å¯ä»¥ç®€å•åœ°é¢„æµ‹ï¼Œä½†æ˜¯ç”±äºæ¨èçš„ä»£ç åœ¨è¿›å…¥å¾ªç¯å‰åˆ†æ”¯å·²ç»ç¡®å®šï¼Œå°±å¯ä»¥å‡å°‘å¯¹åˆ†æ”¯é¢„æµ‹çš„ä¾èµ–ã€‚</p><h3 id="âœˆï¸-é€‰æ‹©å¥½çš„æ— é™å¾ªç¯"><a href="#âœˆï¸-é€‰æ‹©å¥½çš„æ— é™å¾ªç¯" class="headerlink" title="âœˆï¸ é€‰æ‹©å¥½çš„æ— é™å¾ªç¯"></a>âœˆï¸ é€‰æ‹©å¥½çš„æ— é™å¾ªç¯</h3><p>åœ¨ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦ç”¨åˆ°æ— é™å¾ªç¯ï¼Œå¸¸ç”¨çš„ä¸¤ç§æ–¹æ³•æ˜¯<code>while (1)</code>å’Œ<code>for (;;)</code>ã€‚è¿™ä¸¤ç§æ–¹æ³•æ•ˆæœå®Œå…¨ä¸€æ ·ï¼Œä½†é‚£ä¸€ç§æ›´å¥½å‘¢ï¼Ÿç„¶æˆ‘ä»¬çœ‹çœ‹å®ƒä»¬ç¼–è¯‘åçš„ä»£ç ï¼š</p><p>ç¼–è¯‘å‰ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="number">1</span>);</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘åï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mov eax, <span class="number">1</span></span><br><span class="line">test eax, eax</span><br><span class="line">je foo + <span class="number">23</span>h</span><br><span class="line">jmp foo + <span class="number">18</span>h</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å‰ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (;;);</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘åï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jmp foo + <span class="number">23</span>h</span><br></pre></td></tr></table></figure><p>æ˜¾ç„¶ï¼Œ<code>for (;;)</code>æŒ‡ä»¤å°‘ï¼Œä¸å ç”¨å¯„å­˜å™¨ï¼Œè€Œä¸”æ²¡æœ‰åˆ¤æ–­ã€è·³è½¬ï¼Œæ¯”<code>while (1)</code>å¥½ã€‚</p><h2 id="ğŸš€-æé«˜CPUçš„å¹¶è¡Œæ€§"><a href="#ğŸš€-æé«˜CPUçš„å¹¶è¡Œæ€§" class="headerlink" title="ğŸš€ æé«˜CPUçš„å¹¶è¡Œæ€§"></a>ğŸš€ æé«˜CPUçš„å¹¶è¡Œæ€§</h2><h3 id="âœˆï¸-ä½¿ç”¨å¹¶è¡Œä»£ç "><a href="#âœˆï¸-ä½¿ç”¨å¹¶è¡Œä»£ç " class="headerlink" title="âœˆï¸ ä½¿ç”¨å¹¶è¡Œä»£ç "></a>âœˆï¸ ä½¿ç”¨å¹¶è¡Œä»£ç </h3><p>å°½å¯èƒ½æŠŠé•¿çš„æœ‰ä¾èµ–çš„ä»£ç é“¾åˆ†è§£æˆå‡ ä¸ªå¯ä»¥åœ¨æµæ°´çº¿æ‰§è¡Œå•å…ƒä¸­å¹¶è¡Œæ‰§è¡Œçš„æ²¡æœ‰ä¾èµ–çš„ä»£ç é“¾ã€‚å¾ˆå¤šé«˜çº§è¯­è¨€ï¼ŒåŒ…æ‹¬C++ï¼Œå¹¶ä¸å¯¹äº§ç”Ÿçš„æµ®ç‚¹è¡¨è¾¾å¼é‡æ–°æ’åºï¼Œå› ä¸ºé‚£æ˜¯ä¸€ä¸ªç›¸å½“å¤æ‚çš„è¿‡ç¨‹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé‡æ’åºçš„ä»£ç å’ŒåŸæ¥çš„ä»£ç åœ¨ä»£ç ä¸Šä¸€è‡´å¹¶ä¸ç­‰ä»·äºè®¡ç®—ç»“æœä¸€è‡´ï¼Œå› ä¸ºæµ®ç‚¹æ“ä½œç¼ºä¹ç²¾ç¡®åº¦ã€‚åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œè¿™äº›ä¼˜åŒ–å¯èƒ½å¯¼è‡´æ„æ–™ä¹‹å¤–çš„ç»“æœã€‚å¹¸è¿çš„æ˜¯ï¼Œåœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæœ€åç»“æœå¯èƒ½åªæœ‰æœ€ä¸é‡è¦çš„ä½ï¼ˆå³æœ€ä½ä½ï¼‰æ˜¯é”™è¯¯çš„ã€‚</p><p>ä¸å¥½çš„ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> a[<span class="number">100</span>], sum;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line">sum = <span class="number">0.0f</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)</span><br><span class="line">    sum += a[i];</span><br></pre></td></tr></table></figure><p>æ¨èçš„ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> a[<span class="number">100</span>], sum1, sum2, sum3, sum4, sum;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line">sum1 = sum2 = sum3 = sum4 = <span class="number">0.0</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>;i &lt; <span class="number">100</span>; i += <span class="number">4</span>)</span><br><span class="line">&#123;</span><br><span class="line">    sum1 += a[i];</span><br><span class="line">    sum2 += a[i+<span class="number">1</span>];</span><br><span class="line">    sum3 += a[i+<span class="number">2</span>];</span><br><span class="line">    sum4 += a[i+<span class="number">3</span>];</span><br><span class="line">&#125;</span><br><span class="line">sum = (sum4 + sum3) + (sum1 + sum2);</span><br></pre></td></tr></table></figure><p>è¦æ³¨æ„çš„æ˜¯ï¼šä½¿ç”¨4è·¯åˆ†è§£æ˜¯å› ä¸ºè¿™æ ·ä½¿ç”¨äº†4æ®µæµæ°´çº¿æµ®ç‚¹åŠ æ³•ï¼Œæµ®ç‚¹åŠ æ³•çš„æ¯ä¸€ä¸ªæ®µå ç”¨ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œä¿è¯äº†æœ€å¤§çš„èµ„æºåˆ©ç”¨ç‡ã€‚</p><h3 id="âœˆï¸-é¿å…æ²¡æœ‰å¿…è¦çš„è¯»å†™ä¾èµ–"><a href="#âœˆï¸-é¿å…æ²¡æœ‰å¿…è¦çš„è¯»å†™ä¾èµ–" class="headerlink" title="âœˆï¸ é¿å…æ²¡æœ‰å¿…è¦çš„è¯»å†™ä¾èµ–"></a>âœˆï¸ é¿å…æ²¡æœ‰å¿…è¦çš„è¯»å†™ä¾èµ–</h3><p>å½“æ•°æ®ä¿å­˜åˆ°å†…å­˜æ—¶å­˜åœ¨è¯»å†™ä¾èµ–ï¼Œå³æ•°æ®å¿…é¡»åœ¨æ­£ç¡®å†™å…¥åæ‰èƒ½å†æ¬¡è¯»å–ã€‚è™½ç„¶AMD Athlonç­‰CPUæœ‰åŠ é€Ÿè¯»å†™ä¾èµ–å»¶è¿Ÿçš„ç¡¬ä»¶ï¼Œå…è®¸åœ¨è¦ä¿å­˜çš„æ•°æ®è¢«å†™å…¥å†…å­˜å‰è¯»å–å‡ºæ¥ï¼Œä½†æ˜¯ï¼Œå¦‚æœé¿å…äº†è¯»å†™ä¾èµ–å¹¶æŠŠæ•°æ®ä¿å­˜åœ¨å†…éƒ¨å¯„å­˜å™¨ä¸­ï¼Œé€Ÿåº¦ä¼šæ›´å¿«ã€‚åœ¨ä¸€æ®µå¾ˆé•¿çš„åˆäº’ç›¸ä¾èµ–çš„ä»£ç é“¾ä¸­ï¼Œé¿å…è¯»å†™ä¾èµ–æ˜¾å¾—å°¤å…¶é‡è¦ã€‚å¦‚æœè¯»å†™ä¾èµ–å‘ç”Ÿåœ¨æ“ä½œæ•°ç»„æ—¶ï¼Œè®¸å¤šç¼–è¯‘å™¨ä¸èƒ½è‡ªåŠ¨ä¼˜åŒ–ä»£ç ä»¥é¿å…è¯»å†™ä¾èµ–ã€‚æ‰€ä»¥æ¨èç¨‹åºå‘˜æ‰‹åŠ¨å»æ¶ˆé™¤è¯»å†™ä¾èµ–ï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œå¼•è¿›ä¸€ä¸ªå¯ä»¥ä¿å­˜åœ¨å¯„å­˜å™¨ä¸­çš„ä¸´æ—¶å˜é‡ã€‚è¿™æ ·å¯ä»¥æœ‰å¾ˆå¤§çš„æ€§èƒ½æå‡ã€‚ä¸‹é¢ä¸€æ®µä»£ç æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><p>ä¸å¥½çš„ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> x[VECLEN]ï¼Œ y[VECLEN]ï¼Œ z[VECLEN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">unsigned</span> <span class="type">int</span> k = <span class="number">1</span>; k &lt; VECLEN; k ++)</span><br><span class="line">&#123;</span><br><span class="line">    x[k] = x[k<span class="number">-1</span>] + y[k];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (k = <span class="number">1</span>; k &lt; VECLEN; k++)</span><br><span class="line">&#123;</span><br><span class="line">    x[k] = z[k] * (y[k] - x[k - <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¨èçš„ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> x[VECLEN]ï¼Œ y[VECLEN]ï¼Œ z[VECLEN];</span><br><span class="line"></span><br><span class="line"><span class="type">float</span> <span class="title function_">t</span><span class="params">(x[<span class="number">0</span>])</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">unsigned</span> <span class="type">int</span> k = <span class="number">1</span>; k &lt; VECLEN; k ++)</span><br><span class="line">&#123;</span><br><span class="line">    t = t + y[k];</span><br><span class="line">    x[k] = t;</span><br><span class="line">&#125;</span><br><span class="line">t = x[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span> (k = <span class="number">1</span>;k &lt; VECLEN; k ++)</span><br><span class="line">&#123;</span><br><span class="line">    t = z[k] * (y[k] - t);</span><br><span class="line">    x[k] = t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ğŸš€-å¾ªç¯ä¸å˜è®¡ç®—"><a href="#ğŸš€-å¾ªç¯ä¸å˜è®¡ç®—" class="headerlink" title="ğŸš€ å¾ªç¯ä¸å˜è®¡ç®—"></a>ğŸš€ å¾ªç¯ä¸å˜è®¡ç®—</h2><p>å¯¹äºä¸€äº›ä¸éœ€è¦å¾ªç¯å˜é‡å‚åŠ è¿ç®—çš„è®¡ç®—ä»»åŠ¡å¯ä»¥æŠŠå®ƒä»¬æ”¾åˆ°å¾ªç¯å¤–é¢ï¼Œç°åœ¨è®¸å¤šç¼–è¯‘å™¨è¿˜æ˜¯èƒ½è‡ªå·±å¹²è¿™ä»¶äº‹ï¼Œä¸è¿‡å¯¹äºä¸­é—´ä½¿ç”¨äº†å˜é‡çš„ç®—å¼å®ƒä»¬å°±ä¸æ•¢åŠ¨äº†ï¼Œæ‰€ä»¥å¾ˆå¤šæƒ…å†µä¸‹ä½ è¿˜å¾—è‡ªå·±å¹²ã€‚å¯¹äºé‚£äº›åœ¨å¾ªç¯ä¸­è°ƒç”¨çš„å‡½æ•°ï¼Œå‡¡æ˜¯æ²¡å¿…è¦æ‰§è¡Œå¤šæ¬¡çš„æ“ä½œé€šé€šæå‡ºæ¥ï¼Œæ”¾åˆ°ä¸€ä¸ªinitå‡½æ•°é‡Œï¼Œå¾ªç¯å‰è°ƒç”¨ã€‚å¦å¤–å°½é‡å‡å°‘å–‚é£Ÿæ¬¡æ•°ï¼Œæ²¡å¿…è¦çš„è¯å°½é‡ä¸ç»™å®ƒä¼ å‚ï¼Œéœ€è¦å¾ªç¯å˜é‡çš„è¯è®©å®ƒè‡ªå·±å»ºç«‹ä¸€ä¸ªé™æ€å¾ªç¯å˜é‡è‡ªå·±ç´¯åŠ ï¼Œé€Ÿåº¦ä¼šå¿«ä¸€ç‚¹ã€‚</p><p>è¿˜æœ‰å°±æ˜¯ç»“æ„ä½“è®¿é—®ï¼Œä¸œæ¥¼çš„ç»éªŒï¼Œå‡¡æ˜¯åœ¨å¾ªç¯é‡Œå¯¹ä¸€ä¸ªç»“æ„ä½“çš„ä¸¤ä¸ªä»¥ä¸Šçš„å…ƒç´ æ‰§è¡Œäº†è®¿é—®ï¼Œå°±æœ‰å¿…è¦å»ºç«‹ä¸­é—´å˜é‡äº†(ç»“æ„è¿™æ ·ï¼Œé‚£C++çš„å¯¹è±¡å‘¢?æƒ³æƒ³çœ‹)ï¼Œçœ‹ä¸‹é¢çš„ä¾‹å­:</p><p>æ—§ä»£ç :</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">total = a-&gt;b-&gt;c[<span class="number">4</span>]-&gt;aardvark + a-&gt;b-&gt;c[<span class="number">4</span>]-&gt;baboon + a-&gt;b-&gt;c[<span class="number">4</span>]-&gt;cheetah + a-&gt;b-&gt;c[<span class="number">4</span>]-&gt;dog;</span><br></pre></td></tr></table></figure><p>æ–°ä»£ç :</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">animals</span> * <span class="title">temp</span> =</span> a-&gt;b-&gt;c[<span class="number">4</span>];</span><br><span class="line">total = temp-&gt;aardvark + temp-&gt;baboon + temp-&gt;cheetah + temp-&gt;dog;</span><br></pre></td></tr></table></figure><p>ä¸€äº›è€çš„Cè¯­è¨€ç¼–è¯‘å™¨ä¸åšèšåˆä¼˜åŒ–ï¼Œè€Œç¬¦åˆANSIè§„èŒƒçš„æ–°çš„ç¼–è¯‘å™¨å¯ä»¥è‡ªåŠ¨å®Œæˆè¿™ä¸ªä¼˜åŒ–ï¼Œçœ‹ä¾‹å­:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> a, b, c, d, f, g;</span><br><span class="line"></span><br><span class="line">a = b / c * d;</span><br><span class="line">f = b * g / c;</span><br></pre></td></tr></table></figure><p>è¿™ç§å†™æ³•å½“ç„¶è¦å¾—ï¼Œä½†æ˜¯æ²¡æœ‰ä¼˜åŒ–</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> a, b, c, d, f, g;</span><br><span class="line"></span><br><span class="line">a = b / c * d;</span><br><span class="line">f = b / c * g;</span><br></pre></td></tr></table></figure><p>å¦‚æœè¿™ä¹ˆå†™çš„è¯ï¼Œä¸€ä¸ªç¬¦åˆANSIè§„èŒƒçš„æ–°çš„ç¼–è¯‘å™¨å¯ä»¥åªè®¡ç®—b/cä¸€æ¬¡ï¼Œç„¶åå°†ç»“æœä»£å…¥ç¬¬äºŒä¸ªå¼å­ï¼ŒèŠ‚çº¦äº†ä¸€æ¬¡é™¤æ³•è¿ç®—ã€‚</p><h2 id="ğŸš€-å‡½æ•°ä¼˜åŒ–"><a href="#ğŸš€-å‡½æ•°ä¼˜åŒ–" class="headerlink" title="ğŸš€ å‡½æ•°ä¼˜åŒ–"></a>ğŸš€ å‡½æ•°ä¼˜åŒ–</h2><h3 id="âœˆï¸-Inlineå‡½æ•°"><a href="#âœˆï¸-Inlineå‡½æ•°" class="headerlink" title="âœˆï¸ Inlineå‡½æ•°"></a>âœˆï¸ Inlineå‡½æ•°</h3><p>åœ¨C++ä¸­ï¼Œå…³é”®å­—Inlineå¯ä»¥è¢«åŠ å…¥åˆ°ä»»ä½•å‡½æ•°çš„å£°æ˜ä¸­ã€‚è¿™ä¸ªå…³é”®å­—è¯·æ±‚ç¼–è¯‘å™¨ç”¨å‡½æ•°å†…éƒ¨çš„ä»£ç æ›¿æ¢æ‰€æœ‰å¯¹äºæŒ‡å‡ºçš„å‡½æ•°çš„è°ƒç”¨ã€‚è¿™æ ·åšåœ¨ä¸¤ä¸ªæ–¹é¢å¿«äºå‡½æ•°è°ƒç”¨ï¼šç¬¬ä¸€ï¼Œçœå»äº†è°ƒç”¨æŒ‡ä»¤éœ€è¦çš„æ‰§è¡Œæ—¶é—´;ç¬¬äºŒï¼Œçœå»äº†ä¼ é€’å˜å…ƒå’Œä¼ é€’è¿‡ç¨‹éœ€è¦çš„æ—¶é—´ã€‚ä½†æ˜¯ä½¿ç”¨è¿™ç§æ–¹æ³•åœ¨ä¼˜åŒ–ç¨‹åºé€Ÿåº¦çš„åŒæ—¶ï¼Œç¨‹åºé•¿åº¦å˜å¤§äº†ï¼Œå› æ­¤éœ€è¦æ›´å¤šçš„ROMã€‚ä½¿ç”¨è¿™ç§ä¼˜åŒ–åœ¨Inlineå‡½æ•°é¢‘ç¹è°ƒç”¨å¹¶ä¸”åªåŒ…å«å‡ è¡Œä»£ç çš„æ—¶å€™æ˜¯æœ€æœ‰æ•ˆçš„ã€‚</p><h3 id="âœˆï¸-ä¸å®šä¹‰ä¸ä½¿ç”¨çš„è¿”å›å€¼"><a href="#âœˆï¸-ä¸å®šä¹‰ä¸ä½¿ç”¨çš„è¿”å›å€¼" class="headerlink" title="âœˆï¸ ä¸å®šä¹‰ä¸ä½¿ç”¨çš„è¿”å›å€¼"></a>âœˆï¸ ä¸å®šä¹‰ä¸ä½¿ç”¨çš„è¿”å›å€¼</h3><p>å‡½æ•°å®šä¹‰å¹¶ä¸çŸ¥é“å‡½æ•°è¿”å›å€¼æ˜¯å¦è¢«ä½¿ç”¨ï¼Œå‡å¦‚è¿”å›å€¼ä»æ¥ä¸ä¼šè¢«ç”¨åˆ°ï¼Œåº”è¯¥ä½¿ç”¨voidæ¥æ˜ç¡®å£°æ˜å‡½æ•°ä¸è¿”å›ä»»ä½•å€¼ã€‚</p><h3 id="âœˆï¸-å‡å°‘å‡½æ•°è°ƒç”¨å‚æ•°"><a href="#âœˆï¸-å‡å°‘å‡½æ•°è°ƒç”¨å‚æ•°" class="headerlink" title="âœˆï¸ å‡å°‘å‡½æ•°è°ƒç”¨å‚æ•°"></a>âœˆï¸ å‡å°‘å‡½æ•°è°ƒç”¨å‚æ•°</h3><p>ä½¿ç”¨å…¨å±€å˜é‡æ¯”å‡½æ•°ä¼ é€’å‚æ•°æ›´åŠ æœ‰æ•ˆç‡ã€‚è¿™æ ·åšå»é™¤äº†å‡½æ•°è°ƒç”¨å‚æ•°å…¥æ ˆå’Œå‡½æ•°å®Œæˆåå‚æ•°å‡ºæ ˆæ‰€éœ€è¦çš„æ—¶é—´ã€‚ç„¶è€Œå†³å®šä½¿ç”¨å…¨å±€å˜é‡ä¼šå½±å“ç¨‹åºçš„æ¨¡å—åŒ–å’Œé‡å…¥ï¼Œæ•…è¦æ…é‡ä½¿ç”¨ã€‚</p><h3 id="âœˆï¸-æ‰€æœ‰å‡½æ•°éƒ½åº”è¯¥æœ‰åŸå‹å®šä¹‰"><a href="#âœˆï¸-æ‰€æœ‰å‡½æ•°éƒ½åº”è¯¥æœ‰åŸå‹å®šä¹‰" class="headerlink" title="âœˆï¸ æ‰€æœ‰å‡½æ•°éƒ½åº”è¯¥æœ‰åŸå‹å®šä¹‰"></a>âœˆï¸ æ‰€æœ‰å‡½æ•°éƒ½åº”è¯¥æœ‰åŸå‹å®šä¹‰</h3><p>ä¸€èˆ¬æ¥è¯´ï¼Œæ‰€æœ‰å‡½æ•°éƒ½åº”è¯¥æœ‰åŸå‹å®šä¹‰ã€‚åŸå‹å®šä¹‰å¯ä»¥ä¼ è¾¾ç»™ç¼–è¯‘å™¨æ›´å¤šçš„å¯èƒ½ç”¨äºä¼˜åŒ–çš„ä¿¡æ¯ã€‚</p><h3 id="âœˆï¸-å°½å¯èƒ½ä½¿ç”¨å¸¸é‡-const"><a href="#âœˆï¸-å°½å¯èƒ½ä½¿ç”¨å¸¸é‡-const" class="headerlink" title="âœˆï¸ å°½å¯èƒ½ä½¿ç”¨å¸¸é‡(const)"></a>âœˆï¸ å°½å¯èƒ½ä½¿ç”¨å¸¸é‡(const)</h3><p>å°½å¯èƒ½ä½¿ç”¨å¸¸é‡(const)ã€‚C++ æ ‡å‡†è§„å®šï¼Œå¦‚æœä¸€ä¸ªconstå£°æ˜çš„å¯¹è±¡çš„åœ°å€ä¸è¢«è·å–ï¼Œå…è®¸ç¼–è¯‘å™¨ä¸å¯¹å®ƒåˆ†é…å‚¨å­˜ç©ºé—´ã€‚è¿™æ ·å¯ä»¥ä½¿ä»£ç æ›´æœ‰æ•ˆç‡ï¼Œè€Œä¸”å¯ä»¥ç”Ÿæˆæ›´å¥½çš„ä»£ç ã€‚</p><h3 id="âœˆï¸-æŠŠæœ¬åœ°å‡½æ•°å£°æ˜ä¸ºé™æ€çš„-static"><a href="#âœˆï¸-æŠŠæœ¬åœ°å‡½æ•°å£°æ˜ä¸ºé™æ€çš„-static" class="headerlink" title="âœˆï¸ æŠŠæœ¬åœ°å‡½æ•°å£°æ˜ä¸ºé™æ€çš„(static)"></a>âœˆï¸ æŠŠæœ¬åœ°å‡½æ•°å£°æ˜ä¸ºé™æ€çš„(static)</h3><p>å¦‚æœä¸€ä¸ªå‡½æ•°åªåœ¨å®ç°å®ƒçš„æ–‡ä»¶ä¸­è¢«ä½¿ç”¨ï¼ŒæŠŠå®ƒå£°æ˜ä¸ºé™æ€çš„(static)ä»¥å¼ºåˆ¶ä½¿ç”¨å†…éƒ¨è¿æ¥ã€‚å¦åˆ™ï¼Œé»˜è®¤çš„æƒ…å†µä¸‹ä¼šæŠŠå‡½æ•°å®šä¹‰ä¸ºå¤–éƒ¨è¿æ¥ã€‚è¿™æ ·å¯èƒ½ä¼šå½±å“æŸäº›ç¼–è¯‘å™¨çš„ä¼˜åŒ–â€”â€”æ¯”å¦‚ï¼Œè‡ªåŠ¨å†…è”ã€‚</p><h2 id="ğŸš€-é‡‡ç”¨é€’å½’"><a href="#ğŸš€-é‡‡ç”¨é€’å½’" class="headerlink" title="ğŸš€ é‡‡ç”¨é€’å½’"></a>ğŸš€ é‡‡ç”¨é€’å½’</h2><p>ä¸LISPä¹‹ç±»çš„è¯­è¨€ä¸åŒï¼ŒCè¯­è¨€ä¸€å¼€å§‹å°±ç—…æ€åœ°å–œæ¬¢ç”¨é‡å¤ä»£ç å¾ªç¯ï¼Œè®¸å¤šCç¨‹åºå‘˜éƒ½æ˜¯é™¤éç®—æ³•è¦æ±‚ï¼Œåšå†³ä¸ç”¨é€’å½’ã€‚äº‹å®ä¸Šï¼ŒCç¼–è¯‘å™¨ä»¬å¯¹ä¼˜åŒ–é€’å½’è°ƒç”¨ä¸€ç‚¹éƒ½ä¸åæ„Ÿï¼Œç›¸åï¼Œå®ƒä»¬è¿˜å¾ˆå–œæ¬¢å¹²è¿™ä»¶äº‹ã€‚åªæœ‰åœ¨é€’å½’å‡½æ•°éœ€è¦ä¼ é€’å¤§é‡å‚æ•°ï¼Œå¯èƒ½é€ æˆç“¶é¢ˆçš„æ—¶å€™ï¼Œæ‰åº”è¯¥ä½¿ç”¨å¾ªç¯ä»£ç ï¼Œå…¶ä»–æ—¶å€™ï¼Œè¿˜æ˜¯ç”¨é€’å½’å¥½äº›ã€‚</p><h2 id="ğŸš€-å˜é‡"><a href="#ğŸš€-å˜é‡" class="headerlink" title="ğŸš€ å˜é‡"></a>ğŸš€ å˜é‡</h2><h3 id="âœˆï¸-registerå˜é‡"><a href="#âœˆï¸-registerå˜é‡" class="headerlink" title="âœˆï¸ registerå˜é‡"></a>âœˆï¸ registerå˜é‡</h3><p>åœ¨å£°æ˜å±€éƒ¨å˜é‡çš„æ—¶å€™å¯ä»¥ä½¿ç”¨registerå…³é”®å­—ã€‚è¿™å°±ä½¿å¾—ç¼–è¯‘å™¨æŠŠå˜é‡æ”¾å…¥ä¸€ä¸ªå¤šç”¨é€”çš„å¯„å­˜å™¨ä¸­ï¼Œè€Œä¸æ˜¯åœ¨å †æ ˆä¸­ï¼Œåˆç†ä½¿ç”¨è¿™ç§æ–¹æ³•å¯ä»¥æé«˜æ‰§è¡Œé€Ÿåº¦ã€‚å‡½æ•°è°ƒç”¨è¶Šæ˜¯é¢‘ç¹ï¼Œè¶Šæ˜¯å¯èƒ½æé«˜ä»£ç çš„é€Ÿåº¦ã€‚</p><p>åœ¨æœ€å†…å±‚å¾ªç¯é¿å…ä½¿ç”¨å…¨å±€å˜é‡å’Œé™æ€å˜é‡ï¼Œé™¤éä½ èƒ½ç¡®å®šå®ƒåœ¨å¾ªç¯å‘¨æœŸä¸­ä¸ä¼šåŠ¨æ€å˜åŒ–ï¼Œå¤§å¤šæ•°ç¼–è¯‘å™¨ä¼˜åŒ–å˜é‡éƒ½åªæœ‰ä¸€ä¸ªåŠæ³•ï¼Œå°±æ˜¯å°†ä»–ä»¬ç½®æˆå¯„å­˜å™¨å˜é‡ï¼Œè€Œå¯¹äºåŠ¨æ€å˜é‡ï¼Œå®ƒä»¬å¹²è„†æ”¾å¼ƒå¯¹æ•´ä¸ªè¡¨è¾¾å¼çš„ä¼˜åŒ–ã€‚å°½é‡é¿å…æŠŠä¸€ä¸ªå˜é‡åœ°å€ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°ï¼Œè™½ç„¶è¿™ä¸ªè¿˜å¾ˆå¸¸ç”¨ã€‚Cè¯­è¨€çš„ç¼–è¯‘å™¨ä»¬æ€»æ˜¯å…ˆå‡å®šæ¯ä¸€ä¸ªå‡½æ•°çš„å˜é‡éƒ½æ˜¯å†…éƒ¨å˜é‡ï¼Œè¿™æ˜¯ç”±å®ƒçš„æœºåˆ¶å†³å®šçš„ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä»¬çš„ä¼˜åŒ–å®Œæˆå¾—æœ€å¥½ã€‚ä½†æ˜¯ï¼Œä¸€æ—¦ä¸€ä¸ªå˜é‡æœ‰å¯èƒ½è¢«åˆ«çš„å‡½æ•°æ”¹å˜ï¼Œè¿™å¸®å…„å¼Ÿå°±å†ä¹Ÿä¸æ•¢æŠŠå˜é‡æ”¾åˆ°å¯„å­˜å™¨é‡Œäº†ï¼Œä¸¥é‡å½±å“é€Ÿåº¦ã€‚çœ‹ä¾‹å­ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = b();</span><br><span class="line">c(&amp;d);</span><br></pre></td></tr></table></figure><p>å› ä¸ºdçš„åœ°å€è¢«cå‡½æ•°ä½¿ç”¨ï¼Œæœ‰å¯èƒ½è¢«æ”¹å˜ï¼Œç¼–è¯‘å™¨ä¸æ•¢æŠŠå®ƒé•¿æ—¶é—´çš„æ”¾åœ¨å¯„å­˜å™¨é‡Œï¼Œä¸€æ—¦è¿è¡Œåˆ°c(&amp;d)ï¼Œç¼–è¯‘å™¨å°±æŠŠå®ƒæ”¾å›å†…å­˜ï¼Œå¦‚æœåœ¨å¾ªç¯é‡Œï¼Œä¼šé€ æˆNæ¬¡é¢‘ç¹çš„åœ¨å†…å­˜å’Œå¯„å­˜å™¨ä¹‹é—´è¯»å†™dçš„åŠ¨ä½œï¼Œä¼—æ‰€å‘¨çŸ¥ï¼ŒCPUåœ¨ç³»ç»Ÿæ€»çº¿ä¸Šçš„è¯»å†™é€Ÿåº¦æ…¢å¾—å¾ˆã€‚æ¯”å¦‚ä½ çš„èµ›æ¨300ï¼ŒCPUä¸»é¢‘300ï¼Œæ€»çº¿é€Ÿåº¦æœ€å¤š66Mï¼Œä¸ºäº†ä¸€ä¸ªæ€»çº¿è¯»ï¼ŒCPUå¯èƒ½è¦ç­‰4-5ä¸ªå‘¨æœŸï¼Œå¾—ã€‚ã€‚å¾—ã€‚ã€‚å¾—ã€‚ã€‚æƒ³èµ·æ¥éƒ½æ‰“é¢¤ã€‚</p><h3 id="âœˆï¸-åŒæ—¶å£°æ˜å¤šä¸ªå˜é‡ä¼˜äºå•ç‹¬å£°æ˜å˜é‡"><a href="#âœˆï¸-åŒæ—¶å£°æ˜å¤šä¸ªå˜é‡ä¼˜äºå•ç‹¬å£°æ˜å˜é‡" class="headerlink" title="âœˆï¸ åŒæ—¶å£°æ˜å¤šä¸ªå˜é‡ä¼˜äºå•ç‹¬å£°æ˜å˜é‡"></a>âœˆï¸ åŒæ—¶å£°æ˜å¤šä¸ªå˜é‡ä¼˜äºå•ç‹¬å£°æ˜å˜é‡</h3><h3 id="âœˆï¸-çŸ­å˜é‡åä¼˜äºé•¿å˜é‡åï¼Œåº”å°½é‡ä½¿å˜é‡åçŸ­ä¸€ç‚¹"><a href="#âœˆï¸-çŸ­å˜é‡åä¼˜äºé•¿å˜é‡åï¼Œåº”å°½é‡ä½¿å˜é‡åçŸ­ä¸€ç‚¹" class="headerlink" title="âœˆï¸ çŸ­å˜é‡åä¼˜äºé•¿å˜é‡åï¼Œåº”å°½é‡ä½¿å˜é‡åçŸ­ä¸€ç‚¹"></a>âœˆï¸ çŸ­å˜é‡åä¼˜äºé•¿å˜é‡åï¼Œåº”å°½é‡ä½¿å˜é‡åçŸ­ä¸€ç‚¹</h3><h3 id="âœˆï¸-åœ¨å¾ªç¯å¼€å§‹å‰å£°æ˜å˜é‡"><a href="#âœˆï¸-åœ¨å¾ªç¯å¼€å§‹å‰å£°æ˜å˜é‡" class="headerlink" title="âœˆï¸ åœ¨å¾ªç¯å¼€å§‹å‰å£°æ˜å˜é‡"></a>âœˆï¸ åœ¨å¾ªç¯å¼€å§‹å‰å£°æ˜å˜é‡</h3><h2 id="ğŸš€-ä½¿ç”¨åµŒå¥—çš„ifç»“æ„"><a href="#ğŸš€-ä½¿ç”¨åµŒå¥—çš„ifç»“æ„" class="headerlink" title="ğŸš€ ä½¿ç”¨åµŒå¥—çš„ifç»“æ„"></a>ğŸš€ ä½¿ç”¨åµŒå¥—çš„ifç»“æ„</h2><p>åœ¨ifç»“æ„ä¸­å¦‚æœè¦åˆ¤æ–­çš„å¹¶åˆ—æ¡ä»¶è¾ƒå¤šï¼Œæœ€å¥½å°†å®ƒä»¬æ‹†åˆ†æˆå¤šä¸ªifç»“æ„ï¼Œç„¶ååµŒå¥—åœ¨ä¸€èµ·ï¼Œè¿™æ ·å¯ä»¥é¿å…æ— è°“çš„åˆ¤æ–­ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoåšå®¢ç¾åŒ–</title>
      <link href="/2022/11/02/%E7%AC%94%E8%AE%B0/hexo%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96/"/>
      <url>/2022/11/02/%E7%AC%94%E8%AE%B0/hexo%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<p>ğŸš² ğŸš— âœˆï¸ ğŸš€</p><h2 id="ğŸš€-æ·»åŠ åŠ¨æ¼«äººç‰©"><a href="#ğŸš€-æ·»åŠ åŠ¨æ¼«äººç‰©" class="headerlink" title="ğŸš€ æ·»åŠ åŠ¨æ¼«äººç‰©"></a>ğŸš€ æ·»åŠ åŠ¨æ¼«äººç‰©</h2><p>å®‰è£… hexo-helper-live2d æ’ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure><p>å®‰è£…ä¸‹è½½åŠ¨ç”»äººç‰©åº“ï¼Œä¾‹å¦‚ä¸‹é¢å‡ ä¸ª</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install --save live2d-widget-model-shizuku <span class="comment">#è¯¾æ¡Œå¥³å­©</span></span><br><span class="line">npm install --save live2d-widget-model-hijiki  <span class="comment">#é»‘çŒ«</span></span><br><span class="line">npm install --save live2d-widget-model-tororo  <span class="comment">#ç™½çŒ«</span></span><br></pre></td></tr></table></figure><p>åšå®¢æ ¹ç›®å½•<code>_config.yml</code>æ–‡ä»¶é…ç½®:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## æ·»åŠ åŠ¨ç”»live2dæ¨¡å—  npm install --save hexo-helper-live2d</span></span><br><span class="line"><span class="comment">## ä¸‹è½½åŠ¨ç”»äººç‰©åº“ npm install live2d-widget-model-z16 -D</span></span><br><span class="line">live2d:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  scriptFrom: <span class="built_in">local</span> <span class="comment"># é»˜è®¤</span></span><br><span class="line">  pluginRootPath: live2dw/ <span class="comment"># æ’ä»¶åœ¨ç«™ç‚¹ä¸Šçš„æ ¹ç›®å½•(ç›¸å¯¹è·¯å¾„)</span></span><br><span class="line">  pluginJsPath: lib/ <span class="comment"># è„šæœ¬æ–‡ä»¶ç›¸å¯¹ä¸æ’ä»¶æ ¹ç›®å½•è·¯å¾„</span></span><br><span class="line">  pluginModelPath: assets/ <span class="comment"># æ¨¡å‹æ–‡ä»¶ç›¸å¯¹ä¸æ’ä»¶æ ¹ç›®å½•è·¯å¾„</span></span><br><span class="line">  tagMode: <span class="literal">false</span> <span class="comment"># æ ‡ç­¾æ¨¡å¼, æ˜¯å¦ä»…æ›¿æ¢ live2d tagæ ‡ç­¾è€Œéæ’å…¥åˆ°æ‰€æœ‰é¡µé¢ä¸­</span></span><br><span class="line">  debug: <span class="literal">false</span> <span class="comment"># è°ƒè¯•, æ˜¯å¦åœ¨æ§åˆ¶å°è¾“å‡ºæ—¥å¿—</span></span><br><span class="line">  model:</span><br><span class="line">    use: live2d-widget-model-miku</span><br><span class="line">  display:</span><br><span class="line">    position: right <span class="comment">#åŠ¨ç”»ä½ç½®</span></span><br><span class="line">    width: 150</span><br><span class="line">    height: 190</span><br><span class="line">    <span class="comment"># ä½ç½®é…ç½®ï¼Œè¿™ä¸ªåœ¨å·¦ä¾§è¾¹æ ä½ç½®å¾ˆå±…ä¸­</span></span><br><span class="line">    hOffset: 50  <span class="comment"># è°ƒèŠ‚æ°´å¹³ä½ç½®</span></span><br><span class="line">    vOffset: -5  <span class="comment"># è°ƒèŠ‚å‚ç›´ä½ç½®</span></span><br><span class="line">  mobile:</span><br><span class="line">    show: <span class="literal">false</span> <span class="comment"># æ˜¯å¦åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ˜¾ç¤º</span></span><br><span class="line">    scale: 0.5 <span class="comment"># ç§»åŠ¨è®¾å¤‡ä¸Šçš„ç¼©æ”¾</span></span><br><span class="line">  react:</span><br><span class="line">    opacityDefault: 0.7</span><br><span class="line">    opacityOnHover: 0.8</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ğŸš€-å‚è€ƒèµ„æ–™"><a href="#ğŸš€-å‚è€ƒèµ„æ–™" class="headerlink" title="ğŸš€ å‚è€ƒèµ„æ–™"></a>ğŸš€ å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://blog.csdn.net/u013044713/article/details/120251025?spm=1001.2014.3001.5506#t8">hexoåšå®¢æ­å»ºåŠä¸»é¢˜ä¼˜åŒ–(äºŒ)</a></li><li><a href="https://blog.csdn.net/qq_36239569/article/details/104104894">Hexoæ·»åŠ Live2Dçœ‹æ¿å¨˜æœ€æ–°æ•™ç¨‹</a></li><li><a href="https://blog.csdn.net/wang_123_zy/article/details/87181892">Hexoæ·»åŠ Live2Dçœ‹æ¿å¨˜+æ¨¡å‹é¢„è§ˆ</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RaspberryPi-PICOåœ¨Linuxç³»ç»Ÿä¸‹çš„Cå¼€å‘ç¯å¢ƒæ­å»º</title>
      <link href="/2022/10/30/%E5%8D%95%E7%89%87%E6%9C%BA/RaspberryPi-PICO%E5%9C%A8Linux%E7%B3%BB%E7%BB%9F%E4%B8%8B%E7%9A%84C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
      <url>/2022/10/30/%E5%8D%95%E7%89%87%E6%9C%BA/RaspberryPi-PICO%E5%9C%A8Linux%E7%B3%BB%E7%BB%9F%E4%B8%8B%E7%9A%84C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<p>ğŸš€ âœˆï¸ ğŸš— ğŸš²</p><p>æœ¬æœºç³»ç»Ÿä¸º Ubuntu 2022.04</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">linkk@linkk-Ubuntu22:/$ <span class="built_in">uname</span> -a</span><br><span class="line">Linux linkk-Ubuntu22 5.15.0-52-generic <span class="comment">#58-Ubuntu SMP Thu Oct 13 08:03:55 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux</span></span><br></pre></td></tr></table></figure><h2 id="ğŸš€-å®‰è£…CMake"><a href="#ğŸš€-å®‰è£…CMake" class="headerlink" title="ğŸš€ å®‰è£…CMake"></a>ğŸš€ å®‰è£…CMake</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install cmake</span><br><span class="line">cmake --version              <span class="comment"># æŸ¥çœ‹ç‰ˆæœ¬</span></span><br></pre></td></tr></table></figure><p>==å¦‚æœç‰ˆæœ¬ä½äº3.12.0åˆ™éœ€è¦æ›´æ–°cmakeï¼ˆé€šè¿‡cmakeæºç ç¼–è¯‘å‡çº§ï¼‰==</p><h2 id="ğŸš€-ä¸‹è½½ä»£ç ä»“åº“"><a href="#ğŸš€-ä¸‹è½½ä»£ç ä»“åº“" class="headerlink" title="ğŸš€ ä¸‹è½½ä»£ç ä»“åº“"></a>ğŸš€ ä¸‹è½½ä»£ç ä»“åº“</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p ~/workspace/raspberry_pi_pico</span><br><span class="line"><span class="built_in">cd</span> ~/workspace/raspberry_pi_pico</span><br><span class="line">git <span class="built_in">clone</span> -b master https://github.com/raspberrypi/pico-sdk.git</span><br><span class="line"><span class="built_in">cd</span> pico-sdk/</span><br><span class="line">git submodule update --init</span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line">git <span class="built_in">clone</span> -b master https://github.com/raspberrypi/pico-examples.git</span><br><span class="line">git <span class="built_in">clone</span> -b master https://github.com/raspberrypi/pico-extras.git</span><br></pre></td></tr></table></figure><p>==æ³¨æ„git submodule update â€”initä¸€å®šè¦æ‰§è¡Œï¼Œå› ä¸ºpico-sdké‡Œé¢è¦ç”¨åˆ°tinyUSBï¼Œå¦åˆ™sdké‡Œé¢çš„USBåŠŸèƒ½å°±éƒ½æ— æ³•ä½¿ç”¨==</p><p>è¿™æ—¶å€™è¯¥è·¯å¾„ä¸‹ä¸€å…±æœ‰å››ä¸ªæ–‡ä»¶å¤¹ã€‚å…¶ä¸­æœ€é‡è¦çš„ä¸¤ä¸ªä»“åº“ï¼Œä¸€ä¸ªæ˜¯ pico-sdk ï¼Œä¸€ä¸ªæ˜¯ pico-examples ã€‚å…¶ä»–ä»“åº“éƒ½æ˜¯ä¸€äº›é«˜çº§åº”ç”¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">linkk@linkk-Ubuntu22:~/workspace/raspberry_pi_pico$ <span class="built_in">ls</span></span><br><span class="line">pico-examples  pico-extras  pico-playground  pico-sdk</span><br></pre></td></tr></table></figure><h2 id="ğŸš€-å®‰è£…äº¤å‰ç¼–è¯‘å·¥å…·é“¾"><a href="#ğŸš€-å®‰è£…äº¤å‰ç¼–è¯‘å·¥å…·é“¾" class="headerlink" title="ğŸš€ å®‰è£…äº¤å‰ç¼–è¯‘å·¥å…·é“¾"></a>ğŸš€ å®‰è£…äº¤å‰ç¼–è¯‘å·¥å…·é“¾</h2><h3 id="âœˆï¸-ä¸‹è½½äº¤å‰ç¼–è¯‘å·¥å…·é“¾"><a href="#âœˆï¸-ä¸‹è½½äº¤å‰ç¼–è¯‘å·¥å…·é“¾" class="headerlink" title="âœˆï¸ ä¸‹è½½äº¤å‰ç¼–è¯‘å·¥å…·é“¾"></a>âœˆï¸ ä¸‹è½½äº¤å‰ç¼–è¯‘å·¥å…·é“¾</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/workspace/raspberry_pi_pico</span><br><span class="line"><span class="built_in">mkdir</span> toolchain</span><br><span class="line"><span class="built_in">cd</span> toolchain</span><br><span class="line">wget https://armkeil.blob.core.windows.net/developer/Files/downloads/gnu-rm/10.3-2021.10/gcc-arm-none-eabi-10.3-2021.10-x86_64-linux.tar.bz2</span><br><span class="line">tar vxf gcc-arm-none-eabi-10.3-2021.10-x86_64-linux.tar.bz2</span><br><span class="line"><span class="built_in">rm</span> gcc-arm-none-eabi-10.3-2021.10-x86_64-linux.tar.bz2</span><br><span class="line"><span class="built_in">mv</span> gcc-arm-none-eabi-10.3-2021.10/ gcc-arm-none-eabi</span><br></pre></td></tr></table></figure><p>å…¶ä»–ç³»ç»Ÿçš„äº¤å‰ç¼–è¯‘å™¨å¯ä»¥åœ¨è¿™è¿›è¡ŒæŸ¥æ‰¾ä¸‹è½½ï¼š<a href="https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/gnu-rm/downloads">https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/gnu-rm/downloads</a></p><p>å¯ä»¥è¿›å…¥ bin æ–‡ä»¶å¤¹æŸ¥çœ‹ä¸€ä¸‹äº¤å‰ç¼–è¯‘å™¨çš„ç‰ˆæœ¬ï¼Œç¡®ä¿å·¥å…·é“¾å¯ä»¥æ­£å¸¸ä½¿ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/workspace/raspberry_pi_pico/toolchain/gcc-arm-none-eabi/bin</span><br><span class="line">./arm-none-eabi-gcc -v</span><br></pre></td></tr></table></figure><h3 id="âœˆï¸-è®¾ç½®ç¯å¢ƒå˜é‡"><a href="#âœˆï¸-è®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="âœˆï¸ è®¾ç½®ç¯å¢ƒå˜é‡"></a>âœˆï¸ è®¾ç½®ç¯å¢ƒå˜é‡</h3><p>æ‰“å¼€ ~/.bashrc ï¼Œåœ¨æ–‡ä»¶æœ€åé¢æ·»åŠ ä¸‹é¢ä¸¤è¡Œè¯­å¥ï¼ˆéœ€æ ¹æ®äº¤å‰ç¼–è¯‘å™¨çš„å­˜æ”¾è·¯å¾„è¿›è¡Œä¿®æ”¹ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PICO_SDK_PATH=<span class="string">&quot;~/workspace/raspberry_pi_pico/pico-sdk&quot;</span></span><br><span class="line"><span class="built_in">export</span> PICO_TOOLCHAIN_PATH=<span class="string">&quot;~/workspace/raspberry_pi_pico/toolchain/gcc-arm-none-eabi&quot;</span></span><br></pre></td></tr></table></figure><p> è®¾ç½®å®Œæˆå==é‡æ–°æ‰“å¼€==ä¸€ä¸ªç»ˆç«¯ï¼Œè¾“å…¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">env</span> | grep PICO</span><br></pre></td></tr></table></figure><p>å¦‚æœèƒ½çœ‹åˆ°å¦‚ä¸‹å†…å®¹è¯´æ˜è®¾ç½®æˆåŠŸ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PICO_SDK_PATH=~/workspace/raspberry_pi_pico/pico-sdk</span><br><span class="line">PICO_TOOLCHAIN_PATH=~/workspace/raspberry_pi_pico/toolchain/gcc-arm-none-eabi</span><br></pre></td></tr></table></figure><h3 id="âœˆï¸-å®‰è£…g"><a href="#âœˆï¸-å®‰è£…g" class="headerlink" title="âœˆï¸ å®‰è£…g++"></a>âœˆï¸ å®‰è£…g++</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install g++</span><br><span class="line">g++ --version</span><br></pre></td></tr></table></figure><h2 id="ğŸš€-å‚è€ƒèµ„æ–™"><a href="#ğŸš€-å‚è€ƒèµ„æ–™" class="headerlink" title="ğŸš€ å‚è€ƒèµ„æ–™"></a>ğŸš€ å‚è€ƒèµ„æ–™</h2><p><a href="https://blog.csdn.net/tianizimark/article/details/122713031">Raspberry-Pi-PICOç³»åˆ—â€”ç¬¬ä¸‰ç¯‡ å¼€å‘ç¯å¢ƒæ­å»º-Ubuntuç³»ç»Ÿ</a></p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> RaspberryPi-PICO </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitå­¦ä¹ ç¬”è®°</title>
      <link href="/2022/10/30/%E7%AC%94%E8%AE%B0/Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2022/10/30/%E7%AC%94%E8%AE%B0/Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸš€-Git-ç®€ä»‹"><a href="#ğŸš€-Git-ç®€ä»‹" class="headerlink" title="ğŸš€ Git ç®€ä»‹"></a>ğŸš€ Git ç®€ä»‹</h2><p>â€‹        <strong>Git</strong> æ˜¯ <strong>Linus Torvalds</strong> ä¸ºäº†å¸®åŠ©ç®¡ç† Linux å†…æ ¸æºç è€Œå¼€å‘çš„ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥æœ‰æ•ˆã€é«˜é€Ÿåœ°å¤„ç†ä»å¾ˆå°åˆ°éå¸¸å¤§çš„é¡¹ç›®ç‰ˆæœ¬ç®¡ç†ã€‚ å®ƒæ‹¥æœ‰ä¸¤å¥—ç‰ˆæœ¬åº“ï¼Œæœ¬åœ°åº“å’Œè¿œç¨‹åº“ï¼Œåœ¨ä¸è¿›è¡Œåˆå¹¶å’Œåˆ é™¤ä¹‹ç±»çš„æ“ä½œæ—¶è¿™ä¸¤å¥—ç‰ˆæœ¬åº“äº’ä¸å½±å“ã€‚ä¹Ÿå› æ­¤å…¶è¿‘ä¹æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯æœ¬åœ°æ‰§è¡Œï¼Œæ‰€ä»¥åœ¨æ–­ç½‘çš„æƒ…å†µä¸‹ä»ç„¶å¯ä»¥æäº¤ä»£ç ï¼Œåˆ‡æ¢åˆ†æ”¯ã€‚Git åˆä½¿ç”¨äº† SHA-1 å“ˆå¸Œç®—æ³•ç¡®ä¿äº†åœ¨æ–‡ä»¶ä¼ è¾“æ—¶å˜å¾—ä¸å®Œæ•´ã€ç£ç›˜æŸåå¯¼è‡´æ•°æ®ä¸¢å¤±æ—¶èƒ½ç«‹å³å¯Ÿè§‰åˆ°ã€‚</p><p><img src="../../images/Gitå­¦ä¹ ç¬”è®°/image-20221010154859671.png" alt="å›¾1"></p><ul><li><p>workspaceï¼šå·¥ä½œåŒº</p></li><li><p>staging areaï¼šæš‚å­˜åŒº/ç¼“å­˜åŒº</p></li><li><p>blocal repositoryï¼šæœ¬åœ°ä»“åº“</p></li><li><p>remote repositoryï¼šè¿œç¨‹ä»“åº“</p></li></ul><h3 id="âœˆï¸-Git-çš„ä¼˜ç‚¹"><a href="#âœˆï¸-Git-çš„ä¼˜ç‚¹" class="headerlink" title="âœˆï¸ Git çš„ä¼˜ç‚¹"></a>âœˆï¸ Git çš„ä¼˜ç‚¹</h3><p>1ã€é€‚åˆåˆ†å¸ƒå¼å¼€å‘ï¼Œå¼ºè°ƒä¸ªä½“ã€‚</p><p>2ã€å…¬å…±æœåŠ¡å™¨å‹åŠ›å’Œæ•°æ®é‡éƒ½ä¸ä¼šå¤ªå¤§ã€‚</p><p>3ã€é€Ÿåº¦å¿«ã€çµæ´»ã€‚</p><p>4ã€ä»»æ„ä¸¤ä¸ªå¼€å‘è€…ä¹‹é—´å¯ä»¥å¾ˆå®¹æ˜“çš„è§£å†³å†²çªã€‚</p><p>5ã€ç¦»çº¿å·¥ä½œã€‚</p><h3 id="âœˆï¸-Git-çš„ç¼ºç‚¹"><a href="#âœˆï¸-Git-çš„ç¼ºç‚¹" class="headerlink" title="âœˆï¸ Git çš„ç¼ºç‚¹"></a>âœˆï¸ Git çš„ç¼ºç‚¹</h3><p>1ã€æ¨¡å¼ä¸Šæ¯” SVN æ›´åŠ å¤æ‚ã€‚</p><p>2ã€ä¸ç¬¦åˆå¸¸è§„æ€ç»´ã€‚</p><p>3ã€ä»£ç ä¿å¯†æ€§å·®ï¼Œä¸€æ—¦å¼€å‘è€…æŠŠæ•´ä¸ªåº“å…‹éš†ä¸‹æ¥å°±å¯ä»¥å®Œå…¨å…¬å¼€æ‰€æœ‰ä»£ç å’Œç‰ˆæœ¬ä¿¡æ¯ã€‚</p><h3 id="âœˆï¸-å°çŸ¥è¯†ï¼šGit-åå­—çš„ç”±æ¥"><a href="#âœˆï¸-å°çŸ¥è¯†ï¼šGit-åå­—çš„ç”±æ¥" class="headerlink" title="âœˆï¸ å°çŸ¥è¯†ï¼šGit åå­—çš„ç”±æ¥"></a>âœˆï¸ å°çŸ¥è¯†ï¼šGit åå­—çš„ç”±æ¥</h3><p>git åœ¨è‹±è¯­ä¿šè¯­æ„æ€æ˜¯è ¢è´§ï¼Œè‡ªä»¥ä¸ºæ˜¯ä¸”å¥½è¾©çš„äººã€‚ä»¥ä¸‹æ˜¯ä½œè€…æœ¬äººçš„è¯ï¼š</p><blockquote><p>Iâ€™m an egotistical bastard, and I name all my projects after myself. First â€˜Linuxâ€™, now â€˜Gitâ€™.<br>æˆ‘æ˜¯ä¸ªä»»æ€§çš„æ‚ç§ï¼Œæˆ‘æŠŠæ‰€æœ‰æˆ‘åšçš„é¡¹ç›®ä»¥æˆ‘è‡ªå·±å‘½åã€‚å…ˆæ˜¯â€™Linuxâ€™ï¼Œè¿™æ¬¡æ˜¯â€™Gitâ€™.</p></blockquote><p>é™¤æ­¤ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªè§£é‡Šã€‚</p><p>2005å¹´4æœˆ7æ—¥ï¼ŒLinus Torvalds å¯¹ Git çš„ä»£ç è¿›è¡Œé¦–æ¬¡æäº¤æ—¶ï¼Œæ·»åŠ äº†ä¸€ä¸ªåä¸º README çš„æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶çš„ç¬¬ä¸€æ®µæ˜¯è¿™æ ·å†™çš„ï¼š</p><blockquote><p>GIT - the stupid content tracker</p><p>â€œgitâ€ can mean anything, depending on your mood.</p><ul><li><p>random three-letter combination that is pronounceable, and not actually used by any common UNIX command.  The fact that it is a mispronunciation of â€œgetâ€ may or may not be relevant.</p></li><li><p>stupid. contemptible and despicable. simple. Take your pick from the dictionary of slang.</p></li><li><p>â€œglobal information trackerâ€: youâ€™re in a good mood, and it actually works for you. Angels sing, and a light suddenly fills the room.</p></li><li><p>â€œgoddamn idiotic truckload of sh*tâ€: when it breaks</p></li></ul><p>This is a stupid (but extremely fast) directory content manager.  It  doesnâ€™t do a whole lot, but what it <em>does</em> do is track directory contents efficiently.</p></blockquote><p>ä»ä¸Šé¢è¿™æ®µè¯ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒLinus å¯¹ Git çš„å«ä¹‰åšå‡ºäº†å¤šç§è§£é‡Šï¼š</p><ol><li>ç¬¬ä¸€ä¸ªåŸå› å¯ä»¥çœ‹åšæ˜¯å®ç”¨æ€§çš„åŸå› ã€‚ä¸€ä¸ªä¸‰ä¸ªå­—æ¯çš„å‘½ä»¤è¯´èµ·æ¥å¿«ï¼Œæ‰“èµ·æ¥ä¹Ÿå®¹æ˜“ã€‚</li><li>â€œGit â€œè¿™ä¸ªè¯æ²¡æœ‰è¢«ä»»ä½•å…¶ä»–ç°æœ‰çš„Unixå‘½ä»¤æ‰€ä½¿ç”¨ã€‚</li><li>Gitæœ€åˆçš„å·¥ä½œç‰ˆæœ¬çš„ä»£ç éå¸¸ç®€å•ï¼ŒåŠŸèƒ½å¾ˆå¼±ã€‚</li><li>è¡¨ç¤ºGlobal Information Trackerçš„ç¼©å†™ï¼Œå¦‚æœèƒ½æ­£å¸¸å·¥ä½œæ—¶ã€‚</li><li>è¡¨ç¤ºGoddamn Idiotic Truckload of sh*tçš„é¦–å­—æ¯ç¼©å†™ï¼Œå¦‚æœä¸èƒ½æ­£å¸¸å·¥ä½œæ—¶ã€‚</li></ol><h2 id="ğŸš€-Git-åŸºæœ¬ç¯å¢ƒæ­å»º"><a href="#ğŸš€-Git-åŸºæœ¬ç¯å¢ƒæ­å»º" class="headerlink" title="ğŸš€ Git åŸºæœ¬ç¯å¢ƒæ­å»º"></a>ğŸš€ Git åŸºæœ¬ç¯å¢ƒæ­å»º</h2><h3 id="âœˆï¸-åˆå§‹åŒ–ä»“åº“"><a href="#âœˆï¸-åˆå§‹åŒ–ä»“åº“" class="headerlink" title="âœˆï¸ åˆå§‹åŒ–ä»“åº“"></a>âœˆï¸ åˆå§‹åŒ–ä»“åº“</h3><p>åœ¨æƒ³è¦åˆ›å»ºæœ¬åœ°ä»“åº“çš„ç›®å½•ä¸‹å•å‡»é¼ æ ‡å³é”®ï¼Œé€‰æ‹© <strong>Git Bash Here</strong> ï¼Œåœ¨ git ç»ˆç«¯ è¾“å…¥å‘½ä»¤ <code>git init</code> åˆ›å»ºä¸€ä¸ªæœ¬åœ°ä»“åº“ã€‚</p><p>æ­¤æ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª master åˆ†æ”¯ï¼Œå¹¶åœ¨è¯¥ç›®å½•ä¸‹å»ºç«‹ .git ç›®å½•ã€‚</p><p><img src="../../images/Gitå­¦ä¹ ç¬”è®°/image-20221010163039891.png" alt="å›¾2 åˆå§‹åŒ–gitä»“åº“"></p><p>æ¯ä¸ªé¡¹ç›®æœ‰ä¸”åªæœ‰ä¸€ä¸ª .git ç›®å½•ï¼Œä¸ºé¡¹ç›®å­˜å‚¨æ‰€æœ‰å…ƒæ•°æ®å’Œå¯¹è±¡æ•°æ®åº“ï¼Œè¿™äº›å¯¹è±¡æŒ‡å‘ä¸åŒçš„åˆ†æ”¯ã€‚è¯¥ç›®å½•éå¸¸é‡è¦ï¼Œæ¯æ¬¡å…‹éš†é•œåƒä»“åº“çš„æ—¶å€™ï¼Œå®é™…æ‹·è´çš„å°±æ˜¯è¿™ä¸ªç›®å½•é‡Œé¢çš„æ•°æ®ã€‚å…¶å†…å®¹é‡Šä¹‰å¦‚ä¸‹ï¼š</p><blockquote><ul><li>HEAD                        # è¿™ä¸ªé¡¹ç›®å½“å‰æŒ‡å‘å“ªä¸ªåˆ†æ”¯</li><li>config                        # é¡¹ç›®çš„é…ç½®ä¿¡æ¯ï¼Œ git config å‘½ä»¤ä¼šæ”¹åŠ¨å®ƒ</li><li>description               # ç”¨æ¥æ˜¾ç¤ºå¯¹ä»“åº“çš„æè¿°ä¿¡æ¯</li><li>hooks/                       # åŒ…å«å®¢æˆ·ç«¯æˆ–æœåŠ¡ç«¯çš„é’©å­è„šæœ¬ï¼Œåœ¨ç‰¹å®šæ“ä½œä¸‹è‡ªåŠ¨æ‰§è¡Œ</li><li>index                         # æš‚å­˜åŒºæ–‡ä»¶ï¼Œæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶</li><li>logs/                          # ä¿å­˜æ—¥å¿—ä¿¡æ¯</li><li>objects/                    # å­˜å‚¨æ‰€æœ‰æ•°æ®å†…å®¹,æœ¬åœ°çš„ç‰ˆæœ¬åº“å­˜æ”¾ä½ç½®</li><li>info                           # ä¿¡æ¯æ–‡ä»¶å¤¹. åŒ…å«ä¸€ä¸ªå…¨å±€æ€§æ’é™¤æ–‡ä»¶ï¼Œå¯ä»¥é…ç½®æ–‡ä»¶å¿½ç•¥</li><li>refs/                          # å­˜å‚¨æŒ‡å‘æ•°æ®çš„æäº¤å¯¹è±¡çš„åˆ†æ”¯</li></ul></blockquote><p>==&gt;  åˆ‡è®°ï¼šä¸è¦æ‰‹åŠ¨å»ä¿®æ”¹æˆ–åˆ é™¤ .git æ–‡ä»¶å¤¹ä¸­çš„å†…å®¹ã€‚==</p><h3 id="âœˆï¸-ç”Ÿæˆ-SSH-Key"><a href="#âœˆï¸-ç”Ÿæˆ-SSH-Key" class="headerlink" title="âœˆï¸ ç”Ÿæˆ SSH Key"></a>âœˆï¸ ç”Ÿæˆ SSH Key</h3><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå³å¯åˆ›å»º SSH Key</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen<span class="comment"># æœ¬åœ°ä»“åº“ç”Ÿæˆ SSH Key</span></span><br><span class="line"><span class="built_in">cat</span> ~/.ssh/id_rsa.pub<span class="comment"># æŸ¥çœ‹ SSH Key</span></span><br></pre></td></tr></table></figure><p>å°†ç”Ÿæˆçš„ Key å¤åˆ¶ï¼Œç»‘å®šåˆ° Gitlab ï¼ˆ<a href="http://gitlab.shcm.longsys.com">http://gitlab.shcm.longsys.com</a> ï¼‰ä¸Šï¼Œå³å¯åœ¨æœ¬åœ°å’Œè¿œç¨‹ä»“åº“ä¹‹é—´è¿›è¡Œæ“ä½œäº†ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="../../images/Gitå­¦ä¹ ç¬”è®°/å›¾ç‰‡1.png" alt="å›¾3 ç»‘å®škey"></p><h3 id="âœˆï¸-é…ç½®ç”¨æˆ·ä¿¡æ¯"><a href="#âœˆï¸-é…ç½®ç”¨æˆ·ä¿¡æ¯" class="headerlink" title="âœˆï¸ é…ç½®ç”¨æˆ·ä¿¡æ¯"></a>âœˆï¸ é…ç½®ç”¨æˆ·ä¿¡æ¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;&lt;USER&gt;&quot;</span><span class="comment"># è®¾ç½®ç”¨æˆ·åï¼Œå°†&lt;USER&gt;æ›¿æ¢æˆè‡ªå·±çš„ç”¨æˆ·å</span></span><br><span class="line">git config --global user.email <span class="string">&quot;&lt;Email&gt;&quot;</span><span class="comment"># è®¾ç½®é‚®ç®±ï¼Œå°†&lt;Email&gt;æ›¿æ¢æˆè‡ªå·±çš„é‚®ç®±</span></span><br><span class="line">git config --list                           <span class="comment"># æŸ¥çœ‹é…ç½®ä¿¡æ¯</span></span><br></pre></td></tr></table></figure><h2 id="ğŸš€-Git-å¸¸ç”¨å‘½ä»¤"><a href="#ğŸš€-Git-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="ğŸš€ Git å¸¸ç”¨å‘½ä»¤"></a>ğŸš€ Git å¸¸ç”¨å‘½ä»¤</h2><h3 id="âœˆï¸-å¸¸ç”¨çš„å‘½ä»¤"><a href="#âœˆï¸-å¸¸ç”¨çš„å‘½ä»¤" class="headerlink" title="âœˆï¸ å¸¸ç”¨çš„å‘½ä»¤"></a>âœˆï¸ å¸¸ç”¨çš„å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git init<span class="comment"># åˆå§‹åŒ–å¹¶åˆ›å»ºä¸€ä¸ªä»“åº“</span></span><br><span class="line">git add.<span class="comment"># æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</span></span><br><span class="line">git commit -m <span class="string">&quot;æäº¤è¯´æ˜&quot;</span> <span class="comment"># æäº¤æš‚å­˜åŒºä¸­çš„å†…å®¹åˆ°æœ¬åœ°ä»“åº“</span></span><br><span class="line">git <span class="built_in">log</span><span class="comment"># æŸ¥çœ‹æäº¤çš„ç‰ˆæœ¬</span></span><br><span class="line">git status<span class="comment"># æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶çš„çŠ¶æ€</span></span><br><span class="line">git status [filename]<span class="comment"># æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çš„çŠ¶æ€</span></span><br></pre></td></tr></table></figure><h3 id="âœˆï¸-åˆ†æ”¯ä¸åˆå¹¶ç›¸å…³å‘½ä»¤"><a href="#âœˆï¸-åˆ†æ”¯ä¸åˆå¹¶ç›¸å…³å‘½ä»¤" class="headerlink" title="âœˆï¸ åˆ†æ”¯ä¸åˆå¹¶ç›¸å…³å‘½ä»¤"></a>âœˆï¸ åˆ†æ”¯ä¸åˆå¹¶ç›¸å…³å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git branch                          <span class="comment"># æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">git branch [branch-name]            <span class="comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯</span></span><br><span class="line">git checkout -b [branch]            <span class="comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯</span></span><br><span class="line">git checkout [branch-name]          <span class="comment"># åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº</span></span><br><span class="line">git branch -d [branch-name]         <span class="comment"># åˆ é™¤æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">git merge [branch]                  <span class="comment"># åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</span></span><br></pre></td></tr></table></figure><h3 id="âœˆï¸-ç½‘ç»œå¸¸ç”¨å‘½ä»¤"><a href="#âœˆï¸-ç½‘ç»œå¸¸ç”¨å‘½ä»¤" class="headerlink" title="âœˆï¸ ç½‘ç»œå¸¸ç”¨å‘½ä»¤"></a>âœˆï¸ ç½‘ç»œå¸¸ç”¨å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> &lt;è¿œç¨‹ä»“åº“åœ°å€&gt;<span class="comment"># å…‹éš†ä¸€ä¸ªè¿œç¨‹ä»“åº“åˆ°æœ¬åœ°</span></span><br><span class="line">git push &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;æœ¬åœ°åˆ†æ”¯å&gt;:&lt;è¿œç¨‹åˆ†æ”¯å&gt;<span class="comment"># æŠŠå½“å‰åˆ†æ”¯æ”¾åˆ°ç½‘ä¸Šï¼Œå¦‚ç½‘ç»œåˆ†æ”¯ä¸å­˜åœ¨åˆ™ç½‘ç»œç«¯è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåˆ†æ”¯!</span></span><br><span class="line">git push &lt;è¿œç¨‹ä¸»æœºå&gt; -d &lt;åˆ†æ”¯å&gt;           <span class="comment"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git pull &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt;<span class="comment"># ä»è¿œç¨‹è·å–æœ€æ–°ç‰ˆæœ¬çš„ä»£ç å¹¶åˆå¹¶åˆ°æœ¬åœ°çš„ç‰ˆæœ¬</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­è¿œç¨‹ä¸»æœºåé»˜è®¤ä¸º origin ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>git remote</code> å‘½ä»¤æŸ¥è¯¢ï¼Œå½“è¿œç¨‹åˆ†æ”¯åå’Œæœ¬åœ°åˆ†æ”¯åç›¸åŒæ—¶ï¼Œå¯çœç•¥å†’å·ä»¥åŠåé¢çš„åˆ†æ”¯åã€‚</p><h2 id="ğŸš€-å‚è€ƒèµ„æ–™"><a href="#ğŸš€-å‚è€ƒèµ„æ–™" class="headerlink" title="ğŸš€ å‚è€ƒèµ„æ–™"></a>ğŸš€ å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://baike.baidu.com/item/GIT/12647237">GITï¼ˆåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼‰ç™¾åº¦ç™¾ç§‘</a></li><li><a href="https://www.bilibili.com/read/cv14701783?spm_id_from=444.41.0.0">å¿«é€ŸæŒæ¡Gitåˆ†å¸ƒå¼ç³»ç»Ÿæ“ä½œ - å“”å“©å“”å“© (bilibili.com)</a></li><li><a href="https://blog.csdn.net/u011535541/article/details/83379151?ops_request_misc={&quot;request_id&quot;%3A&quot;164128859016780271932295&quot;%2C&quot;scm&quot;%3A&quot;20140713.130102334..&quot;}&amp;request_id=164128859016780271932295&amp;biz_id=0&amp;spm=1018.2226.3001.4187">Gitä½¿ç”¨æ•™ç¨‹ é˜¿è¸è¸è¸è¸çš„åšå®¢-CSDNåšå®¢</a></li><li><a href="https://blog.csdn.net/guoqx/article/details/123180923">Git åå­—çš„ç”±æ¥_å¤œæµå†°çš„åšå®¢-CSDNåšå®¢</a></li><li><a href="https://www.zhihu.com/question/425355002">gitè¿™ä¸ªåå­—æœ‰ä»€ä¹ˆç”±æ¥å—ï¼Ÿ- çŸ¥ä¹</a></li><li><a href="https://www.cnblogs.com/FuYingju/p/14342973.html">Git - FuYingju - åšå®¢å›­</a></li><li><a href="https://blog.csdn.net/dxnn520/article/details/125632416">Gitç›®å½•ä¸­å„ä¸ªæ–‡ä»¶ï¼ˆæ–‡ä»¶å¤¹ï¼‰çš„è¯´æ˜_æ•¦åšçš„æ›¹æ“çš„åšå®¢-CSDNåšå®¢</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoåšå®¢Shokaä¸»é¢˜ç¯å¢ƒæ­å»º</title>
      <link href="/2022/10/27/%E7%AC%94%E8%AE%B0/hexo%E5%8D%9A%E5%AE%A2Shoka%E4%B8%BB%E9%A2%98%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
      <url>/2022/10/27/%E7%AC%94%E8%AE%B0/hexo%E5%8D%9A%E5%AE%A2Shoka%E4%B8%BB%E9%A2%98%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="cloneä¸»é¢˜æ–‡ä»¶"><a href="#cloneä¸»é¢˜æ–‡ä»¶" class="headerlink" title="cloneä¸»é¢˜æ–‡ä»¶"></a>cloneä¸»é¢˜æ–‡ä»¶</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cd your-blog</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/amehime/hexo-theme-shoka.git ./themes/shoka</span><br></pre></td></tr></table></figure><h2 id="ä¸‹è½½æ‰€éœ€çš„æ’ä»¶"><a href="#ä¸‹è½½æ‰€éœ€çš„æ’ä»¶" class="headerlink" title="ä¸‹è½½æ‰€éœ€çš„æ’ä»¶"></a>ä¸‹è½½æ‰€éœ€çš„æ’ä»¶</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cnpm uninstall hexo-renderer-marked --save          <span class="comment"># å¸è½½æ‰é»˜è®¤çš„ hexo-renderer-marked </span></span><br><span class="line">cnpm install hexo-renderer-multi-markdown-it --save <span class="comment"># å®‰è£… hexo-renderer-marked </span></span><br><span class="line">cnpm install hexo-autoprefixer --save</span><br><span class="line">cnpm install hexo-algoliasearch --save</span><br><span class="line">cnpm install hexo-symbols-count-time --save</span><br><span class="line">cnpm install hexo-feed --save-dev</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå®‰è£…npm</title>
      <link href="/2022/10/27/Linux/Linux%E5%AE%89%E8%A3%85npm/"/>
      <url>/2022/10/27/Linux/Linux%E5%AE%89%E8%A3%85npm/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸‹è½½npm"><a href="#ä¸‹è½½npm" class="headerlink" title="ä¸‹è½½npm"></a>ä¸‹è½½npm</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">wget https://registry.npmmirror.com/-/binary/node/v19.0.0/node-v19.0.0-linux-x64.tar.xz</span><br><span class="line">tar -vxf node-v19.0.0-linux-x64.tar.xz</span><br><span class="line">rm node-v19.0.0-linux-x64.tar.xz</span><br><span class="line">sudo mv node-v19.0.0-linux-x64 /usr/local/node</span><br></pre></td></tr></table></figure><h2 id="å»ºç«‹è½¯è¿æ¥"><a href="#å»ºç«‹è½¯è¿æ¥" class="headerlink" title="å»ºç«‹è½¯è¿æ¥"></a>å»ºç«‹è½¯è¿æ¥</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ln -s /usr/local/node/bin/npm /usr/bin/npm</span><br><span class="line">sudo ln -s /usr/local/node/bin/node /usr/bin/node</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…cnpm"><a href="#å®‰è£…cnpm" class="headerlink" title="å®‰è£…cnpm"></a>å®‰è£…cnpm</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class="line">sudo ln -s /usr/local/node/bin/cnpm /usr/bin/cnpm</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1-ä¸¤æ•°ä¹‹å’Œ</title>
      <link href="/2022/10/16/Leetcode/1-%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/"/>
      <url>/2022/10/16/Leetcode/1-%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸš€-é¢˜ç›®"><a href="#ğŸš€-é¢˜ç›®" class="headerlink" title="ğŸš€ é¢˜ç›®"></a>ğŸš€ é¢˜ç›®</h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼ target  çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚</p><p>ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ åœ¨ç­”æ¡ˆé‡Œä¸èƒ½é‡å¤å‡ºç°ã€‚</p><p>ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><blockquote><p>è¾“å…¥ï¼šnums = [2,7,11,15], target = 9<br>è¾“å‡ºï¼š[0,1]<br>è§£é‡Šï¼šå› ä¸º nums[0] + nums[1] == 9 ï¼Œè¿”å› [0, 1] ã€‚</p></blockquote><p>ç¤ºä¾‹ 2ï¼š</p><blockquote><p>è¾“å…¥ï¼šnums = [3,2,4], target = 6<br>è¾“å‡ºï¼š[1,2]</p></blockquote><p>ç¤ºä¾‹ 3ï¼š</p><blockquote><p>è¾“å…¥ï¼šnums = [3,3], target = 6<br>è¾“å‡ºï¼š[0,1]</p></blockquote><h2 id="ğŸš€-é¢˜è§£"><a href="#ğŸš€-é¢˜è§£" class="headerlink" title="ğŸš€ é¢˜è§£"></a>ğŸš€ é¢˜è§£</h2><h3 id="âœˆ-æš´åŠ›æšä¸¾æ³•"><a href="#âœˆ-æš´åŠ›æšä¸¾æ³•" class="headerlink" title="âœˆ æš´åŠ›æšä¸¾æ³•"></a>âœˆ æš´åŠ›æšä¸¾æ³•</h3><p>æ–¹æ³•ï¼š<br>        æšä¸¾æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ•° xï¼Œå¯»æ‰¾æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ target - xã€‚</p><p>å¤æ‚åº¦åˆ†æï¼š<br>        æ—¶é—´å¤æ‚åº¦ï¼šO(N^2^)ï¼Œå…¶ä¸­ N æ˜¯æ•°ç»„ä¸­çš„å…ƒç´ æ•°é‡ã€‚æœ€åæƒ…å†µä¸‹æ•°ç»„ä¸­ä»»æ„ä¸¤ä¸ªæ•°éƒ½è¦è¢«åŒ¹é…ä¸€æ¬¡ã€‚<br>        ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚</p><p>ç¨‹åºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Note: The returned array must be malloced, assume caller calls free().</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span>* <span class="title function_">twoSum</span><span class="params">(<span class="type">int</span>* nums, <span class="type">int</span> numsSize, <span class="type">int</span> target, <span class="type">int</span>* returnSize)</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;numsSize; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>; j&lt;numsSize; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] + nums[j] == target)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span>* ret = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>) * <span class="number">2</span>);</span><br><span class="line">                ret[<span class="number">0</span>] = i;</span><br><span class="line">                ret[<span class="number">1</span>] = j;</span><br><span class="line">                *returnSize = <span class="number">2</span>;</span><br><span class="line">                <span class="keyword">return</span> ret;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    *returnSize = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ˜“é”™ç‚¹ï¼š<br>        è¿”å›å€¼ <strong>ret</strong> éœ€ç”¨ <strong>malloc</strong> å‡½æ•°è¿›è¡Œç”³è¯·ã€‚å› ä¸ºå¦‚æœå®šä¹‰æˆæ•°ç»„å˜é‡çš„è¯ï¼Œåœ¨å‡½æ•°ç»“æŸä¹‹åè¯¥å†…å­˜ä¼šè¢«æ¸…é™¤ï¼Œå¯¼è‡´è¿”å›å€¼ä¸º NULLã€‚</p><h3 id="âœˆ-å“ˆå¸Œè¡¨"><a href="#âœˆ-å“ˆå¸Œè¡¨" class="headerlink" title="âœˆ å“ˆå¸Œè¡¨"></a>âœˆ å“ˆå¸Œè¡¨</h3><p>åˆ†æï¼š<br>        æš´åŠ›æšä¸¾æ³•çš„æ—¶é—´å¤æ‚åº¦è¾ƒé«˜çš„åŸå› æ˜¯å¯»æ‰¾ target - x çš„æ—¶é—´å¤æ‚åº¦è¿‡é«˜ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ›´ä¼˜ç§€çš„æ–¹æ³•ï¼Œèƒ½å¤Ÿå¿«é€Ÿå¯»æ‰¾æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ç›®æ ‡å…ƒç´ ã€‚ä½¿ç”¨å“ˆå¸Œè¡¨ï¼Œå¯ä»¥å°†å¯»æ‰¾ target - x çš„æ—¶é—´å¤æ‚åº¦é™ä½åˆ°ä» <strong>O(N)</strong> é™ä½åˆ° <strong>O(1)</strong>ã€‚</p><p>æ–¹æ³•ï¼š<br>        åˆ›å»ºä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œå¯¹äºæ¯ä¸€ä¸ª xï¼Œæˆ‘ä»¬é¦–å…ˆæŸ¥è¯¢å“ˆå¸Œè¡¨ä¸­æ˜¯å¦å­˜åœ¨ target - xã€‚å­˜åœ¨ target - x åˆ™è¿”å›è¿™ä¸¤ä¸ªå€¼å¯¹åº”çš„åºå·ï¼Œä¸å­˜åœ¨åˆ™å°† x æ’å…¥åˆ°å“ˆå¸Œè¡¨ä¸­ã€‚å…·ä½“æµç¨‹å¦‚ä»¥ä¸‹ä¸‰å¼ å›¾ç‰‡æ‰€ç¤ºã€‚</p><p><img src="../../images/1-ä¸¤æ•°ä¹‹å’Œ/image-20220925182528357-1666880605765-2.png" alt="å›¾1"></p><p><img src="../../images/1-ä¸¤æ•°ä¹‹å’Œ/image-20220925182642206.png" alt="å›¾2"></p><p><img src="../../images/1-ä¸¤æ•°ä¹‹å’Œ/image-20220925182806369.png" alt="å›¾3"></p><p>å¤æ‚åº¦åˆ†æï¼š<br>        æ—¶é—´å¤æ‚åº¦ï¼š<strong>O(N)</strong>ï¼Œå…¶ä¸­ N æ˜¯æ•°ç»„ä¸­çš„å…ƒç´ æ•°é‡ã€‚å¯¹äºæ¯ä¸€ä¸ªå…ƒç´  xï¼Œæˆ‘ä»¬å¯ä»¥ <strong>O(1)</strong> åœ°å¯»æ‰¾ target - xã€‚<br>        ç©ºé—´å¤æ‚åº¦ï¼š<strong>O(N)</strong>ï¼Œå…¶ä¸­ N æ˜¯æ•°ç»„ä¸­çš„å…ƒç´ æ•°é‡ã€‚ä¸»è¦ä¸ºå“ˆå¸Œè¡¨çš„å¼€é”€ã€‚</p><p>ç¨‹åºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">hashTable</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> key;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    UT_hash_handle hh;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">hashTable</span>* <span class="title">hashtable</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> hashTable* <span class="title function_">find</span><span class="params">(<span class="type">int</span> ikey)</span> &#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">hashTable</span>* <span class="title">tmp</span>;</span></span><br><span class="line">    HASH_FIND_INT(hashtable, &amp;ikey, tmp);</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">insert</span><span class="params">(<span class="type">int</span> ikey, <span class="type">int</span> ival)</span> &#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">hashTable</span>* <span class="title">it</span> =</span> find(ikey);</span><br><span class="line">    <span class="keyword">if</span> (it == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">hashTable</span>* <span class="title">tmp</span> =</span> <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> hashTable));</span><br><span class="line">        tmp-&gt;key = ikey, tmp-&gt;val = ival;</span><br><span class="line">        HASH_ADD_INT(hashtable, key, tmp);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        it-&gt;val = ival;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>* <span class="title function_">twoSum</span><span class="params">(<span class="type">int</span>* nums, <span class="type">int</span> numsSize, <span class="type">int</span> target, <span class="type">int</span>* returnSize)</span> &#123;</span><br><span class="line">    hashtable = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; numsSize; i++) &#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">hashTable</span>* <span class="title">it</span> =</span> find(target - nums[i]);</span><br><span class="line">        <span class="keyword">if</span> (it != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="type">int</span>* ret = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>) * <span class="number">2</span>);</span><br><span class="line">            ret[<span class="number">0</span>] = it-&gt;val, ret[<span class="number">1</span>] = i;</span><br><span class="line">            *returnSize = <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">return</span> ret;</span><br><span class="line">        &#125;</span><br><span class="line">        insert(nums[i], i);</span><br><span class="line">    &#125;</span><br><span class="line">    *returnSize = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å“ˆå¸Œè¡¨ï¼š<br>        æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨å“ˆå¸Œè¡¨éœ€è¦åŠ ä¸Šå¤´æ–‡ä»¶ <code>uthash.h</code>ï¼ˆåœ¨åŠ›æ‰£ä¸Šä¸éœ€è¦ï¼‰ã€‚uthash.h çš„ä¸‹è½½é“¾æ¥ï¼š<a href="https://github.com/troydhanson/uthashï¼Œä¹Ÿå¯è‡ªå·±æ–°å»ºä¸€ä¸ªåŒåæ–‡ä»¶ï¼Œå¤åˆ¶ä¸‹é¢çš„ä»£ç è¿›å»å³å¯ã€‚">https://github.com/troydhanson/uthashï¼Œä¹Ÿå¯è‡ªå·±æ–°å»ºä¸€ä¸ªåŒåæ–‡ä»¶ï¼Œå¤åˆ¶ä¸‹é¢çš„ä»£ç è¿›å»å³å¯ã€‚</a></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Copyright (c) 2003-2022, Troy D. Hanson  https://troydhanson.github.io/uthash/</span></span><br><span class="line"><span class="comment">All rights reserved.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Redistribution and use in source and binary forms, with or without</span></span><br><span class="line"><span class="comment">modification, are permitted provided that the following conditions are met:</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    * Redistributions of source code must retain the above copyright</span></span><br><span class="line"><span class="comment">      notice, this list of conditions and the following disclaimer.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS</span></span><br><span class="line"><span class="comment">IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED</span></span><br><span class="line"><span class="comment">TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A</span></span><br><span class="line"><span class="comment">PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER</span></span><br><span class="line"><span class="comment">OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,</span></span><br><span class="line"><span class="comment">EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,</span></span><br><span class="line"><span class="comment">PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR</span></span><br><span class="line"><span class="comment">PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF</span></span><br><span class="line"><span class="comment">LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING</span></span><br><span class="line"><span class="comment">NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS</span></span><br><span class="line"><span class="comment">SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> UTHASH_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> UTHASH_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> UTHASH_VERSION 2.3.0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span>   <span class="comment">/* memcmp, memset, strlen */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stddef.h&gt;</span>   <span class="comment">/* ptrdiff_t */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span>   <span class="comment">/* exit */</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> defined(HASH_DEFINE_OWN_STDINT) &amp;&amp; HASH_DEFINE_OWN_STDINT</span></span><br><span class="line"><span class="comment">/* This codepath is provided for backward compatibility, but I plan to remove it. */</span></span><br><span class="line"><span class="meta">#<span class="keyword">warning</span> <span class="string">&quot;HASH_DEFINE_OWN_STDINT is deprecated; please use HASH_NO_STDINT instead&quot;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">int</span> <span class="type">uint32_t</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span> <span class="type">uint8_t</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> defined(HASH_NO_STDINT) &amp;&amp; HASH_NO_STDINT</span></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdint.h&gt;</span>   <span class="comment">/* uint8_t, uint32_t */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* These macros use decltype or the earlier __typeof GNU extension.</span></span><br><span class="line"><span class="comment">   As decltype is only available in newer compilers (VS2010 or gcc 4.3+</span></span><br><span class="line"><span class="comment">   when compiling c++ source) this code uses whatever method is needed</span></span><br><span class="line"><span class="comment">   or, for VS2008 where neither is available, uses casting workarounds. */</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> !defined(DECLTYPE) &amp;&amp; !defined(NO_DECLTYPE)</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> defined(_MSC_VER)   <span class="comment">/* MS compiler */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> _MSC_VER &gt;= 1600 &amp;&amp; defined(__cplusplus)  <span class="comment">/* VS2010 or newer in C++ mode */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DECLTYPE(x) (decltype(x))</span></span><br><span class="line"><span class="meta">#<span class="keyword">else</span>                   <span class="comment">/* VS2008 or older (or VS2010 in C mode) */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NO_DECLTYPE</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> defined(__BORLANDC__) || defined(__ICCARM__) || defined(__LCC__) || defined(__WATCOMC__)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NO_DECLTYPE</span></span><br><span class="line"><span class="meta">#<span class="keyword">else</span>                   <span class="comment">/* GNU, Sun and other compilers */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DECLTYPE(x) (__typeof(x))</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> NO_DECLTYPE</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DECLTYPE(x)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DECLTYPE_ASSIGN(dst,src)                                                 \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  char **_da_dst = (char**)(&amp;(dst));                                             \</span></span><br><span class="line"><span class="meta">  *_da_dst = (char*)(src);                                                       \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DECLTYPE_ASSIGN(dst,src)                                                 \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  (dst) = DECLTYPE(dst)(src);                                                    \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> uthash_malloc</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> uthash_malloc(sz) malloc(sz)      <span class="comment">/* malloc fcn                      */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> uthash_free</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> uthash_free(ptr,sz) free(ptr)     <span class="comment">/* free fcn                        */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> uthash_bzero</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> uthash_bzero(a,n) memset(a,<span class="string">&#x27;\0&#x27;</span>,n)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> uthash_strlen</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> uthash_strlen(s) strlen(s)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> HASH_FUNCTION</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_FUNCTION(keyptr,keylen,hashv) HASH_JEN(keyptr, keylen, hashv)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> HASH_KEYCMP</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_KEYCMP(a,b,n) memcmp(a,b,n)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> uthash_noexpand_fyi</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> uthash_noexpand_fyi(tbl)          <span class="comment">/* can be defined to log noexpand  */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> uthash_expand_fyi</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> uthash_expand_fyi(tbl)            <span class="comment">/* can be defined to log expands   */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> HASH_NONFATAL_OOM</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_NONFATAL_OOM 0</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> HASH_NONFATAL_OOM</span></span><br><span class="line"><span class="comment">/* malloc failures can be recovered from */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> uthash_nonfatal_oom</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> uthash_nonfatal_oom(obj) do &#123;&#125; while (0)    <span class="comment">/* non-fatal OOM error */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_RECORD_OOM(oomed) do &#123; (oomed) = 1; &#125; while (0)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> IF_HASH_NONFATAL_OOM(x) x</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line"><span class="comment">/* malloc failures result in lost memory, hash tables are unusable */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> uthash_fatal</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> uthash_fatal(msg) exit(-1)        <span class="comment">/* fatal OOM error */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_RECORD_OOM(oomed) uthash_fatal(<span class="string">&quot;out of memory&quot;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> IF_HASH_NONFATAL_OOM(x)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* initial number of buckets */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_INITIAL_NUM_BUCKETS 32U     <span class="comment">/* initial number of buckets        */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_INITIAL_NUM_BUCKETS_LOG2 5U <span class="comment">/* lg2 of initial number of buckets */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_BKT_CAPACITY_THRESH 10U     <span class="comment">/* expand when bucket count reaches */</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* calculate the element whose hash handle address is hhp */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ELMT_FROM_HH(tbl,hhp) ((void*)(((char*)(hhp)) - ((tbl)-&gt;hho)))</span></span><br><span class="line"><span class="comment">/* calculate the hash handle from element address elp */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HH_FROM_ELMT(tbl,elp) ((UT_hash_handle*)(void*)(((char*)(elp)) + ((tbl)-&gt;hho)))</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_ROLLBACK_BKT(hh, head, itemptrhh)                                   \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  struct UT_hash_handle *_hd_hh_item = (itemptrhh);                              \</span></span><br><span class="line"><span class="meta">  unsigned _hd_bkt;                                                              \</span></span><br><span class="line"><span class="meta">  HASH_TO_BKT(_hd_hh_item-&gt;hashv, (head)-&gt;hh.tbl-&gt;num_buckets, _hd_bkt);         \</span></span><br><span class="line"><span class="meta">  (head)-&gt;hh.tbl-&gt;buckets[_hd_bkt].count++;                                      \</span></span><br><span class="line"><span class="meta">  _hd_hh_item-&gt;hh_next = NULL;                                                   \</span></span><br><span class="line"><span class="meta">  _hd_hh_item-&gt;hh_prev = NULL;                                                   \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_VALUE(keyptr,keylen,hashv)                                          \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  HASH_FUNCTION(keyptr, keylen, hashv);                                          \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_FIND_BYHASHVALUE(hh,head,keyptr,keylen,hashval,out)                 \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  (out) = NULL;                                                                  \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> (head) &#123;                                                                    \</span></span><br><span class="line"><span class="meta">    unsigned _hf_bkt;                                                            \</span></span><br><span class="line"><span class="meta">    HASH_TO_BKT(hashval, (head)-&gt;hh.tbl-&gt;num_buckets, _hf_bkt);                  \</span></span><br><span class="line"><span class="meta">    <span class="keyword">if</span> (HASH_BLOOM_TEST((head)-&gt;hh.tbl, hashval) != 0) &#123;                         \</span></span><br><span class="line"><span class="meta">      HASH_FIND_IN_BKT((head)-&gt;hh.tbl, hh, (head)-&gt;hh.tbl-&gt;buckets[ _hf_bkt ], keyptr, keylen, hashval, out); \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_FIND(hh,head,keyptr,keylen,out)                                     \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  (out) = NULL;                                                                  \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> (head) &#123;                                                                    \</span></span><br><span class="line"><span class="meta">    unsigned _hf_hashv;                                                          \</span></span><br><span class="line"><span class="meta">    HASH_VALUE(keyptr, keylen, _hf_hashv);                                       \</span></span><br><span class="line"><span class="meta">    HASH_FIND_BYHASHVALUE(hh, head, keyptr, keylen, _hf_hashv, out);             \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> HASH_BLOOM</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_BLOOM_BITLEN (1UL &lt;&lt; HASH_BLOOM)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_BLOOM_BYTELEN (HASH_BLOOM_BITLEN/8UL) + (((HASH_BLOOM_BITLEN%8UL)!=0UL) ? 1UL : 0UL)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_BLOOM_MAKE(tbl,oomed)                                               \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  (tbl)-&gt;bloom_nbits = HASH_BLOOM;                                               \</span></span><br><span class="line"><span class="meta">  (tbl)-&gt;bloom_bv = (uint8_t*)uthash_malloc(HASH_BLOOM_BYTELEN);                 \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> (!(tbl)-&gt;bloom_bv) &#123;                                                        \</span></span><br><span class="line"><span class="meta">    HASH_RECORD_OOM(oomed);                                                      \</span></span><br><span class="line"><span class="meta">  &#125; <span class="keyword">else</span> &#123;                                                                       \</span></span><br><span class="line"><span class="meta">    uthash_bzero((tbl)-&gt;bloom_bv, HASH_BLOOM_BYTELEN);                           \</span></span><br><span class="line"><span class="meta">    (tbl)-&gt;bloom_sig = HASH_BLOOM_SIGNATURE;                                     \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_BLOOM_FREE(tbl)                                                     \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  uthash_free((tbl)-&gt;bloom_bv, HASH_BLOOM_BYTELEN);                              \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_BLOOM_BITSET(bv,idx) (bv[(idx)/8U] |= (1U &lt;&lt; ((idx)%8U)))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_BLOOM_BITTEST(bv,idx) (bv[(idx)/8U] &amp; (1U &lt;&lt; ((idx)%8U)))</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_BLOOM_ADD(tbl,hashv)                                                \</span></span><br><span class="line"><span class="meta">  HASH_BLOOM_BITSET((tbl)-&gt;bloom_bv, ((hashv) &amp; (uint32_t)((1UL <span class="string">&lt;&lt; (tbl)-&gt;</span>bloom_nbits) - 1U)))</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_BLOOM_TEST(tbl,hashv)                                               \</span></span><br><span class="line"><span class="meta">  HASH_BLOOM_BITTEST((tbl)-&gt;bloom_bv, ((hashv) &amp; (uint32_t)((1UL <span class="string">&lt;&lt; (tbl)-&gt;</span>bloom_nbits) - 1U)))</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_BLOOM_MAKE(tbl,oomed)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_BLOOM_FREE(tbl)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_BLOOM_ADD(tbl,hashv)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_BLOOM_TEST(tbl,hashv) (1)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_BLOOM_BYTELEN 0U</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_MAKE_TABLE(hh,head,oomed)                                           \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  (head)-&gt;hh.tbl = (UT_hash_table*)uthash_malloc(sizeof(UT_hash_table));         \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> (!(head)-&gt;hh.tbl) &#123;                                                         \</span></span><br><span class="line"><span class="meta">    HASH_RECORD_OOM(oomed);                                                      \</span></span><br><span class="line"><span class="meta">  &#125; <span class="keyword">else</span> &#123;                                                                       \</span></span><br><span class="line"><span class="meta">    uthash_bzero((head)-&gt;hh.tbl, sizeof(UT_hash_table));                         \</span></span><br><span class="line"><span class="meta">    (head)-&gt;hh.tbl-&gt;tail = &amp;((head)-&gt;hh);                                        \</span></span><br><span class="line"><span class="meta">    (head)-&gt;hh.tbl-&gt;num_buckets = HASH_INITIAL_NUM_BUCKETS;                      \</span></span><br><span class="line"><span class="meta">    (head)-&gt;hh.tbl-&gt;log2_num_buckets = HASH_INITIAL_NUM_BUCKETS_LOG2;            \</span></span><br><span class="line"><span class="meta">    (head)-&gt;hh.tbl-&gt;hho = (char*)(&amp;(head)-&gt;hh) - (char*)(head);                  \</span></span><br><span class="line"><span class="meta">    (head)-&gt;hh.tbl-&gt;buckets = (UT_hash_bucket*)uthash_malloc(                    \</span></span><br><span class="line"><span class="meta">        HASH_INITIAL_NUM_BUCKETS * sizeof(struct UT_hash_bucket));               \</span></span><br><span class="line"><span class="meta">    (head)-&gt;hh.tbl-&gt;signature = HASH_SIGNATURE;                                  \</span></span><br><span class="line"><span class="meta">    <span class="keyword">if</span> (!(head)-&gt;hh.tbl-&gt;buckets) &#123;                                              \</span></span><br><span class="line"><span class="meta">      HASH_RECORD_OOM(oomed);                                                    \</span></span><br><span class="line"><span class="meta">      uthash_free((head)-&gt;hh.tbl, sizeof(UT_hash_table));                        \</span></span><br><span class="line"><span class="meta">    &#125; <span class="keyword">else</span> &#123;                                                                     \</span></span><br><span class="line"><span class="meta">      uthash_bzero((head)-&gt;hh.tbl-&gt;buckets,                                      \</span></span><br><span class="line"><span class="meta">          HASH_INITIAL_NUM_BUCKETS * sizeof(struct UT_hash_bucket));             \</span></span><br><span class="line"><span class="meta">      HASH_BLOOM_MAKE((head)-&gt;hh.tbl, oomed);                                    \</span></span><br><span class="line"><span class="meta">      IF_HASH_NONFATAL_OOM(                                                      \</span></span><br><span class="line"><span class="meta">        <span class="keyword">if</span> (oomed) &#123;                                                             \</span></span><br><span class="line"><span class="meta">          uthash_free((head)-&gt;hh.tbl-&gt;buckets,                                   \</span></span><br><span class="line"><span class="meta">              HASH_INITIAL_NUM_BUCKETS*sizeof(struct UT_hash_bucket));           \</span></span><br><span class="line"><span class="meta">          uthash_free((head)-&gt;hh.tbl, sizeof(UT_hash_table));                    \</span></span><br><span class="line"><span class="meta">        &#125;                                                                        \</span></span><br><span class="line"><span class="meta">      )                                                                          \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_REPLACE_BYHASHVALUE_INORDER(hh,head,fieldname,keylen_in,hashval,add,replaced,cmpfcn) \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  (replaced) = NULL;                                                             \</span></span><br><span class="line"><span class="meta">  HASH_FIND_BYHASHVALUE(hh, head, &amp;((add)-&gt;fieldname), keylen_in, hashval, replaced); \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> (replaced) &#123;                                                                \</span></span><br><span class="line"><span class="meta">    HASH_DELETE(hh, head, replaced);                                             \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">  HASH_ADD_KEYPTR_BYHASHVALUE_INORDER(hh, head, &amp;((add)-&gt;fieldname), keylen_in, hashval, add, cmpfcn); \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_REPLACE_BYHASHVALUE(hh,head,fieldname,keylen_in,hashval,add,replaced) \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  (replaced) = NULL;                                                             \</span></span><br><span class="line"><span class="meta">  HASH_FIND_BYHASHVALUE(hh, head, &amp;((add)-&gt;fieldname), keylen_in, hashval, replaced); \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> (replaced) &#123;                                                                \</span></span><br><span class="line"><span class="meta">    HASH_DELETE(hh, head, replaced);                                             \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">  HASH_ADD_KEYPTR_BYHASHVALUE(hh, head, &amp;((add)-&gt;fieldname), keylen_in, hashval, add); \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_REPLACE(hh,head,fieldname,keylen_in,add,replaced)                   \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  unsigned _hr_hashv;                                                            \</span></span><br><span class="line"><span class="meta">  HASH_VALUE(&amp;((add)-&gt;fieldname), keylen_in, _hr_hashv);                         \</span></span><br><span class="line"><span class="meta">  HASH_REPLACE_BYHASHVALUE(hh, head, fieldname, keylen_in, _hr_hashv, add, replaced); \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_REPLACE_INORDER(hh,head,fieldname,keylen_in,add,replaced,cmpfcn)    \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  unsigned _hr_hashv;                                                            \</span></span><br><span class="line"><span class="meta">  HASH_VALUE(&amp;((add)-&gt;fieldname), keylen_in, _hr_hashv);                         \</span></span><br><span class="line"><span class="meta">  HASH_REPLACE_BYHASHVALUE_INORDER(hh, head, fieldname, keylen_in, _hr_hashv, add, replaced, cmpfcn); \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_APPEND_LIST(hh, head, add)                                          \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  (add)-&gt;hh.next = NULL;                                                         \</span></span><br><span class="line"><span class="meta">  (add)-&gt;hh.prev = ELMT_FROM_HH((head)-&gt;hh.tbl, (head)-&gt;hh.tbl-&gt;tail);           \</span></span><br><span class="line"><span class="meta">  (head)-&gt;hh.tbl-&gt;tail-&gt;next = (add);                                            \</span></span><br><span class="line"><span class="meta">  (head)-&gt;hh.tbl-&gt;tail = &amp;((add)-&gt;hh);                                           \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_AKBI_INNER_LOOP(hh,head,add,cmpfcn)                                 \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  do &#123;                                                                           \</span></span><br><span class="line"><span class="meta">    <span class="keyword">if</span> (cmpfcn(DECLTYPE(head)(_hs_iter), add) &gt; 0) &#123;                             \</span></span><br><span class="line"><span class="meta">      break;                                                                     \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">  &#125; while ((_hs_iter = HH_FROM_ELMT((head)-&gt;hh.tbl, _hs_iter)-&gt;next));           \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> NO_DECLTYPE</span></span><br><span class="line"><span class="meta">#<span class="keyword">undef</span> HASH_AKBI_INNER_LOOP</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_AKBI_INNER_LOOP(hh,head,add,cmpfcn)                                 \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  char *_hs_saved_head = (char*)(head);                                          \</span></span><br><span class="line"><span class="meta">  do &#123;                                                                           \</span></span><br><span class="line"><span class="meta">    DECLTYPE_ASSIGN(head, _hs_iter);                                             \</span></span><br><span class="line"><span class="meta">    <span class="keyword">if</span> (cmpfcn(head, add) &gt; 0) &#123;                                                 \</span></span><br><span class="line"><span class="meta">      DECLTYPE_ASSIGN(head, _hs_saved_head);                                     \</span></span><br><span class="line"><span class="meta">      break;                                                                     \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">    DECLTYPE_ASSIGN(head, _hs_saved_head);                                       \</span></span><br><span class="line"><span class="meta">  &#125; while ((_hs_iter = HH_FROM_ELMT((head)-&gt;hh.tbl, _hs_iter)-&gt;next));           \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> HASH_NONFATAL_OOM</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_ADD_TO_TABLE(hh,head,keyptr,keylen_in,hashval,add,oomed)            \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> (!(oomed)) &#123;                                                                \</span></span><br><span class="line"><span class="meta">    unsigned _ha_bkt;                                                            \</span></span><br><span class="line"><span class="meta">    (head)-&gt;hh.tbl-&gt;num_items++;                                                 \</span></span><br><span class="line"><span class="meta">    HASH_TO_BKT(hashval, (head)-&gt;hh.tbl-&gt;num_buckets, _ha_bkt);                  \</span></span><br><span class="line"><span class="meta">    HASH_ADD_TO_BKT((head)-&gt;hh.tbl-&gt;buckets[_ha_bkt], hh, &amp;(add)-&gt;hh, oomed);    \</span></span><br><span class="line"><span class="meta">    <span class="keyword">if</span> (oomed) &#123;                                                                 \</span></span><br><span class="line"><span class="meta">      HASH_ROLLBACK_BKT(hh, head, &amp;(add)-&gt;hh);                                   \</span></span><br><span class="line"><span class="meta">      HASH_DELETE_HH(hh, head, &amp;(add)-&gt;hh);                                      \</span></span><br><span class="line"><span class="meta">      (add)-&gt;hh.tbl = NULL;                                                      \</span></span><br><span class="line"><span class="meta">      uthash_nonfatal_oom(add);                                                  \</span></span><br><span class="line"><span class="meta">    &#125; <span class="keyword">else</span> &#123;                                                                     \</span></span><br><span class="line"><span class="meta">      HASH_BLOOM_ADD((head)-&gt;hh.tbl, hashval);                                   \</span></span><br><span class="line"><span class="meta">      HASH_EMIT_KEY(hh, head, keyptr, keylen_in);                                \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">  &#125; <span class="keyword">else</span> &#123;                                                                       \</span></span><br><span class="line"><span class="meta">    (add)-&gt;hh.tbl = NULL;                                                        \</span></span><br><span class="line"><span class="meta">    uthash_nonfatal_oom(add);                                                    \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_ADD_TO_TABLE(hh,head,keyptr,keylen_in,hashval,add,oomed)            \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  unsigned _ha_bkt;                                                              \</span></span><br><span class="line"><span class="meta">  (head)-&gt;hh.tbl-&gt;num_items++;                                                   \</span></span><br><span class="line"><span class="meta">  HASH_TO_BKT(hashval, (head)-&gt;hh.tbl-&gt;num_buckets, _ha_bkt);                    \</span></span><br><span class="line"><span class="meta">  HASH_ADD_TO_BKT((head)-&gt;hh.tbl-&gt;buckets[_ha_bkt], hh, &amp;(add)-&gt;hh, oomed);      \</span></span><br><span class="line"><span class="meta">  HASH_BLOOM_ADD((head)-&gt;hh.tbl, hashval);                                       \</span></span><br><span class="line"><span class="meta">  HASH_EMIT_KEY(hh, head, keyptr, keylen_in);                                    \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_ADD_KEYPTR_BYHASHVALUE_INORDER(hh,head,keyptr,keylen_in,hashval,add,cmpfcn) \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  IF_HASH_NONFATAL_OOM( int _ha_oomed = 0; )                                     \</span></span><br><span class="line"><span class="meta">  (add)-&gt;hh.hashv = (hashval);                                                   \</span></span><br><span class="line"><span class="meta">  (add)-&gt;hh.key = (char*) (keyptr);                                              \</span></span><br><span class="line"><span class="meta">  (add)-&gt;hh.keylen = (unsigned) (keylen_in);                                     \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> (!(head)) &#123;                                                                 \</span></span><br><span class="line"><span class="meta">    (add)-&gt;hh.next = NULL;                                                       \</span></span><br><span class="line"><span class="meta">    (add)-&gt;hh.prev = NULL;                                                       \</span></span><br><span class="line"><span class="meta">    HASH_MAKE_TABLE(hh, add, _ha_oomed);                                         \</span></span><br><span class="line"><span class="meta">    IF_HASH_NONFATAL_OOM( <span class="keyword">if</span> (!_ha_oomed) &#123; )                                    \</span></span><br><span class="line"><span class="meta">      (head) = (add);                                                            \</span></span><br><span class="line"><span class="meta">    IF_HASH_NONFATAL_OOM( &#125; )                                                    \</span></span><br><span class="line"><span class="meta">  &#125; <span class="keyword">else</span> &#123;                                                                       \</span></span><br><span class="line"><span class="meta">    void *_hs_iter = (head);                                                     \</span></span><br><span class="line"><span class="meta">    (add)-&gt;hh.tbl = (head)-&gt;hh.tbl;                                              \</span></span><br><span class="line"><span class="meta">    HASH_AKBI_INNER_LOOP(hh, head, add, cmpfcn);                                 \</span></span><br><span class="line"><span class="meta">    <span class="keyword">if</span> (_hs_iter) &#123;                                                              \</span></span><br><span class="line"><span class="meta">      (add)-&gt;hh.next = _hs_iter;                                                 \</span></span><br><span class="line"><span class="meta">      <span class="keyword">if</span> (((add)-&gt;hh.prev = HH_FROM_ELMT((head)-&gt;hh.tbl, _hs_iter)-&gt;prev)) &#123;     \</span></span><br><span class="line"><span class="meta">        HH_FROM_ELMT((head)-&gt;hh.tbl, (add)-&gt;hh.prev)-&gt;next = (add);              \</span></span><br><span class="line"><span class="meta">      &#125; <span class="keyword">else</span> &#123;                                                                   \</span></span><br><span class="line"><span class="meta">        (head) = (add);                                                          \</span></span><br><span class="line"><span class="meta">      &#125;                                                                          \</span></span><br><span class="line"><span class="meta">      HH_FROM_ELMT((head)-&gt;hh.tbl, _hs_iter)-&gt;prev = (add);                      \</span></span><br><span class="line"><span class="meta">    &#125; <span class="keyword">else</span> &#123;                                                                     \</span></span><br><span class="line"><span class="meta">      HASH_APPEND_LIST(hh, head, add);                                           \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">  HASH_ADD_TO_TABLE(hh, head, keyptr, keylen_in, hashval, add, _ha_oomed);       \</span></span><br><span class="line"><span class="meta">  HASH_FSCK(hh, head, <span class="string">&quot;HASH_ADD_KEYPTR_BYHASHVALUE_INORDER&quot;</span>);                    \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_ADD_KEYPTR_INORDER(hh,head,keyptr,keylen_in,add,cmpfcn)             \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  unsigned _hs_hashv;                                                            \</span></span><br><span class="line"><span class="meta">  HASH_VALUE(keyptr, keylen_in, _hs_hashv);                                      \</span></span><br><span class="line"><span class="meta">  HASH_ADD_KEYPTR_BYHASHVALUE_INORDER(hh, head, keyptr, keylen_in, _hs_hashv, add, cmpfcn); \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_ADD_BYHASHVALUE_INORDER(hh,head,fieldname,keylen_in,hashval,add,cmpfcn) \</span></span><br><span class="line"><span class="meta">  HASH_ADD_KEYPTR_BYHASHVALUE_INORDER(hh, head, &amp;((add)-&gt;fieldname), keylen_in, hashval, add, cmpfcn)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_ADD_INORDER(hh,head,fieldname,keylen_in,add,cmpfcn)                 \</span></span><br><span class="line"><span class="meta">  HASH_ADD_KEYPTR_INORDER(hh, head, &amp;((add)-&gt;fieldname), keylen_in, add, cmpfcn)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_ADD_KEYPTR_BYHASHVALUE(hh,head,keyptr,keylen_in,hashval,add)        \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  IF_HASH_NONFATAL_OOM( int _ha_oomed = 0; )                                     \</span></span><br><span class="line"><span class="meta">  (add)-&gt;hh.hashv = (hashval);                                                   \</span></span><br><span class="line"><span class="meta">  (add)-&gt;hh.key = (const void*) (keyptr);                                        \</span></span><br><span class="line"><span class="meta">  (add)-&gt;hh.keylen = (unsigned) (keylen_in);                                     \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> (!(head)) &#123;                                                                 \</span></span><br><span class="line"><span class="meta">    (add)-&gt;hh.next = NULL;                                                       \</span></span><br><span class="line"><span class="meta">    (add)-&gt;hh.prev = NULL;                                                       \</span></span><br><span class="line"><span class="meta">    HASH_MAKE_TABLE(hh, add, _ha_oomed);                                         \</span></span><br><span class="line"><span class="meta">    IF_HASH_NONFATAL_OOM( <span class="keyword">if</span> (!_ha_oomed) &#123; )                                    \</span></span><br><span class="line"><span class="meta">      (head) = (add);                                                            \</span></span><br><span class="line"><span class="meta">    IF_HASH_NONFATAL_OOM( &#125; )                                                    \</span></span><br><span class="line"><span class="meta">  &#125; <span class="keyword">else</span> &#123;                                                                       \</span></span><br><span class="line"><span class="meta">    (add)-&gt;hh.tbl = (head)-&gt;hh.tbl;                                              \</span></span><br><span class="line"><span class="meta">    HASH_APPEND_LIST(hh, head, add);                                             \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">  HASH_ADD_TO_TABLE(hh, head, keyptr, keylen_in, hashval, add, _ha_oomed);       \</span></span><br><span class="line"><span class="meta">  HASH_FSCK(hh, head, <span class="string">&quot;HASH_ADD_KEYPTR_BYHASHVALUE&quot;</span>);                            \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_ADD_KEYPTR(hh,head,keyptr,keylen_in,add)                            \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  unsigned _ha_hashv;                                                            \</span></span><br><span class="line"><span class="meta">  HASH_VALUE(keyptr, keylen_in, _ha_hashv);                                      \</span></span><br><span class="line"><span class="meta">  HASH_ADD_KEYPTR_BYHASHVALUE(hh, head, keyptr, keylen_in, _ha_hashv, add);      \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_ADD_BYHASHVALUE(hh,head,fieldname,keylen_in,hashval,add)            \</span></span><br><span class="line"><span class="meta">  HASH_ADD_KEYPTR_BYHASHVALUE(hh, head, &amp;((add)-&gt;fieldname), keylen_in, hashval, add)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_ADD(hh,head,fieldname,keylen_in,add)                                \</span></span><br><span class="line"><span class="meta">  HASH_ADD_KEYPTR(hh, head, &amp;((add)-&gt;fieldname), keylen_in, add)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_TO_BKT(hashv,num_bkts,bkt)                                          \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  bkt = ((hashv) &amp; ((num_bkts) - 1U));                                           \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* delete &quot;delptr&quot; from the hash table.</span></span><br><span class="line"><span class="comment"> * &quot;the usual&quot; patch-up process for the app-order doubly-linked-list.</span></span><br><span class="line"><span class="comment"> * The use of _hd_hh_del below deserves special explanation.</span></span><br><span class="line"><span class="comment"> * These used to be expressed using (delptr) but that led to a bug</span></span><br><span class="line"><span class="comment"> * if someone used the same symbol for the head and deletee, like</span></span><br><span class="line"><span class="comment"> *  HASH_DELETE(hh,users,users);</span></span><br><span class="line"><span class="comment"> * We want that to work, but by changing the head (users) below</span></span><br><span class="line"><span class="comment"> * we were forfeiting our ability to further refer to the deletee (users)</span></span><br><span class="line"><span class="comment"> * in the patch-up process. Solution: use scratch space to</span></span><br><span class="line"><span class="comment"> * copy the deletee pointer, then the latter references are via that</span></span><br><span class="line"><span class="comment"> * scratch pointer rather than through the repointed (users) symbol.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_DELETE(hh,head,delptr)                                              \</span></span><br><span class="line"><span class="meta">    HASH_DELETE_HH(hh, head, &amp;(delptr)-&gt;hh)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_DELETE_HH(hh,head,delptrhh)                                         \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  struct UT_hash_handle *_hd_hh_del = (delptrhh);                                \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> ((_hd_hh_del-&gt;prev == NULL) &amp;&amp; (_hd_hh_del-&gt;next == NULL)) &#123;                \</span></span><br><span class="line"><span class="meta">    HASH_BLOOM_FREE((head)-&gt;hh.tbl);                                             \</span></span><br><span class="line"><span class="meta">    uthash_free((head)-&gt;hh.tbl-&gt;buckets,                                         \</span></span><br><span class="line"><span class="meta">                (head)-&gt;hh.tbl-&gt;num_buckets * sizeof(struct UT_hash_bucket));    \</span></span><br><span class="line"><span class="meta">    uthash_free((head)-&gt;hh.tbl, sizeof(UT_hash_table));                          \</span></span><br><span class="line"><span class="meta">    (head) = NULL;                                                               \</span></span><br><span class="line"><span class="meta">  &#125; <span class="keyword">else</span> &#123;                                                                       \</span></span><br><span class="line"><span class="meta">    unsigned _hd_bkt;                                                            \</span></span><br><span class="line"><span class="meta">    <span class="keyword">if</span> (_hd_hh_del == (head)-&gt;hh.tbl-&gt;tail) &#123;                                    \</span></span><br><span class="line"><span class="meta">      (head)-&gt;hh.tbl-&gt;tail = HH_FROM_ELMT((head)-&gt;hh.tbl, _hd_hh_del-&gt;prev);     \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">    <span class="keyword">if</span> (_hd_hh_del-&gt;prev != NULL) &#123;                                              \</span></span><br><span class="line"><span class="meta">      HH_FROM_ELMT((head)-&gt;hh.tbl, _hd_hh_del-&gt;prev)-&gt;next = _hd_hh_del-&gt;next;   \</span></span><br><span class="line"><span class="meta">    &#125; <span class="keyword">else</span> &#123;                                                                     \</span></span><br><span class="line"><span class="meta">      DECLTYPE_ASSIGN(head, _hd_hh_del-&gt;next);                                   \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">    <span class="keyword">if</span> (_hd_hh_del-&gt;next != NULL) &#123;                                              \</span></span><br><span class="line"><span class="meta">      HH_FROM_ELMT((head)-&gt;hh.tbl, _hd_hh_del-&gt;next)-&gt;prev = _hd_hh_del-&gt;prev;   \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">    HASH_TO_BKT(_hd_hh_del-&gt;hashv, (head)-&gt;hh.tbl-&gt;num_buckets, _hd_bkt);        \</span></span><br><span class="line"><span class="meta">    HASH_DEL_IN_BKT((head)-&gt;hh.tbl-&gt;buckets[_hd_bkt], _hd_hh_del);               \</span></span><br><span class="line"><span class="meta">    (head)-&gt;hh.tbl-&gt;num_items--;                                                 \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">  HASH_FSCK(hh, head, <span class="string">&quot;HASH_DELETE_HH&quot;</span>);                                         \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* convenience forms of HASH_FIND/HASH_ADD/HASH_DEL */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_FIND_STR(head,findstr,out)                                          \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">    unsigned _uthash_hfstr_keylen = (unsigned)uthash_strlen(findstr);            \</span></span><br><span class="line"><span class="meta">    HASH_FIND(hh, head, findstr, _uthash_hfstr_keylen, out);                     \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_ADD_STR(head,strfield,add)                                          \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">    unsigned _uthash_hastr_keylen = (unsigned)uthash_strlen((add)-&gt;strfield);    \</span></span><br><span class="line"><span class="meta">    HASH_ADD(hh, head, strfield[0], _uthash_hastr_keylen, add);                  \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_REPLACE_STR(head,strfield,add,replaced)                             \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">    unsigned _uthash_hrstr_keylen = (unsigned)uthash_strlen((add)-&gt;strfield);    \</span></span><br><span class="line"><span class="meta">    HASH_REPLACE(hh, head, strfield[0], _uthash_hrstr_keylen, add, replaced);    \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_FIND_INT(head,findint,out)                                          \</span></span><br><span class="line"><span class="meta">    HASH_FIND(hh,head,findint,sizeof(int),out)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_ADD_INT(head,intfield,add)                                          \</span></span><br><span class="line"><span class="meta">    HASH_ADD(hh,head,intfield,sizeof(int),add)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_REPLACE_INT(head,intfield,add,replaced)                             \</span></span><br><span class="line"><span class="meta">    HASH_REPLACE(hh,head,intfield,sizeof(int),add,replaced)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_FIND_PTR(head,findptr,out)                                          \</span></span><br><span class="line"><span class="meta">    HASH_FIND(hh,head,findptr,sizeof(void *),out)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_ADD_PTR(head,ptrfield,add)                                          \</span></span><br><span class="line"><span class="meta">    HASH_ADD(hh,head,ptrfield,sizeof(void *),add)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_REPLACE_PTR(head,ptrfield,add,replaced)                             \</span></span><br><span class="line"><span class="meta">    HASH_REPLACE(hh,head,ptrfield,sizeof(void *),add,replaced)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_DEL(head,delptr)                                                    \</span></span><br><span class="line"><span class="meta">    HASH_DELETE(hh,head,delptr)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* HASH_FSCK checks hash integrity on every add/delete when HASH_DEBUG is defined.</span></span><br><span class="line"><span class="comment"> * This is for uthash developer only; it compiles away if HASH_DEBUG isn&#x27;t defined.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> HASH_DEBUG</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span>   <span class="comment">/* fprintf, stderr */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_OOPS(...) do &#123; fprintf(stderr, __VA_ARGS__); exit(-1); &#125; while (0)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_FSCK(hh,head,where)                                                 \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  struct UT_hash_handle *_thh;                                                   \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> (head) &#123;                                                                    \</span></span><br><span class="line"><span class="meta">    unsigned _bkt_i;                                                             \</span></span><br><span class="line"><span class="meta">    unsigned _count = 0;                                                         \</span></span><br><span class="line"><span class="meta">    char *_prev;                                                                 \</span></span><br><span class="line"><span class="meta">    for (_bkt_i = 0; _bkt_i <span class="string">&lt; (head)-&gt;</span>hh.tbl-&gt;num_buckets; ++_bkt_i) &#123;           \</span></span><br><span class="line"><span class="meta">      unsigned _bkt_count = 0;                                                   \</span></span><br><span class="line"><span class="meta">      _thh = (head)-&gt;hh.tbl-&gt;buckets[_bkt_i].hh_head;                            \</span></span><br><span class="line"><span class="meta">      _prev = NULL;                                                              \</span></span><br><span class="line"><span class="meta">      while (_thh) &#123;                                                             \</span></span><br><span class="line"><span class="meta">        <span class="keyword">if</span> (_prev != (char*)(_thh-&gt;hh_prev)) &#123;                                   \</span></span><br><span class="line"><span class="meta">          HASH_OOPS(<span class="string">&quot;%s: invalid hh_prev %p, actual %p\n&quot;</span>,                       \</span></span><br><span class="line"><span class="meta">              (where), (void*)_thh-&gt;hh_prev, (void*)_prev);                      \</span></span><br><span class="line"><span class="meta">        &#125;                                                                        \</span></span><br><span class="line"><span class="meta">        _bkt_count++;                                                            \</span></span><br><span class="line"><span class="meta">        _prev = (char*)(_thh);                                                   \</span></span><br><span class="line"><span class="meta">        _thh = _thh-&gt;hh_next;                                                    \</span></span><br><span class="line"><span class="meta">      &#125;                                                                          \</span></span><br><span class="line"><span class="meta">      _count += _bkt_count;                                                      \</span></span><br><span class="line"><span class="meta">      <span class="keyword">if</span> ((head)-&gt;hh.tbl-&gt;buckets[_bkt_i].count !=  _bkt_count) &#123;                \</span></span><br><span class="line"><span class="meta">        HASH_OOPS(<span class="string">&quot;%s: invalid bucket count %u, actual %u\n&quot;</span>,                    \</span></span><br><span class="line"><span class="meta">            (where), (head)-&gt;hh.tbl-&gt;buckets[_bkt_i].count, _bkt_count);         \</span></span><br><span class="line"><span class="meta">      &#125;                                                                          \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">    <span class="keyword">if</span> (_count != (head)-&gt;hh.tbl-&gt;num_items) &#123;                                   \</span></span><br><span class="line"><span class="meta">      HASH_OOPS(<span class="string">&quot;%s: invalid hh item count %u, actual %u\n&quot;</span>,                     \</span></span><br><span class="line"><span class="meta">          (where), (head)-&gt;hh.tbl-&gt;num_items, _count);                           \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">    _count = 0;                                                                  \</span></span><br><span class="line"><span class="meta">    _prev = NULL;                                                                \</span></span><br><span class="line"><span class="meta">    _thh =  &amp;(head)-&gt;hh;                                                         \</span></span><br><span class="line"><span class="meta">    while (_thh) &#123;                                                               \</span></span><br><span class="line"><span class="meta">      _count++;                                                                  \</span></span><br><span class="line"><span class="meta">      <span class="keyword">if</span> (_prev != (char*)_thh-&gt;prev) &#123;                                          \</span></span><br><span class="line"><span class="meta">        HASH_OOPS(<span class="string">&quot;%s: invalid prev %p, actual %p\n&quot;</span>,                            \</span></span><br><span class="line"><span class="meta">            (where), (void*)_thh-&gt;prev, (void*)_prev);                           \</span></span><br><span class="line"><span class="meta">      &#125;                                                                          \</span></span><br><span class="line"><span class="meta">      _prev = (char*)ELMT_FROM_HH((head)-&gt;hh.tbl, _thh);                         \</span></span><br><span class="line"><span class="meta">      _thh = (_thh-&gt;next ? HH_FROM_ELMT((head)-&gt;hh.tbl, _thh-&gt;next) : NULL);     \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">    <span class="keyword">if</span> (_count != (head)-&gt;hh.tbl-&gt;num_items) &#123;                                   \</span></span><br><span class="line"><span class="meta">      HASH_OOPS(<span class="string">&quot;%s: invalid app item count %u, actual %u\n&quot;</span>,                    \</span></span><br><span class="line"><span class="meta">          (where), (head)-&gt;hh.tbl-&gt;num_items, _count);                           \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_FSCK(hh,head,where)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* When compiled with -DHASH_EMIT_KEYS, length-prefixed keys are emitted to</span></span><br><span class="line"><span class="comment"> * the descriptor to which this macro is defined for tuning the hash function.</span></span><br><span class="line"><span class="comment"> * The app can #include &lt;unistd.h&gt; to get the prototype for write(2). */</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> HASH_EMIT_KEYS</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_EMIT_KEY(hh,head,keyptr,fieldlen)                                   \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  unsigned _klen = fieldlen;                                                     \</span></span><br><span class="line"><span class="meta">  write(HASH_EMIT_KEYS, &amp;_klen, sizeof(_klen));                                  \</span></span><br><span class="line"><span class="meta">  write(HASH_EMIT_KEYS, keyptr, (unsigned long)fieldlen);                        \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_EMIT_KEY(hh,head,keyptr,fieldlen)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* The Bernstein hash function, used in Perl prior to v5.6. Note (x&lt;&lt;5+x)=x*33. */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_BER(key,keylen,hashv)                                               \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  unsigned _hb_keylen = (unsigned)keylen;                                        \</span></span><br><span class="line"><span class="meta">  const unsigned char *_hb_key = (const unsigned char*)(key);                    \</span></span><br><span class="line"><span class="meta">  (hashv) = 0;                                                                   \</span></span><br><span class="line"><span class="meta">  while (_hb_keylen-- != 0U) &#123;                                                   \</span></span><br><span class="line"><span class="meta">    (hashv) = (((hashv) &lt;&lt; 5) + (hashv)) + *_hb_key++;                           \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* SAX/FNV/OAT/JEN hash functions are macro variants of those listed at</span></span><br><span class="line"><span class="comment"> * http://eternallyconfuzzled.com/tuts/algorithms/jsw_tut_hashing.aspx</span></span><br><span class="line"><span class="comment"> * (archive link: https://archive.is/Ivcan )</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_SAX(key,keylen,hashv)                                               \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  unsigned _sx_i;                                                                \</span></span><br><span class="line"><span class="meta">  const unsigned char *_hs_key = (const unsigned char*)(key);                    \</span></span><br><span class="line"><span class="meta">  hashv = 0;                                                                     \</span></span><br><span class="line"><span class="meta">  for (_sx_i=0; _sx_i &lt; keylen; _sx_i++) &#123;                                       \</span></span><br><span class="line"><span class="meta">    hashv ^= (hashv <span class="string">&lt;&lt; 5) + (hashv &gt;</span>&gt; 2) + _hs_key[_sx_i];                       \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"><span class="comment">/* FNV-1a variation */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_FNV(key,keylen,hashv)                                               \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  unsigned _fn_i;                                                                \</span></span><br><span class="line"><span class="meta">  const unsigned char *_hf_key = (const unsigned char*)(key);                    \</span></span><br><span class="line"><span class="meta">  (hashv) = 2166136261U;                                                         \</span></span><br><span class="line"><span class="meta">  for (_fn_i=0; _fn_i &lt; keylen; _fn_i++) &#123;                                       \</span></span><br><span class="line"><span class="meta">    hashv = hashv ^ _hf_key[_fn_i];                                              \</span></span><br><span class="line"><span class="meta">    hashv = hashv * 16777619U;                                                   \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_OAT(key,keylen,hashv)                                               \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  unsigned _ho_i;                                                                \</span></span><br><span class="line"><span class="meta">  const unsigned char *_ho_key=(const unsigned char*)(key);                      \</span></span><br><span class="line"><span class="meta">  hashv = 0;                                                                     \</span></span><br><span class="line"><span class="meta">  for(_ho_i=0; _ho_i &lt; keylen; _ho_i++) &#123;                                        \</span></span><br><span class="line"><span class="meta">      hashv += _ho_key[_ho_i];                                                   \</span></span><br><span class="line"><span class="meta">      hashv += (hashv &lt;&lt; 10);                                                    \</span></span><br><span class="line"><span class="meta">      hashv ^= (hashv &gt;&gt; 6);                                                     \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">  hashv += (hashv &lt;&lt; 3);                                                         \</span></span><br><span class="line"><span class="meta">  hashv ^= (hashv &gt;&gt; 11);                                                        \</span></span><br><span class="line"><span class="meta">  hashv += (hashv &lt;&lt; 15);                                                        \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_JEN_MIX(a,b,c)                                                      \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  a -= b; a -= c; a ^= ( c &gt;&gt; 13 );                                              \</span></span><br><span class="line"><span class="meta">  b -= c; b -= a; b ^= ( a &lt;&lt; 8 );                                               \</span></span><br><span class="line"><span class="meta">  c -= a; c -= b; c ^= ( b &gt;&gt; 13 );                                              \</span></span><br><span class="line"><span class="meta">  a -= b; a -= c; a ^= ( c &gt;&gt; 12 );                                              \</span></span><br><span class="line"><span class="meta">  b -= c; b -= a; b ^= ( a &lt;&lt; 16 );                                              \</span></span><br><span class="line"><span class="meta">  c -= a; c -= b; c ^= ( b &gt;&gt; 5 );                                               \</span></span><br><span class="line"><span class="meta">  a -= b; a -= c; a ^= ( c &gt;&gt; 3 );                                               \</span></span><br><span class="line"><span class="meta">  b -= c; b -= a; b ^= ( a &lt;&lt; 10 );                                              \</span></span><br><span class="line"><span class="meta">  c -= a; c -= b; c ^= ( b &gt;&gt; 15 );                                              \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_JEN(key,keylen,hashv)                                               \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  unsigned _hj_i,_hj_j,_hj_k;                                                    \</span></span><br><span class="line"><span class="meta">  unsigned const char *_hj_key=(unsigned const char*)(key);                      \</span></span><br><span class="line"><span class="meta">  hashv = 0xfeedbeefu;                                                           \</span></span><br><span class="line"><span class="meta">  _hj_i = _hj_j = 0x9e3779b9u;                                                   \</span></span><br><span class="line"><span class="meta">  _hj_k = (unsigned)(keylen);                                                    \</span></span><br><span class="line"><span class="meta">  while (_hj_k &gt;= 12U) &#123;                                                         \</span></span><br><span class="line"><span class="meta">    _hj_i +=    (_hj_key[0] + ( (unsigned)_hj_key[1] &lt;&lt; 8 )                      \</span></span><br><span class="line"><span class="meta">        + ( (unsigned)_hj_key[2] &lt;&lt; 16 )                                         \</span></span><br><span class="line"><span class="meta">        + ( (unsigned)_hj_key[3] &lt;&lt; 24 ) );                                      \</span></span><br><span class="line"><span class="meta">    _hj_j +=    (_hj_key[4] + ( (unsigned)_hj_key[5] &lt;&lt; 8 )                      \</span></span><br><span class="line"><span class="meta">        + ( (unsigned)_hj_key[6] &lt;&lt; 16 )                                         \</span></span><br><span class="line"><span class="meta">        + ( (unsigned)_hj_key[7] &lt;&lt; 24 ) );                                      \</span></span><br><span class="line"><span class="meta">    hashv += (_hj_key[8] + ( (unsigned)_hj_key[9] &lt;&lt; 8 )                         \</span></span><br><span class="line"><span class="meta">        + ( (unsigned)_hj_key[10] &lt;&lt; 16 )                                        \</span></span><br><span class="line"><span class="meta">        + ( (unsigned)_hj_key[11] &lt;&lt; 24 ) );                                     \</span></span><br><span class="line"><span class="meta">                                                                                 \</span></span><br><span class="line"><span class="meta">     HASH_JEN_MIX(_hj_i, _hj_j, hashv);                                          \</span></span><br><span class="line"><span class="meta">                                                                                 \</span></span><br><span class="line"><span class="meta">     _hj_key += 12;                                                              \</span></span><br><span class="line"><span class="meta">     _hj_k -= 12U;                                                               \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">  hashv += (unsigned)(keylen);                                                   \</span></span><br><span class="line"><span class="meta">  switch ( _hj_k ) &#123;                                                             \</span></span><br><span class="line"><span class="meta">    case 11: hashv += ( (unsigned)_hj_key[10] &lt;&lt; 24 ); <span class="comment">/* FALLTHROUGH */</span>         \</span></span><br><span class="line"><span class="meta">    case 10: hashv += ( (unsigned)_hj_key[9] &lt;&lt; 16 );  <span class="comment">/* FALLTHROUGH */</span>         \</span></span><br><span class="line"><span class="meta">    case 9:  hashv += ( (unsigned)_hj_key[8] &lt;&lt; 8 );   <span class="comment">/* FALLTHROUGH */</span>         \</span></span><br><span class="line"><span class="meta">    case 8:  _hj_j += ( (unsigned)_hj_key[7] &lt;&lt; 24 );  <span class="comment">/* FALLTHROUGH */</span>         \</span></span><br><span class="line"><span class="meta">    case 7:  _hj_j += ( (unsigned)_hj_key[6] &lt;&lt; 16 );  <span class="comment">/* FALLTHROUGH */</span>         \</span></span><br><span class="line"><span class="meta">    case 6:  _hj_j += ( (unsigned)_hj_key[5] &lt;&lt; 8 );   <span class="comment">/* FALLTHROUGH */</span>         \</span></span><br><span class="line"><span class="meta">    case 5:  _hj_j += _hj_key[4];                      <span class="comment">/* FALLTHROUGH */</span>         \</span></span><br><span class="line"><span class="meta">    case 4:  _hj_i += ( (unsigned)_hj_key[3] &lt;&lt; 24 );  <span class="comment">/* FALLTHROUGH */</span>         \</span></span><br><span class="line"><span class="meta">    case 3:  _hj_i += ( (unsigned)_hj_key[2] &lt;&lt; 16 );  <span class="comment">/* FALLTHROUGH */</span>         \</span></span><br><span class="line"><span class="meta">    case 2:  _hj_i += ( (unsigned)_hj_key[1] &lt;&lt; 8 );   <span class="comment">/* FALLTHROUGH */</span>         \</span></span><br><span class="line"><span class="meta">    case 1:  _hj_i += _hj_key[0];                      <span class="comment">/* FALLTHROUGH */</span>         \</span></span><br><span class="line"><span class="meta">    default: ;                                                                   \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">  HASH_JEN_MIX(_hj_i, _hj_j, hashv);                                             \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* The Paul Hsieh hash function */</span></span><br><span class="line"><span class="meta">#<span class="keyword">undef</span> get16bits</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> (defined(__GNUC__) &amp;&amp; defined(__i386__)) || defined(__WATCOMC__)             \</span></span><br><span class="line"><span class="meta">  || defined(_MSC_VER) || defined (__BORLANDC__) || defined (__TURBOC__)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> get16bits(d) (*((const uint16_t *) (d)))</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> !defined (get16bits)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> get16bits(d) ((((uint32_t)(((const uint8_t *)(d))[1])) &lt;&lt; 8)             \</span></span><br><span class="line"><span class="meta">                       +(uint32_t)(((const uint8_t *)(d))[0]) )</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_SFH(key,keylen,hashv)                                               \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  unsigned const char *_sfh_key=(unsigned const char*)(key);                     \</span></span><br><span class="line"><span class="meta">  uint32_t _sfh_tmp, _sfh_len = (uint32_t)keylen;                                \</span></span><br><span class="line"><span class="meta">                                                                                 \</span></span><br><span class="line"><span class="meta">  unsigned _sfh_rem = _sfh_len &amp; 3U;                                             \</span></span><br><span class="line"><span class="meta">  _sfh_len &gt;&gt;= 2;                                                                \</span></span><br><span class="line"><span class="meta">  hashv = 0xcafebabeu;                                                           \</span></span><br><span class="line"><span class="meta">                                                                                 \</span></span><br><span class="line"><span class="meta">  <span class="comment">/* Main loop */</span>                                                                \</span></span><br><span class="line"><span class="meta">  for (;_sfh_len &gt; 0U; _sfh_len--) &#123;                                             \</span></span><br><span class="line"><span class="meta">    hashv    += get16bits (_sfh_key);                                            \</span></span><br><span class="line"><span class="meta">    _sfh_tmp  = ((uint32_t)(get16bits (_sfh_key+2)) &lt;&lt; 11) ^ hashv;              \</span></span><br><span class="line"><span class="meta">    hashv     = (hashv &lt;&lt; 16) ^ _sfh_tmp;                                        \</span></span><br><span class="line"><span class="meta">    _sfh_key += 2U*sizeof (uint16_t);                                            \</span></span><br><span class="line"><span class="meta">    hashv    += hashv &gt;&gt; 11;                                                     \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">                                                                                 \</span></span><br><span class="line"><span class="meta">  <span class="comment">/* Handle end cases */</span>                                                         \</span></span><br><span class="line"><span class="meta">  switch (_sfh_rem) &#123;                                                            \</span></span><br><span class="line"><span class="meta">    case 3: hashv += get16bits (_sfh_key);                                       \</span></span><br><span class="line"><span class="meta">            hashv ^= hashv &lt;&lt; 16;                                                \</span></span><br><span class="line"><span class="meta">            hashv ^= (uint32_t)(_sfh_key[sizeof (uint16_t)]) &lt;&lt; 18;              \</span></span><br><span class="line"><span class="meta">            hashv += hashv &gt;&gt; 11;                                                \</span></span><br><span class="line"><span class="meta">            break;                                                               \</span></span><br><span class="line"><span class="meta">    case 2: hashv += get16bits (_sfh_key);                                       \</span></span><br><span class="line"><span class="meta">            hashv ^= hashv &lt;&lt; 11;                                                \</span></span><br><span class="line"><span class="meta">            hashv += hashv &gt;&gt; 17;                                                \</span></span><br><span class="line"><span class="meta">            break;                                                               \</span></span><br><span class="line"><span class="meta">    case 1: hashv += *_sfh_key;                                                  \</span></span><br><span class="line"><span class="meta">            hashv ^= hashv &lt;&lt; 10;                                                \</span></span><br><span class="line"><span class="meta">            hashv += hashv &gt;&gt; 1;                                                 \</span></span><br><span class="line"><span class="meta">            break;                                                               \</span></span><br><span class="line"><span class="meta">    default: ;                                                                   \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">                                                                                 \</span></span><br><span class="line"><span class="meta">  <span class="comment">/* Force &quot;avalanching&quot; of final 127 bits */</span>                                    \</span></span><br><span class="line"><span class="meta">  hashv ^= hashv &lt;&lt; 3;                                                           \</span></span><br><span class="line"><span class="meta">  hashv += hashv &gt;&gt; 5;                                                           \</span></span><br><span class="line"><span class="meta">  hashv ^= hashv &lt;&lt; 4;                                                           \</span></span><br><span class="line"><span class="meta">  hashv += hashv &gt;&gt; 17;                                                          \</span></span><br><span class="line"><span class="meta">  hashv ^= hashv &lt;&lt; 25;                                                          \</span></span><br><span class="line"><span class="meta">  hashv += hashv &gt;&gt; 6;                                                           \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* iterate over items in a known bucket to find desired item */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_FIND_IN_BKT(tbl,hh,head,keyptr,keylen_in,hashval,out)               \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> ((head).hh_head != NULL) &#123;                                                  \</span></span><br><span class="line"><span class="meta">    DECLTYPE_ASSIGN(out, ELMT_FROM_HH(tbl, (head).hh_head));                     \</span></span><br><span class="line"><span class="meta">  &#125; <span class="keyword">else</span> &#123;                                                                       \</span></span><br><span class="line"><span class="meta">    (out) = NULL;                                                                \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">  while ((out) != NULL) &#123;                                                        \</span></span><br><span class="line"><span class="meta">    <span class="keyword">if</span> ((out)-&gt;hh.hashv == (hashval) &amp;&amp; (out)-&gt;hh.keylen == (keylen_in)) &#123;       \</span></span><br><span class="line"><span class="meta">      <span class="keyword">if</span> (HASH_KEYCMP((out)-&gt;hh.key, keyptr, keylen_in) == 0) &#123;                  \</span></span><br><span class="line"><span class="meta">        break;                                                                   \</span></span><br><span class="line"><span class="meta">      &#125;                                                                          \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">    <span class="keyword">if</span> ((out)-&gt;hh.hh_next != NULL) &#123;                                             \</span></span><br><span class="line"><span class="meta">      DECLTYPE_ASSIGN(out, ELMT_FROM_HH(tbl, (out)-&gt;hh.hh_next));                \</span></span><br><span class="line"><span class="meta">    &#125; <span class="keyword">else</span> &#123;                                                                     \</span></span><br><span class="line"><span class="meta">      (out) = NULL;                                                              \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* add an item to a bucket  */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_ADD_TO_BKT(head,hh,addhh,oomed)                                     \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  UT_hash_bucket *_ha_head = &amp;(head);                                            \</span></span><br><span class="line"><span class="meta">  _ha_head-&gt;count++;                                                             \</span></span><br><span class="line"><span class="meta">  (addhh)-&gt;hh_next = _ha_head-&gt;hh_head;                                          \</span></span><br><span class="line"><span class="meta">  (addhh)-&gt;hh_prev = NULL;                                                       \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> (_ha_head-&gt;hh_head != NULL) &#123;                                               \</span></span><br><span class="line"><span class="meta">    _ha_head-&gt;hh_head-&gt;hh_prev = (addhh);                                        \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">  _ha_head-&gt;hh_head = (addhh);                                                   \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> ((_ha_head-&gt;count &gt;= ((_ha_head-&gt;expand_mult + 1U) * HASH_BKT_CAPACITY_THRESH)) \</span></span><br><span class="line"><span class="meta">      &amp;&amp; !(addhh)-&gt;tbl-&gt;noexpand) &#123;                                              \</span></span><br><span class="line"><span class="meta">    HASH_EXPAND_BUCKETS(addhh,(addhh)-&gt;tbl, oomed);                              \</span></span><br><span class="line"><span class="meta">    IF_HASH_NONFATAL_OOM(                                                        \</span></span><br><span class="line"><span class="meta">      <span class="keyword">if</span> (oomed) &#123;                                                               \</span></span><br><span class="line"><span class="meta">        HASH_DEL_IN_BKT(head,addhh);                                             \</span></span><br><span class="line"><span class="meta">      &#125;                                                                          \</span></span><br><span class="line"><span class="meta">    )                                                                            \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* remove an item from a given bucket */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_DEL_IN_BKT(head,delhh)                                              \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  UT_hash_bucket *_hd_head = &amp;(head);                                            \</span></span><br><span class="line"><span class="meta">  _hd_head-&gt;count--;                                                             \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> (_hd_head-&gt;hh_head == (delhh)) &#123;                                            \</span></span><br><span class="line"><span class="meta">    _hd_head-&gt;hh_head = (delhh)-&gt;hh_next;                                        \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> ((delhh)-&gt;hh_prev) &#123;                                                        \</span></span><br><span class="line"><span class="meta">    (delhh)-&gt;hh_prev-&gt;hh_next = (delhh)-&gt;hh_next;                                \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> ((delhh)-&gt;hh_next) &#123;                                                        \</span></span><br><span class="line"><span class="meta">    (delhh)-&gt;hh_next-&gt;hh_prev = (delhh)-&gt;hh_prev;                                \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Bucket expansion has the effect of doubling the number of buckets</span></span><br><span class="line"><span class="comment"> * and redistributing the items into the new buckets. Ideally the</span></span><br><span class="line"><span class="comment"> * items will distribute more or less evenly into the new buckets</span></span><br><span class="line"><span class="comment"> * (the extent to which this is true is a measure of the quality of</span></span><br><span class="line"><span class="comment"> * the hash function as it applies to the key domain).</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * With the items distributed into more buckets, the chain length</span></span><br><span class="line"><span class="comment"> * (item count) in each bucket is reduced. Thus by expanding buckets</span></span><br><span class="line"><span class="comment"> * the hash keeps a bound on the chain length. This bounded chain</span></span><br><span class="line"><span class="comment"> * length is the essence of how a hash provides constant time lookup.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * The calculation of tbl-&gt;ideal_chain_maxlen below deserves some</span></span><br><span class="line"><span class="comment"> * explanation. First, keep in mind that we&#x27;re calculating the ideal</span></span><br><span class="line"><span class="comment"> * maximum chain length based on the *new* (doubled) bucket count.</span></span><br><span class="line"><span class="comment"> * In fractions this is just n/b (n=number of items,b=new num buckets).</span></span><br><span class="line"><span class="comment"> * Since the ideal chain length is an integer, we want to calculate</span></span><br><span class="line"><span class="comment"> * ceil(n/b). We don&#x27;t depend on floating point arithmetic in this</span></span><br><span class="line"><span class="comment"> * hash, so to calculate ceil(n/b) with integers we could write</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *      ceil(n/b) = (n/b) + ((n%b)?1:0)</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * and in fact a previous version of this hash did just that.</span></span><br><span class="line"><span class="comment"> * But now we have improved things a bit by recognizing that b is</span></span><br><span class="line"><span class="comment"> * always a power of two. We keep its base 2 log handy (call it lb),</span></span><br><span class="line"><span class="comment"> * so now we can write this with a bit shift and logical AND:</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *      ceil(n/b) = (n&gt;&gt;lb) + ( (n &amp; (b-1)) ? 1:0)</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_EXPAND_BUCKETS(hh,tbl,oomed)                                        \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  unsigned _he_bkt;                                                              \</span></span><br><span class="line"><span class="meta">  unsigned _he_bkt_i;                                                            \</span></span><br><span class="line"><span class="meta">  struct UT_hash_handle *_he_thh, *_he_hh_nxt;                                   \</span></span><br><span class="line"><span class="meta">  UT_hash_bucket *_he_new_buckets, *_he_newbkt;                                  \</span></span><br><span class="line"><span class="meta">  _he_new_buckets = (UT_hash_bucket*)uthash_malloc(                              \</span></span><br><span class="line"><span class="meta">           sizeof(struct UT_hash_bucket) * (tbl)-&gt;num_buckets * 2U);             \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> (!_he_new_buckets) &#123;                                                        \</span></span><br><span class="line"><span class="meta">    HASH_RECORD_OOM(oomed);                                                      \</span></span><br><span class="line"><span class="meta">  &#125; <span class="keyword">else</span> &#123;                                                                       \</span></span><br><span class="line"><span class="meta">    uthash_bzero(_he_new_buckets,                                                \</span></span><br><span class="line"><span class="meta">        sizeof(struct UT_hash_bucket) * (tbl)-&gt;num_buckets * 2U);                \</span></span><br><span class="line"><span class="meta">    (tbl)-&gt;ideal_chain_maxlen =                                                  \</span></span><br><span class="line"><span class="meta">       ((tbl)-&gt;num_items &gt;&gt; ((tbl)-&gt;log2_num_buckets+1U)) +                      \</span></span><br><span class="line"><span class="meta">       ((((tbl)-&gt;num_items &amp; (((tbl)-&gt;num_buckets*2U)-1U)) != 0U) ? 1U : 0U);    \</span></span><br><span class="line"><span class="meta">    (tbl)-&gt;nonideal_items = 0;                                                   \</span></span><br><span class="line"><span class="meta">    for (_he_bkt_i = 0; _he_bkt_i <span class="string">&lt; (tbl)-&gt;</span>num_buckets; _he_bkt_i++) &#123;           \</span></span><br><span class="line"><span class="meta">      _he_thh = (tbl)-&gt;buckets[ _he_bkt_i ].hh_head;                             \</span></span><br><span class="line"><span class="meta">      while (_he_thh != NULL) &#123;                                                  \</span></span><br><span class="line"><span class="meta">        _he_hh_nxt = _he_thh-&gt;hh_next;                                           \</span></span><br><span class="line"><span class="meta">        HASH_TO_BKT(_he_thh-&gt;hashv, (tbl)-&gt;num_buckets * 2U, _he_bkt);           \</span></span><br><span class="line"><span class="meta">        _he_newbkt = &amp;(_he_new_buckets[_he_bkt]);                                \</span></span><br><span class="line"><span class="meta">        <span class="keyword">if</span> (++(_he_newbkt-&gt;count) &gt; (tbl)-&gt;ideal_chain_maxlen) &#123;                 \</span></span><br><span class="line"><span class="meta">          (tbl)-&gt;nonideal_items++;                                               \</span></span><br><span class="line"><span class="meta">          <span class="keyword">if</span> (_he_newbkt-&gt;count &gt; _he_newbkt-&gt;expand_mult * (tbl)-&gt;ideal_chain_maxlen) &#123; \</span></span><br><span class="line"><span class="meta">            _he_newbkt-&gt;expand_mult++;                                           \</span></span><br><span class="line"><span class="meta">          &#125;                                                                      \</span></span><br><span class="line"><span class="meta">        &#125;                                                                        \</span></span><br><span class="line"><span class="meta">        _he_thh-&gt;hh_prev = NULL;                                                 \</span></span><br><span class="line"><span class="meta">        _he_thh-&gt;hh_next = _he_newbkt-&gt;hh_head;                                  \</span></span><br><span class="line"><span class="meta">        <span class="keyword">if</span> (_he_newbkt-&gt;hh_head != NULL) &#123;                                       \</span></span><br><span class="line"><span class="meta">          _he_newbkt-&gt;hh_head-&gt;hh_prev = _he_thh;                                \</span></span><br><span class="line"><span class="meta">        &#125;                                                                        \</span></span><br><span class="line"><span class="meta">        _he_newbkt-&gt;hh_head = _he_thh;                                           \</span></span><br><span class="line"><span class="meta">        _he_thh = _he_hh_nxt;                                                    \</span></span><br><span class="line"><span class="meta">      &#125;                                                                          \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">    uthash_free((tbl)-&gt;buckets, (tbl)-&gt;num_buckets * sizeof(struct UT_hash_bucket)); \</span></span><br><span class="line"><span class="meta">    (tbl)-&gt;num_buckets *= 2U;                                                    \</span></span><br><span class="line"><span class="meta">    (tbl)-&gt;log2_num_buckets++;                                                   \</span></span><br><span class="line"><span class="meta">    (tbl)-&gt;buckets = _he_new_buckets;                                            \</span></span><br><span class="line"><span class="meta">    (tbl)-&gt;ineff_expands = ((tbl)-&gt;nonideal_items &gt; ((tbl)-&gt;num_items &gt;&gt; 1)) ?   \</span></span><br><span class="line"><span class="meta">        ((tbl)-&gt;ineff_expands+1U) : 0U;                                          \</span></span><br><span class="line"><span class="meta">    <span class="keyword">if</span> ((tbl)-&gt;ineff_expands &gt; 1U) &#123;                                             \</span></span><br><span class="line"><span class="meta">      (tbl)-&gt;noexpand = 1;                                                       \</span></span><br><span class="line"><span class="meta">      uthash_noexpand_fyi(tbl);                                                  \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">    uthash_expand_fyi(tbl);                                                      \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* This is an adaptation of Simon Tatham&#x27;s O(n log(n)) mergesort */</span></span><br><span class="line"><span class="comment">/* Note that HASH_SORT assumes the hash handle name to be hh.</span></span><br><span class="line"><span class="comment"> * HASH_SRT was added to allow the hash handle name to be passed in. */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_SORT(head,cmpfcn) HASH_SRT(hh,head,cmpfcn)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_SRT(hh,head,cmpfcn)                                                 \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  unsigned _hs_i;                                                                \</span></span><br><span class="line"><span class="meta">  unsigned _hs_looping,_hs_nmerges,_hs_insize,_hs_psize,_hs_qsize;               \</span></span><br><span class="line"><span class="meta">  struct UT_hash_handle *_hs_p, *_hs_q, *_hs_e, *_hs_list, *_hs_tail;            \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> (head != NULL) &#123;                                                            \</span></span><br><span class="line"><span class="meta">    _hs_insize = 1;                                                              \</span></span><br><span class="line"><span class="meta">    _hs_looping = 1;                                                             \</span></span><br><span class="line"><span class="meta">    _hs_list = &amp;((head)-&gt;hh);                                                    \</span></span><br><span class="line"><span class="meta">    while (_hs_looping != 0U) &#123;                                                  \</span></span><br><span class="line"><span class="meta">      _hs_p = _hs_list;                                                          \</span></span><br><span class="line"><span class="meta">      _hs_list = NULL;                                                           \</span></span><br><span class="line"><span class="meta">      _hs_tail = NULL;                                                           \</span></span><br><span class="line"><span class="meta">      _hs_nmerges = 0;                                                           \</span></span><br><span class="line"><span class="meta">      while (_hs_p != NULL) &#123;                                                    \</span></span><br><span class="line"><span class="meta">        _hs_nmerges++;                                                           \</span></span><br><span class="line"><span class="meta">        _hs_q = _hs_p;                                                           \</span></span><br><span class="line"><span class="meta">        _hs_psize = 0;                                                           \</span></span><br><span class="line"><span class="meta">        for (_hs_i = 0; _hs_i &lt; _hs_insize; ++_hs_i) &#123;                           \</span></span><br><span class="line"><span class="meta">          _hs_psize++;                                                           \</span></span><br><span class="line"><span class="meta">          _hs_q = ((_hs_q-&gt;next != NULL) ?                                       \</span></span><br><span class="line"><span class="meta">            HH_FROM_ELMT((head)-&gt;hh.tbl, _hs_q-&gt;next) : NULL);                   \</span></span><br><span class="line"><span class="meta">          <span class="keyword">if</span> (_hs_q == NULL) &#123;                                                   \</span></span><br><span class="line"><span class="meta">            break;                                                               \</span></span><br><span class="line"><span class="meta">          &#125;                                                                      \</span></span><br><span class="line"><span class="meta">        &#125;                                                                        \</span></span><br><span class="line"><span class="meta">        _hs_qsize = _hs_insize;                                                  \</span></span><br><span class="line"><span class="meta">        while ((_hs_psize != 0U) || ((_hs_qsize != 0U) &amp;&amp; (_hs_q != NULL))) &#123;    \</span></span><br><span class="line"><span class="meta">          <span class="keyword">if</span> (_hs_psize == 0U) &#123;                                                 \</span></span><br><span class="line"><span class="meta">            _hs_e = _hs_q;                                                       \</span></span><br><span class="line"><span class="meta">            _hs_q = ((_hs_q-&gt;next != NULL) ?                                     \</span></span><br><span class="line"><span class="meta">              HH_FROM_ELMT((head)-&gt;hh.tbl, _hs_q-&gt;next) : NULL);                 \</span></span><br><span class="line"><span class="meta">            _hs_qsize--;                                                         \</span></span><br><span class="line"><span class="meta">          &#125; <span class="keyword">else</span> <span class="keyword">if</span> ((_hs_qsize == 0U) || (_hs_q == NULL)) &#123;                     \</span></span><br><span class="line"><span class="meta">            _hs_e = _hs_p;                                                       \</span></span><br><span class="line"><span class="meta">            <span class="keyword">if</span> (_hs_p != NULL) &#123;                                                 \</span></span><br><span class="line"><span class="meta">              _hs_p = ((_hs_p-&gt;next != NULL) ?                                   \</span></span><br><span class="line"><span class="meta">                HH_FROM_ELMT((head)-&gt;hh.tbl, _hs_p-&gt;next) : NULL);               \</span></span><br><span class="line"><span class="meta">            &#125;                                                                    \</span></span><br><span class="line"><span class="meta">            _hs_psize--;                                                         \</span></span><br><span class="line"><span class="meta">          &#125; <span class="keyword">else</span> <span class="keyword">if</span> ((cmpfcn(                                                    \</span></span><br><span class="line"><span class="meta">                DECLTYPE(head)(ELMT_FROM_HH((head)-&gt;hh.tbl, _hs_p)),             \</span></span><br><span class="line"><span class="meta">                DECLTYPE(head)(ELMT_FROM_HH((head)-&gt;hh.tbl, _hs_q))              \</span></span><br><span class="line"><span class="meta">                )) &lt;= 0) &#123;                                                       \</span></span><br><span class="line"><span class="meta">            _hs_e = _hs_p;                                                       \</span></span><br><span class="line"><span class="meta">            <span class="keyword">if</span> (_hs_p != NULL) &#123;                                                 \</span></span><br><span class="line"><span class="meta">              _hs_p = ((_hs_p-&gt;next != NULL) ?                                   \</span></span><br><span class="line"><span class="meta">                HH_FROM_ELMT((head)-&gt;hh.tbl, _hs_p-&gt;next) : NULL);               \</span></span><br><span class="line"><span class="meta">            &#125;                                                                    \</span></span><br><span class="line"><span class="meta">            _hs_psize--;                                                         \</span></span><br><span class="line"><span class="meta">          &#125; <span class="keyword">else</span> &#123;                                                               \</span></span><br><span class="line"><span class="meta">            _hs_e = _hs_q;                                                       \</span></span><br><span class="line"><span class="meta">            _hs_q = ((_hs_q-&gt;next != NULL) ?                                     \</span></span><br><span class="line"><span class="meta">              HH_FROM_ELMT((head)-&gt;hh.tbl, _hs_q-&gt;next) : NULL);                 \</span></span><br><span class="line"><span class="meta">            _hs_qsize--;                                                         \</span></span><br><span class="line"><span class="meta">          &#125;                                                                      \</span></span><br><span class="line"><span class="meta">          <span class="keyword">if</span> ( _hs_tail != NULL ) &#123;                                              \</span></span><br><span class="line"><span class="meta">            _hs_tail-&gt;next = ((_hs_e != NULL) ?                                  \</span></span><br><span class="line"><span class="meta">              ELMT_FROM_HH((head)-&gt;hh.tbl, _hs_e) : NULL);                       \</span></span><br><span class="line"><span class="meta">          &#125; <span class="keyword">else</span> &#123;                                                               \</span></span><br><span class="line"><span class="meta">            _hs_list = _hs_e;                                                    \</span></span><br><span class="line"><span class="meta">          &#125;                                                                      \</span></span><br><span class="line"><span class="meta">          <span class="keyword">if</span> (_hs_e != NULL) &#123;                                                   \</span></span><br><span class="line"><span class="meta">            _hs_e-&gt;prev = ((_hs_tail != NULL) ?                                  \</span></span><br><span class="line"><span class="meta">              ELMT_FROM_HH((head)-&gt;hh.tbl, _hs_tail) : NULL);                    \</span></span><br><span class="line"><span class="meta">          &#125;                                                                      \</span></span><br><span class="line"><span class="meta">          _hs_tail = _hs_e;                                                      \</span></span><br><span class="line"><span class="meta">        &#125;                                                                        \</span></span><br><span class="line"><span class="meta">        _hs_p = _hs_q;                                                           \</span></span><br><span class="line"><span class="meta">      &#125;                                                                          \</span></span><br><span class="line"><span class="meta">      <span class="keyword">if</span> (_hs_tail != NULL) &#123;                                                    \</span></span><br><span class="line"><span class="meta">        _hs_tail-&gt;next = NULL;                                                   \</span></span><br><span class="line"><span class="meta">      &#125;                                                                          \</span></span><br><span class="line"><span class="meta">      <span class="keyword">if</span> (_hs_nmerges &lt;= 1U) &#123;                                                   \</span></span><br><span class="line"><span class="meta">        _hs_looping = 0;                                                         \</span></span><br><span class="line"><span class="meta">        (head)-&gt;hh.tbl-&gt;tail = _hs_tail;                                         \</span></span><br><span class="line"><span class="meta">        DECLTYPE_ASSIGN(head, ELMT_FROM_HH((head)-&gt;hh.tbl, _hs_list));           \</span></span><br><span class="line"><span class="meta">      &#125;                                                                          \</span></span><br><span class="line"><span class="meta">      _hs_insize *= 2U;                                                          \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">    HASH_FSCK(hh, head, <span class="string">&quot;HASH_SRT&quot;</span>);                                             \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* This function selects items from one hash into another hash.</span></span><br><span class="line"><span class="comment"> * The end result is that the selected items have dual presence</span></span><br><span class="line"><span class="comment"> * in both hashes. There is no copy of the items made; rather</span></span><br><span class="line"><span class="comment"> * they are added into the new hash through a secondary hash</span></span><br><span class="line"><span class="comment"> * hash handle that must be present in the structure. */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_SELECT(hh_dst, dst, hh_src, src, cond)                              \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  unsigned _src_bkt, _dst_bkt;                                                   \</span></span><br><span class="line"><span class="meta">  void *_last_elt = NULL, *_elt;                                                 \</span></span><br><span class="line"><span class="meta">  UT_hash_handle *_src_hh, *_dst_hh, *_last_elt_hh=NULL;                         \</span></span><br><span class="line"><span class="meta">  ptrdiff_t _dst_hho = ((char*)(&amp;(dst)-&gt;hh_dst) - (char*)(dst));                 \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> ((src) != NULL) &#123;                                                           \</span></span><br><span class="line"><span class="meta">    for (_src_bkt=0; _src_bkt <span class="string">&lt; (src)-&gt;</span>hh_src.tbl-&gt;num_buckets; _src_bkt++) &#123;    \</span></span><br><span class="line"><span class="meta">      for (_src_hh = (src)-&gt;hh_src.tbl-&gt;buckets[_src_bkt].hh_head;               \</span></span><br><span class="line"><span class="meta">        _src_hh != NULL;                                                         \</span></span><br><span class="line"><span class="meta">        _src_hh = _src_hh-&gt;hh_next) &#123;                                            \</span></span><br><span class="line"><span class="meta">        _elt = ELMT_FROM_HH((src)-&gt;hh_src.tbl, _src_hh);                         \</span></span><br><span class="line"><span class="meta">        <span class="keyword">if</span> (cond(_elt)) &#123;                                                        \</span></span><br><span class="line"><span class="meta">          IF_HASH_NONFATAL_OOM( int _hs_oomed = 0; )                             \</span></span><br><span class="line"><span class="meta">          _dst_hh = (UT_hash_handle*)(void*)(((char*)_elt) + _dst_hho);          \</span></span><br><span class="line"><span class="meta">          _dst_hh-&gt;key = _src_hh-&gt;key;                                           \</span></span><br><span class="line"><span class="meta">          _dst_hh-&gt;keylen = _src_hh-&gt;keylen;                                     \</span></span><br><span class="line"><span class="meta">          _dst_hh-&gt;hashv = _src_hh-&gt;hashv;                                       \</span></span><br><span class="line"><span class="meta">          _dst_hh-&gt;prev = _last_elt;                                             \</span></span><br><span class="line"><span class="meta">          _dst_hh-&gt;next = NULL;                                                  \</span></span><br><span class="line"><span class="meta">          <span class="keyword">if</span> (_last_elt_hh != NULL) &#123;                                            \</span></span><br><span class="line"><span class="meta">            _last_elt_hh-&gt;next = _elt;                                           \</span></span><br><span class="line"><span class="meta">          &#125;                                                                      \</span></span><br><span class="line"><span class="meta">          <span class="keyword">if</span> ((dst) == NULL) &#123;                                                   \</span></span><br><span class="line"><span class="meta">            DECLTYPE_ASSIGN(dst, _elt);                                          \</span></span><br><span class="line"><span class="meta">            HASH_MAKE_TABLE(hh_dst, dst, _hs_oomed);                             \</span></span><br><span class="line"><span class="meta">            IF_HASH_NONFATAL_OOM(                                                \</span></span><br><span class="line"><span class="meta">              <span class="keyword">if</span> (_hs_oomed) &#123;                                                   \</span></span><br><span class="line"><span class="meta">                uthash_nonfatal_oom(_elt);                                       \</span></span><br><span class="line"><span class="meta">                (dst) = NULL;                                                    \</span></span><br><span class="line"><span class="meta">                continue;                                                        \</span></span><br><span class="line"><span class="meta">              &#125;                                                                  \</span></span><br><span class="line"><span class="meta">            )                                                                    \</span></span><br><span class="line"><span class="meta">          &#125; <span class="keyword">else</span> &#123;                                                               \</span></span><br><span class="line"><span class="meta">            _dst_hh-&gt;tbl = (dst)-&gt;hh_dst.tbl;                                    \</span></span><br><span class="line"><span class="meta">          &#125;                                                                      \</span></span><br><span class="line"><span class="meta">          HASH_TO_BKT(_dst_hh-&gt;hashv, _dst_hh-&gt;tbl-&gt;num_buckets, _dst_bkt);      \</span></span><br><span class="line"><span class="meta">          HASH_ADD_TO_BKT(_dst_hh-&gt;tbl-&gt;buckets[_dst_bkt], hh_dst, _dst_hh, _hs_oomed); \</span></span><br><span class="line"><span class="meta">          (dst)-&gt;hh_dst.tbl-&gt;num_items++;                                        \</span></span><br><span class="line"><span class="meta">          IF_HASH_NONFATAL_OOM(                                                  \</span></span><br><span class="line"><span class="meta">            <span class="keyword">if</span> (_hs_oomed) &#123;                                                     \</span></span><br><span class="line"><span class="meta">              HASH_ROLLBACK_BKT(hh_dst, dst, _dst_hh);                           \</span></span><br><span class="line"><span class="meta">              HASH_DELETE_HH(hh_dst, dst, _dst_hh);                              \</span></span><br><span class="line"><span class="meta">              _dst_hh-&gt;tbl = NULL;                                               \</span></span><br><span class="line"><span class="meta">              uthash_nonfatal_oom(_elt);                                         \</span></span><br><span class="line"><span class="meta">              continue;                                                          \</span></span><br><span class="line"><span class="meta">            &#125;                                                                    \</span></span><br><span class="line"><span class="meta">          )                                                                      \</span></span><br><span class="line"><span class="meta">          HASH_BLOOM_ADD(_dst_hh-&gt;tbl, _dst_hh-&gt;hashv);                          \</span></span><br><span class="line"><span class="meta">          _last_elt = _elt;                                                      \</span></span><br><span class="line"><span class="meta">          _last_elt_hh = _dst_hh;                                                \</span></span><br><span class="line"><span class="meta">        &#125;                                                                        \</span></span><br><span class="line"><span class="meta">      &#125;                                                                          \</span></span><br><span class="line"><span class="meta">    &#125;                                                                            \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">  HASH_FSCK(hh_dst, dst, <span class="string">&quot;HASH_SELECT&quot;</span>);                                         \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_CLEAR(hh,head)                                                      \</span></span><br><span class="line"><span class="meta">do &#123;                                                                             \</span></span><br><span class="line"><span class="meta">  <span class="keyword">if</span> ((head) != NULL) &#123;                                                          \</span></span><br><span class="line"><span class="meta">    HASH_BLOOM_FREE((head)-&gt;hh.tbl);                                             \</span></span><br><span class="line"><span class="meta">    uthash_free((head)-&gt;hh.tbl-&gt;buckets,                                         \</span></span><br><span class="line"><span class="meta">                (head)-&gt;hh.tbl-&gt;num_buckets*sizeof(struct UT_hash_bucket));      \</span></span><br><span class="line"><span class="meta">    uthash_free((head)-&gt;hh.tbl, sizeof(UT_hash_table));                          \</span></span><br><span class="line"><span class="meta">    (head) = NULL;                                                               \</span></span><br><span class="line"><span class="meta">  &#125;                                                                              \</span></span><br><span class="line"><span class="meta">&#125; while (0)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_OVERHEAD(hh,head)                                                   \</span></span><br><span class="line"><span class="meta"> (((head) != NULL) ? (                                                           \</span></span><br><span class="line"><span class="meta"> (size_t)(((head)-&gt;hh.tbl-&gt;num_items   * sizeof(UT_hash_handle))   +             \</span></span><br><span class="line"><span class="meta">          ((head)-&gt;hh.tbl-&gt;num_buckets * sizeof(UT_hash_bucket))   +             \</span></span><br><span class="line"><span class="meta">           sizeof(UT_hash_table)                                   +             \</span></span><br><span class="line"><span class="meta">           (HASH_BLOOM_BYTELEN))) : 0U)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> NO_DECLTYPE</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_ITER(hh,head,el,tmp)                                                \</span></span><br><span class="line"><span class="meta">for(((el)=(head)), ((*(char**)(&amp;(tmp)))=(char*)((head!=NULL)?(head)-&gt;hh.next:NULL)); \</span></span><br><span class="line"><span class="meta">  (el) != NULL; ((el)=(tmp)), ((*(char**)(&amp;(tmp)))=(char*)((tmp!=NULL)?(tmp)-&gt;hh.next:NULL)))</span></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_ITER(hh,head,el,tmp)                                                \</span></span><br><span class="line"><span class="meta">for(((el)=(head)), ((tmp)=DECLTYPE(el)((head!=NULL)?(head)-&gt;hh.next:NULL));      \</span></span><br><span class="line"><span class="meta">  (el) != NULL; ((el)=(tmp)), ((tmp)=DECLTYPE(el)((tmp!=NULL)?(tmp)-&gt;hh.next:NULL)))</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* obtain a count of items in the hash */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_COUNT(head) HASH_CNT(hh,head)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_CNT(hh,head) ((head != NULL)?((head)-&gt;hh.tbl-&gt;num_items):0U)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">UT_hash_bucket</span> &#123;</span></span><br><span class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">UT_hash_handle</span> *<span class="title">hh_head</span>;</span></span><br><span class="line">   <span class="type">unsigned</span> count;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* expand_mult is normally set to 0. In this situation, the max chain length</span></span><br><span class="line"><span class="comment">    * threshold is enforced at its default value, HASH_BKT_CAPACITY_THRESH. (If</span></span><br><span class="line"><span class="comment">    * the bucket&#x27;s chain exceeds this length, bucket expansion is triggered).</span></span><br><span class="line"><span class="comment">    * However, setting expand_mult to a non-zero value delays bucket expansion</span></span><br><span class="line"><span class="comment">    * (that would be triggered by additions to this particular bucket)</span></span><br><span class="line"><span class="comment">    * until its chain length reaches a *multiple* of HASH_BKT_CAPACITY_THRESH.</span></span><br><span class="line"><span class="comment">    * (The multiplier is simply expand_mult+1). The whole idea of this</span></span><br><span class="line"><span class="comment">    * multiplier is to reduce bucket expansions, since they are expensive, in</span></span><br><span class="line"><span class="comment">    * situations where we know that a particular bucket tends to be overused.</span></span><br><span class="line"><span class="comment">    * It is better to let its chain length grow to a longer yet-still-bounded</span></span><br><span class="line"><span class="comment">    * value, than to do an O(n) bucket expansion too often.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="type">unsigned</span> expand_mult;</span><br><span class="line"></span><br><span class="line">&#125; UT_hash_bucket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* random signature used only to find hash tables in external analysis */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_SIGNATURE 0xa0111fe1u</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HASH_BLOOM_SIGNATURE 0xb12220f2u</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">UT_hash_table</span> &#123;</span></span><br><span class="line">   UT_hash_bucket *buckets;</span><br><span class="line">   <span class="type">unsigned</span> num_buckets, log2_num_buckets;</span><br><span class="line">   <span class="type">unsigned</span> num_items;</span><br><span class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">UT_hash_handle</span> *<span class="title">tail</span>;</span> <span class="comment">/* tail hh in app order, for fast append    */</span></span><br><span class="line">   <span class="type">ptrdiff_t</span> hho; <span class="comment">/* hash handle offset (byte pos of hash handle in element */</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* in an ideal situation (all buckets used equally), no bucket would have</span></span><br><span class="line"><span class="comment">    * more than ceil(#items/#buckets) items. that&#x27;s the ideal chain length. */</span></span><br><span class="line">   <span class="type">unsigned</span> ideal_chain_maxlen;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* nonideal_items is the number of items in the hash whose chain position</span></span><br><span class="line"><span class="comment">    * exceeds the ideal chain maxlen. these items pay the penalty for an uneven</span></span><br><span class="line"><span class="comment">    * hash distribution; reaching them in a chain traversal takes &gt;ideal steps */</span></span><br><span class="line">   <span class="type">unsigned</span> nonideal_items;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* ineffective expands occur when a bucket doubling was performed, but</span></span><br><span class="line"><span class="comment">    * afterward, more than half the items in the hash had nonideal chain</span></span><br><span class="line"><span class="comment">    * positions. If this happens on two consecutive expansions we inhibit any</span></span><br><span class="line"><span class="comment">    * further expansion, as it&#x27;s not helping; this happens when the hash</span></span><br><span class="line"><span class="comment">    * function isn&#x27;t a good fit for the key domain. When expansion is inhibited</span></span><br><span class="line"><span class="comment">    * the hash will still work, albeit no longer in constant time. */</span></span><br><span class="line">   <span class="type">unsigned</span> ineff_expands, noexpand;</span><br><span class="line"></span><br><span class="line">   <span class="type">uint32_t</span> signature; <span class="comment">/* used only to find hash tables in external analysis */</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> HASH_BLOOM</span></span><br><span class="line">   <span class="type">uint32_t</span> bloom_sig; <span class="comment">/* used only to test bloom exists in external analysis */</span></span><br><span class="line">   <span class="type">uint8_t</span> *bloom_bv;</span><br><span class="line">   <span class="type">uint8_t</span> bloom_nbits;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">&#125; UT_hash_table;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">UT_hash_handle</span> &#123;</span></span><br><span class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">UT_hash_table</span> *<span class="title">tbl</span>;</span></span><br><span class="line">   <span class="type">void</span> *prev;                       <span class="comment">/* prev element in app order      */</span></span><br><span class="line">   <span class="type">void</span> *next;                       <span class="comment">/* next element in app order      */</span></span><br><span class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">UT_hash_handle</span> *<span class="title">hh_prev</span>;</span>   <span class="comment">/* previous hh in bucket order    */</span></span><br><span class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">UT_hash_handle</span> *<span class="title">hh_next</span>;</span>   <span class="comment">/* next hh in bucket order        */</span></span><br><span class="line">   <span class="type">const</span> <span class="type">void</span> *key;                  <span class="comment">/* ptr to enclosing struct&#x27;s key  */</span></span><br><span class="line">   <span class="type">unsigned</span> keylen;                  <span class="comment">/* enclosing struct&#x27;s key len     */</span></span><br><span class="line">   <span class="type">unsigned</span> hashv;                   <span class="comment">/* result of hash-fcn(key)        */</span></span><br><span class="line">&#125; UT_hash_handle;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">/* UTHASH_H */</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ubootç§»æ¤</title>
      <link href="/2022/05/17/CocoPI-Zero/uboot%E7%A7%BB%E6%A4%8D/"/>
      <url>/2022/05/17/CocoPI-Zero/uboot%E7%A7%BB%E6%A4%8D/</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸš€-ubootç®€ä»‹"><a href="#ğŸš€-ubootç®€ä»‹" class="headerlink" title="ğŸš€ ubootç®€ä»‹"></a>ğŸš€ ubootç®€ä»‹</h2><p>Linux ç³»ç»Ÿè¦å¯åŠ¨å°±å¿…é¡»éœ€è¦ä¸€ä¸ª bootloader ç¨‹åºï¼Œbootloaderç¨‹åºä¼šå…ˆåˆå§‹åŒ–DDRç­‰å¤–è®¾ï¼Œç„¶åå°†Linuxå†…æ ¸ä»flash(NANDï¼ŒNOR FLASHï¼Œ SDï¼Œ MMC ç­‰)æ‹·è´åˆ° DDR ä¸­ï¼Œæœ€åå¯åŠ¨ Linux å†…æ ¸ã€‚å½“ç„¶äº†ï¼Œ bootloader çš„å®é™…å·¥ä½œè¦å¤æ‚çš„å¤šï¼Œä½†æ˜¯å®ƒæœ€ä¸»è¦çš„å·¥ä½œå°±æ˜¯å¯åŠ¨ Linux å†…æ ¸ï¼Œ bootloader å’Œ Linux å†…æ ¸çš„å…³ç³»å°±è·Ÿ PC ä¸Šçš„ BIOS å’Œ Windows çš„å…³ç³»ä¸€æ ·ï¼Œ bootloader å°±ç›¸å½“äº BIOSã€‚ç›®å‰æœ‰å¾ˆå¤šç°æˆçš„ bootloader è½¯ä»¶å¯ä»¥ä½¿ç”¨ï¼Œæ¯”å¦‚ U-Bootã€ viviã€ RedBoot ç­‰ç­‰ï¼Œå…¶ä¸­ä»¥ U-Boot ä½¿ç”¨æœ€ä¸ºå¹¿æ³›ã€‚</p><p>uboot çš„å…¨ç§°æ˜¯ Universal Boot Loaderï¼Œ æ˜¯ä¸€ä¸ªéµå¾ª GPL åè®®çš„å¼€æºè½¯ä»¶ã€‚uboot æ˜¯ä¸€ä¸ªè£¸æœºä»£ç ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªè£¸æœºç»¼åˆä¾‹ç¨‹ï¼Œä¸»è¦åŠŸèƒ½æ˜¯åˆå§‹åŒ–ä¸€äº›ç¡¬ä»¶ï¼Œ éƒ¨ç½²æ•´ä¸ªè®¡ç®—æœºç³»ç»Ÿï¼Œ å°†å†…æ ¸è¯»åˆ°å†…å­˜ï¼Œ æ ¹æ®ç¯å¢ƒå˜é‡å»å¯åŠ¨å†…æ ¸ï¼Œ å¹¶å‘å†…æ ¸ä¼ é€’å‚æ•°ã€‚ ç°åœ¨çš„ uboot å·²ç»æ”¯æŒæ¶²æ™¶å±ã€ç½‘ç»œã€ USB ç­‰é«˜çº§åŠŸèƒ½ã€‚ uboot å®˜ç½‘ä¸º <a href="http://www.denx.de/wiki/U-Boot/">http://www.denx.de/wiki/U-Boot/</a>  ã€‚ </p><h2 id="ğŸš€-ubootç§»æ¤"><a href="#ğŸš€-ubootç§»æ¤" class="headerlink" title="ğŸš€ ubootç§»æ¤"></a>ğŸš€ ubootç§»æ¤</h2><p>CocoPI-Zero ä½¿ç”¨çš„èŠ¯ç‰‡å’Œ licheePI-nano ç›¸åŒï¼Œå¤§éƒ¨åˆ†ç¡¬ä»¶ä¹Ÿæ˜¯å…¼å®¹çš„ã€‚å› æ­¤ä¸ºäº†ç®€åŒ–ç§»æ¤è¿‡ç¨‹ï¼Œå¿«é€Ÿç§»æ¤è¯¥éƒ¨åˆ†ï¼Œè¿™é‡Œé‡‡ç”¨ licheePI nano çš„ u-boot æ¥è¿›è¡Œç§»æ¤ã€‚  </p>]]></content>
      
      
      <categories>
          
          <category> CocoPI-Zero </category>
          
      </categories>
      
      
        <tags>
            
            <tag> uboot </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è…¾è®¯äº‘éƒ¨ç½²hexoåšå®¢</title>
      <link href="/2022/05/12/%E7%AC%94%E8%AE%B0/%E8%85%BE%E8%AE%AF%E4%BA%91%E9%83%A8%E7%BD%B2hexo%E5%8D%9A%E5%AE%A2/"/>
      <url>/2022/05/12/%E7%AC%94%E8%AE%B0/%E8%85%BE%E8%AE%AF%E4%BA%91%E9%83%A8%E7%BD%B2hexo%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡åŸºäºå·²ç»æ­å»ºå¥½çš„ hexo åšå®¢ï¼Œä¸å†è®²è§£ hexo åšå®¢çš„æ­å»ºã€‚</p><h2 id="ğŸš€-å‚è€ƒèµ„æ–™"><a href="#ğŸš€-å‚è€ƒèµ„æ–™" class="headerlink" title="ğŸš€ å‚è€ƒèµ„æ–™"></a>ğŸš€ å‚è€ƒèµ„æ–™</h2><p>è…¾è®¯äº‘å®˜æ–¹éƒ¨ç½²æ•™ç¨‹ï¼š<a href="https://cloud.tencent.com/document/product/1154/40217">https://cloud.tencent.com/document/product/1154/40217</a></p><p>Bç«™è§†é¢‘æ•™ç¨‹ï¼š<a href="https://www.bilibili.com/video/BV1tY411c7Y6?spm_id_from=333.880.my_history.page.click">https://www.bilibili.com/video/BV1tY411c7Y6?spm_id_from=333.880.my_history.page.click</a></p><h2 id="ğŸš€-éƒ¨ç½²æ­¥éª¤"><a href="#ğŸš€-éƒ¨ç½²æ­¥éª¤" class="headerlink" title="ğŸš€ éƒ¨ç½²æ­¥éª¤"></a>ğŸš€ éƒ¨ç½²æ­¥éª¤</h2><h3 id="âœˆ-å®‰è£…-Serverless-Framework"><a href="#âœˆ-å®‰è£…-Serverless-Framework" class="headerlink" title="âœˆ å®‰è£… Serverless Framework"></a>âœˆ å®‰è£… Serverless Framework</h3><p>ä½¿ç”¨ npm å®‰è£…å‰ï¼Œéœ€è¦ç¡®ä¿æ‚¨çš„ç¯å¢ƒä¸­å·²å®‰è£…å¥½äº† Nodeï¼ˆ<strong>ç‰ˆæœ¬éœ€è¦ &gt; 12</strong>ï¼‰ä»¥åŠ npmï¼ˆæŸ¥çœ‹ <a href="https://nodejs.org/zh-cn/download/">Node.js å®‰è£…æŒ‡å—</a>ï¼‰ã€‚</p><p>å¯ä½¿ç”¨ <code>node -v</code> å’Œ <code>npm -v</code> æŸ¥çœ‹å®ƒä»¬çš„ç‰ˆæœ¬ã€‚</p><p>ä¸ºä¿è¯å®‰è£…é€Ÿåº¦å’Œç¨³å®šæ€§ï¼Œå¯ä»¥ä½¿ç”¨ cnpm ä»£æ›¿ npm å®Œæˆå®‰è£…ã€‚</p><p>å®‰è£… cnpm</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm -registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæ¯•åï¼Œå¯é€šè¿‡è¿è¡Œ<code>cnpm -v</code>å‘½ä»¤ï¼ŒæŸ¥çœ‹ cnpm çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚</p><p>Serverless å®‰è£…å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i -g serverless-cloud-framework</span><br></pre></td></tr></table></figure><p>å¦‚æœä¹‹å‰å·²ç»å®‰è£…è¿‡ Serverless Frameworkï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å‡çº§åˆ°æœ€æ–°ç‰ˆã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm update -g serverless-cloud-framework</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæ¯•åï¼Œå¯é€šè¿‡è¿è¡Œ<code>scf -v</code>å‘½ä»¤ï¼ŒæŸ¥çœ‹ Serverless Framework çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚</p><h3 id="âœˆ-Serverlessé…ç½®"><a href="#âœˆ-Serverlessé…ç½®" class="headerlink" title="âœˆ Serverlessé…ç½®"></a>âœˆ Serverlessé…ç½®</h3><p>åœ¨ hexo ç›®å½•ä¸‹ï¼Œåˆ›å»º<code>serverless.yml</code>æ–‡ä»¶ã€‚</p><p>å†™å…¥ä»¥ä¸‹é…ç½®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># serverless.yml</span></span><br><span class="line"></span><br><span class="line">component: website <span class="comment"># (å¿…å¡«) å¼•ç”¨ component çš„åç§°ï¼Œå½“å‰ç”¨åˆ°çš„æ˜¯ tencent-website ç»„ä»¶</span></span><br><span class="line">name: hexodemo <span class="comment"># (å¿…å¡«) è¯¥ website ç»„ä»¶åˆ›å»ºçš„å®ä¾‹åç§°</span></span><br><span class="line"></span><br><span class="line">app: Linkk<span class="string">&#x27;s Blog # (å¯é€‰) è¯¥ website åº”ç”¨åç§°</span></span><br><span class="line"><span class="string">stage: dev # (å¯é€‰) ç”¨äºåŒºåˆ†ç¯å¢ƒä¿¡æ¯ï¼Œé»˜è®¤å€¼æ˜¯ dev</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">inputs:</span></span><br><span class="line"><span class="string">  src:</span></span><br><span class="line"><span class="string">    src: ./public # Upload static files generated by HEXO</span></span><br><span class="line"><span class="string">    index: index.html</span></span><br><span class="line"><span class="string">    # dist: ./dist</span></span><br><span class="line"><span class="string">    # hook: npm run build</span></span><br><span class="line"><span class="string">    # websitePath: ./</span></span><br><span class="line"><span class="string">  region: ap-singapore# æ–°åŠ å¡ä¸éœ€è¦è¯ä¹¦</span></span><br><span class="line"><span class="string">  bucketName: linkk-bucket# å…¨éƒ¨è¦å°å†™</span></span><br><span class="line"><span class="string">  protocol: https</span></span><br></pre></td></tr></table></figure><h3 id="âœˆ-å¼€å§‹éƒ¨ç½²"><a href="#âœˆ-å¼€å§‹éƒ¨ç½²" class="headerlink" title="âœˆ å¼€å§‹éƒ¨ç½²"></a>âœˆ å¼€å§‹éƒ¨ç½²</h3><p>éƒ¨ç½²å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scf deploy --debug</span><br></pre></td></tr></table></figure><p>å¦‚æœå¸Œæœ›æ›´æ–° Hexo ç«™ç‚¹ä¸­çš„æ–‡ç« ï¼Œéœ€è¦åœ¨æœ¬åœ°é‡æ–°è¿è¡Œ<code>hexo g</code>è¿›è¡Œç”Ÿæˆé™æ€é¡µé¢ï¼Œå†è¿è¡Œ<code>sls deploy</code>æ›´æ–°åˆ°é¡µé¢ã€‚</p><h3 id="âœˆ-ç§»é™¤éƒ¨ç½²"><a href="#âœˆ-ç§»é™¤éƒ¨ç½²" class="headerlink" title="âœˆ ç§»é™¤éƒ¨ç½²"></a>âœˆ ç§»é™¤éƒ¨ç½²</h3><p>ç§»é™¤éƒ¨ç½²çš„å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scf remove --debug</span><br></pre></td></tr></table></figure><h3 id="âœˆ-è´¦å·é…ç½®"><a href="#âœˆ-è´¦å·é…ç½®" class="headerlink" title="âœˆ è´¦å·é…ç½®"></a>âœˆ è´¦å·é…ç½®</h3><p>å½“å‰é»˜è®¤æ”¯æŒ CLI æ‰«æäºŒç»´ç ç™»å½•ï¼Œå¦‚è¿‡å¸Œæœ›é…ç½®æŒä¹…çš„ç¯å¢ƒå˜é‡/å¯†é’¥ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥æœ¬åœ°åˆ›å»º <code>.env</code> æ–‡ä»¶ã€‚</p><p>ç„¶ååœ¨ .env æ–‡ä»¶ä¸­å¡«å…¥è…¾è®¯äº‘çš„ ID å’Œ KEYã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># .env</span></span><br><span class="line">TENCENT_SECRET_ID=123</span><br><span class="line">TENCENT_SECRET_KEY=123</span><br></pre></td></tr></table></figure><p>å¦‚æœå·²æœ‰è…¾è®¯äº‘è´¦å·ï¼Œå¯ä»¥åœ¨ <a href="https://console.cloud.tencent.com/cam/capi">API å¯†é’¥ç®¡ç†</a> ä¸­è·å– SecretId å’Œ SecretKeyã€‚</p><p>ä¹Ÿå¯ä»¥åœ¨æ‰«ç ç™»é™†ä¹‹åï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆå…¨å±€ç”¨æˆ·é…ç½®ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scf credentials</span><br></pre></td></tr></table></figure><h2 id="ğŸš€-åŸŸåè§£æ"><a href="#ğŸš€-åŸŸåè§£æ" class="headerlink" title="ğŸš€ åŸŸåè§£æ"></a>ğŸš€ åŸŸåè§£æ</h2><h3 id="âœˆ-å¯¹è±¡å­˜å‚¨è®¾ç½®"><a href="#âœˆ-å¯¹è±¡å­˜å‚¨è®¾ç½®" class="headerlink" title="âœˆ å¯¹è±¡å­˜å‚¨è®¾ç½®"></a>âœˆ å¯¹è±¡å­˜å‚¨è®¾ç½®</h3><p>è¿›å…¥è…¾è®¯äº‘æ§åˆ¶å°ï¼Œå¯¹è±¡å­˜å‚¨ï¼Œç„¶åæ‰¾åˆ°å¹¶è¿›å…¥å­˜å‚¨æ¡¶åˆ—è¡¨ã€‚</p><p><img src="../../images/è…¾è®¯äº‘éƒ¨ç½²hexoåšå®¢/image-20220513141911670.png" alt="è¿›å…¥å­˜å‚¨æ¡¶åˆ—è¡¨"></p><p>é€‰æ‹©éœ€è¦è‡ªå®šä¹‰åŸŸåçš„å­˜å‚¨æ¡¶è¿›å…¥ï¼Œæ·»åŠ åŸŸåå’Œè¯ä¹¦ï¼Œä¸€èˆ¬ç”Ÿæ•ˆæ—¶é—´åœ¨1å°æ—¶å·¦å³ã€‚</p><p><img src="../../images/è…¾è®¯äº‘éƒ¨ç½²hexoåšå®¢/202205270133858.png" alt="ç»‘å®šåŸŸåå’Œè¯ä¹¦"></p><h3 id="âœˆ-DNSè§£æ"><a href="#âœˆ-DNSè§£æ" class="headerlink" title="âœˆ DNSè§£æ"></a>âœˆ DNSè§£æ</h3><p>è¿›å…¥è…¾è®¯äº‘æ§åˆ¶å°ï¼Œæœç´¢DNSè§£æï¼Œç„¶åè¿›è¡Œä¸‹å›¾çš„é…ç½®ã€‚</p><p><img src="../../images/è…¾è®¯äº‘éƒ¨ç½²hexoåšå®¢/image-20220513141451488.png" alt="DNSè§£æ"></p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Platformè®¾å¤‡é©±åŠ¨</title>
      <link href="/2022/05/12/Linux/Platform%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8/"/>
      <url>/2022/05/12/Linux/Platform%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸš€-Platformè®¾å¤‡é©±åŠ¨ç®€ä»‹"><a href="#ğŸš€-Platformè®¾å¤‡é©±åŠ¨ç®€ä»‹" class="headerlink" title="ğŸš€ Platformè®¾å¤‡é©±åŠ¨ç®€ä»‹"></a>ğŸš€ Platformè®¾å¤‡é©±åŠ¨ç®€ä»‹</h2><p>å¾ˆå¤šè®¾å¤‡è™½ç„¶ç”¨é€”ä¸åŒï¼Œä½†å…¶æ¥å£å®šä¹‰éƒ½æ˜¯ä¸€æ ·çš„ ï¼Œå› æ­¤å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¸éœ€è¦å»ä¸ºæ¯ä¸ªè®¾å¤‡éƒ½å†™ä¸€ä¸ªé©±åŠ¨ ã€‚</p><p>å› æ­¤ Linux 2.6  åŠä»¥åçš„å†…æ ¸ä¸­è™šæ‹Ÿå‡ºæ¥çš„ä¸€æ¡æ€»çº¿ ï¼Œå³ platform æ€»çº¿ã€‚</p><p>å¹³å°æ€»çº¿æ¨¡å‹å°†è®¾å¤‡ä»£ç å’Œé©±åŠ¨ä»£ç åˆ†ç¦»ï¼Œ å°†å’Œç¡¬ä»¶è®¾å¤‡ç›¸å…³çš„éƒ½æ”¾åˆ° device.c æ–‡ä»¶é‡Œé¢ï¼Œé©±åŠ¨éƒ¨åˆ†ä»£ç éƒ½æ”¾åˆ° driver.c æ–‡ä»¶é‡Œé¢ã€‚ </p><p> è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œ å®ç°äº†æ­¤ç±»è®¾å¤‡å’Œé©±åŠ¨çš„åˆ†ç¦»ï¼Œ å¢å¼ºè®¾å¤‡é©±åŠ¨çš„å¯ç§»æ¤æ€§ã€‚</p><h2 id="ğŸš€-Platform-è®¾å¤‡"><a href="#ğŸš€-Platform-è®¾å¤‡" class="headerlink" title="ğŸš€ Platform è®¾å¤‡"></a>ğŸš€ Platform è®¾å¤‡</h2><h3 id="âœˆ-platform-device-ç»“æ„ä½“"><a href="#âœˆ-platform-device-ç»“æ„ä½“" class="headerlink" title="âœˆ platform_device ç»“æ„ä½“"></a>âœˆ platform_device ç»“æ„ä½“</h3><p>åœ¨ platform å¹³å°ä¸‹ç”¨ platform_device è¿™ä¸ªç»“æ„ä½“è¡¨ç¤º platform è®¾å¤‡ã€‚</p><p>å¦‚æœå†…æ ¸æ”¯æŒè®¾å¤‡æ ‘çš„è¯å°±ä¸ç”¨ä½¿ç”¨ platform_device æ¥æè¿°è®¾å¤‡äº†ï¼Œ å› ä¸ºæ”¹ç”¨è®¾å¤‡æ ‘å»æè¿°äº† platform_deviceã€‚ </p><p>å…·ä½“å®šä¹‰åœ¨å†…æ ¸æºç  <code>/include/linux/platform_device.h</code> é‡Œé¢ï¼Œ ç»“æ„ä½“å†…å®¹å¦‚ä¸‹ï¼š  </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">platform_device</span> &#123;</span></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *name;<span class="comment">// platform è®¾å¤‡çš„åå­—ï¼Œ ç”¨æ¥å’Œ platform é©±åŠ¨ç›¸åŒ¹é…ã€‚ åå­—ç›¸åŒæ‰èƒ½åŒ¹é…æˆåŠŸã€‚</span></span><br><span class="line">    <span class="type">int</span> id;<span class="comment">// ç”¨æ¥åŒºåˆ†åå­—ç›¸åŒçš„è®¾å¤‡ï¼Œä¸€èˆ¬ä¸º-1</span></span><br><span class="line">    <span class="type">bool</span> id_auto;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">device</span> <span class="title">dev</span>;</span><span class="comment">// å†…ç½®çš„ device ç»“æ„ä½“</span></span><br><span class="line">    u32 num_resources;<span class="comment">// èµ„æºç»“æ„ä½“æ•°é‡ï¼Œå¯ç”¨ ARRAY_SIZE å‡½æ•°æ¥è·å–</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">resource</span> *<span class="title">resource</span>;</span><span class="comment">// æŒ‡å‘ä¸€ä¸ªèµ„æºç»“æ„ä½“æ•°ç»„ã€‚ ä¸€èˆ¬åŒ…å«è®¾å¤‡ä¿¡æ¯ã€‚ </span></span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">platform_device_id</span> *<span class="title">id_entry</span>;</span><span class="comment">// ç”¨æ¥è¿›è¡Œä¸è®¾å¤‡é©±åŠ¨åŒ¹é…ç”¨çš„ id_table è¡¨</span></span><br><span class="line">    <span class="type">char</span> *driver_override; <span class="comment">/* Driver name to force a match */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* MFD cell pointer */</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">mfd_cell</span> *<span class="title">mfd_cell</span>;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* arch specific additions */</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">pdev_archdata</span> <span class="title">archdata</span>;</span><span class="comment">// æ·»åŠ è‡ªå·±çš„ç§æœ‰æ•°æ®ã€‚</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="âœˆ-resource-ç»“æ„ä½“"><a href="#âœˆ-resource-ç»“æ„ä½“" class="headerlink" title="âœˆ resource ç»“æ„ä½“"></a>âœˆ resource ç»“æ„ä½“</h3><p>resource ç»“æ„ä½“å†…å®¹å¦‚ä¸‹ï¼š  </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">resource</span> &#123;</span></span><br><span class="line">    <span class="type">resource_size_t</span> start;<span class="comment">// èµ„æºçš„èµ·å§‹ä¿¡æ¯</span></span><br><span class="line">    <span class="type">resource_size_t</span> end;<span class="comment">// èµ„æºçš„ç»ˆæ­¢ä¿¡æ¯</span></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *name;<span class="comment">// èµ„æºåå­— </span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">long</span> flags;<span class="comment">// èµ„æºç±»å‹</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">resource</span> *<span class="title">parent</span>, *<span class="title">sibling</span>, *<span class="title">child</span>;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¯é€‰çš„èµ„æºç±»å‹éƒ½å®šä¹‰åœ¨äº†æ–‡ä»¶ <code>include/linux/ioport.h</code> é‡Œé¢ï¼Œ å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> IORESOURCE_BITS 0x000000ff <span class="comment">/* Bus-specific bits */</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> IORESOURCE_TYPE_BITS 0x00001f00 <span class="comment">/* Resource type */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> IORESOURCE_IO 0x00000100 <span class="comment">/* PCI/ISA I/O ports */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> IORESOURCE_MEM 0x00000200</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> IORESOURCE_REG 0x00000300 <span class="comment">/* Register offsets */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> IORESOURCE_IRQ 0x00000400</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> IORESOURCE_DMA 0x00000800</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> IORESOURCE_BUS 0x00001000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* PCI control bits. Shares IORESOURCE_BITS with above PCI ROM. */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> IORESOURCE_PCI_FIXED (1&lt;&lt;4) <span class="comment">/* Do not move resource */</span></span></span><br></pre></td></tr></table></figure><h3 id="âœˆ-platform-device-ç¨‹åºæ¡†æ¶"><a href="#âœˆ-platform-device-ç¨‹åºæ¡†æ¶" class="headerlink" title="âœˆ platform_device ç¨‹åºæ¡†æ¶"></a>âœˆ platform_device ç¨‹åºæ¡†æ¶</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/init.h&gt;</span>             <span class="comment">// åˆå§‹åŒ–å¤´æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/module.h&gt;</span>           <span class="comment">// æœ€åŸºæœ¬çš„æ–‡ä»¶ï¼Œ æ”¯æŒåŠ¨æ€æ·»åŠ å’Œå¸è½½æ¨¡å—ã€‚</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/platform_device.h&gt;</span>  <span class="comment">// å¹³å°è®¾å¤‡æ‰€éœ€è¦çš„å¤´æ–‡ä»¶</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/******************************************************************************</span></span><br><span class="line"><span class="comment">* @åŠŸèƒ½: é‡Šæ”¾ flatform è®¾å¤‡æ¨¡å—çš„æ—¶å€™æ­¤å‡½æ•°ä¼šæ‰§è¡Œ</span></span><br><span class="line"><span class="comment">* @å‚æ•° dev: è¦é‡Šæ”¾çš„è®¾å¤‡</span></span><br><span class="line"><span class="comment">******************************************************************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">device_release</span><span class="params">(<span class="keyword">struct</span> device *dev)</span></span><br><span class="line">&#123;</span><br><span class="line">    printk(<span class="string">&quot;device_release \n&quot;</span>);</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾å¤‡èµ„æºä¿¡æ¯</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">resource</span> <span class="title">device_res</span>[] =</span> &#123;</span><br><span class="line">    [<span class="number">0</span>] = &#123;</span><br><span class="line">        .start  = <span class="number">0x020AC000</span>,    </span><br><span class="line">        .end    = <span class="number">0x020AC003</span>,</span><br><span class="line">        .flags  = IORESOURCE_MEM,</span><br><span class="line">        .name   = <span class="string">&quot;GPIO5_DR&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// platform è®¾å¤‡ç»“æ„ä½“</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">platform_device</span> <span class="title">platform_device</span> =</span> &#123;</span><br><span class="line">    .name = <span class="string">&quot;platform_test&quot;</span>,</span><br><span class="line">    .id = <span class="number">-1</span>,</span><br><span class="line">    .resource = device_res,</span><br><span class="line">    .num_resources = ARRAY_SIZE(device_res),</span><br><span class="line">    .dev = &#123;</span><br><span class="line">        .release = device_release</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">device_init</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// è®¾å¤‡ä¿¡æ¯æ³¨å†Œåˆ° Linux å†…æ ¸</span></span><br><span class="line">    platform_device_register(&amp;platform_device);</span><br><span class="line">    printk(<span class="string">&quot;platform_device_register ok \n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">device_exit</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// è®¾å¤‡ä¿¡æ¯å¸è½½</span></span><br><span class="line">    platform_device_unregister(&amp;platform_device);</span><br><span class="line">    printk(<span class="string">&quot;gooodbye! \n&quot;</span>);</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">module_init(device_init);</span><br><span class="line">module_exit(device_exit);</span><br><span class="line">MODULE_LICENSE(<span class="string">&quot;GPL&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ğŸš€-Platform-é©±åŠ¨"><a href="#ğŸš€-Platform-é©±åŠ¨" class="headerlink" title="ğŸš€ Platform é©±åŠ¨"></a>ğŸš€ Platform é©±åŠ¨</h2><h3 id="âœˆ-platform-driver-ç»“æ„ä½“"><a href="#âœˆ-platform-driver-ç»“æ„ä½“" class="headerlink" title="âœˆ platform_driver ç»“æ„ä½“"></a>âœˆ platform_driver ç»“æ„ä½“</h3><p>åœ¨ Linux å†…æ ¸ä¸­ï¼Œ ç”¨ platform_driver ç»“æ„ä½“è¡¨ç¤º platform é©±åŠ¨ ã€‚</p><p>æ­¤ç»“æ„ä½“å®šä¹‰åœ¨æ–‡ä»¶ <code>include/linux/platform_device.h</code> ä¸­ï¼Œ å†…å®¹å¦‚ä¸‹ï¼š  </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">platform_driver</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> (*probe)(<span class="keyword">struct</span> platform_device *);<span class="comment">// å½“ driver å’Œ device åŒ¹é…æˆåŠŸçš„æ—¶å€™ï¼Œ å°±ä¼šæ‰§è¡Œ probe å‡½æ•°</span></span><br><span class="line">    <span class="type">int</span> (*remove)(<span class="keyword">struct</span> platform_device *);<span class="comment">// å½“ driver å’Œ device ä»»æ„ä¸€ä¸ª remove çš„æ—¶å€™ï¼Œ å°±ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•°</span></span><br><span class="line">    <span class="type">void</span> (*shutdown)(<span class="keyword">struct</span> platform_device *);<span class="comment">// å½“è®¾å¤‡æ”¶åˆ° shutdown å‘½ä»¤çš„æ—¶å€™ï¼Œ å°±ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•°</span></span><br><span class="line">    <span class="type">int</span> (*suspend)(<span class="keyword">struct</span> platform_device *, <span class="type">pm_message_t</span> state); <span class="comment">//å½“è®¾å¤‡æ”¶åˆ° suspend å‘½ä»¤çš„æ—¶å€™ï¼Œ å°±ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•°</span></span><br><span class="line">    <span class="type">int</span> (*resume)(<span class="keyword">struct</span> platform_device *);<span class="comment">// å½“è®¾å¤‡æ”¶åˆ° resume å‘½ä»¤çš„æ—¶å€™ï¼Œ å°±ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•°</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">device_driver</span> <span class="title">driver</span>;</span><span class="comment">// å†…ç½®çš„ device_driver ç»“æ„ä½“</span></span><br><span class="line">    <span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">platform_device_id</span> *<span class="title">id_table</span>;</span><span class="comment">// è¯¥è®¾å¤‡é©±åŠ¨æ”¯æŒçš„è®¾å¤‡çš„åˆ—è¡¨ ä»–æ˜¯é€šè¿‡è¿™ä¸ªæŒ‡é’ˆå»æŒ‡å‘ platform_device_id ç±»å‹çš„æ•°ç»„</span></span><br><span class="line">    <span class="type">bool</span> prevent_deferred_probe;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="âœˆ-device-driver-ç»“æ„ä½“"><a href="#âœˆ-device-driver-ç»“æ„ä½“" class="headerlink" title="âœˆ device_driver ç»“æ„ä½“"></a>âœˆ device_driver ç»“æ„ä½“</h3><p>device_driver ç»“æ„ä½“å®šä¹‰åœ¨ <code>include/linux/device.h</code>ï¼Œ device_driver ç»“æ„ä½“å†…å®¹å¦‚ä¸‹ï¼š  </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">device_driver</span> &#123;</span></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *name;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">bus_type</span> *<span class="title">bus</span>;</span></span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">module</span> *<span class="title">owner</span>;</span></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *mod_name; <span class="comment">/* used for built-in modules */</span></span><br><span class="line"></span><br><span class="line">    <span class="type">bool</span> suppress_bind_attrs; <span class="comment">/* disables bind/unbind via sysfs */</span></span><br><span class="line">    <span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">of_device_id</span> *<span class="title">of_match_table</span>;</span><span class="comment">// é‡‡ç”¨è®¾å¤‡æ ‘çš„æ—¶å€™é©±åŠ¨ä½¿ç”¨çš„åŒ¹é…è¡¨</span></span><br><span class="line">    <span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">acpi_device_id</span> *<span class="title">acpi_match_table</span>;</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> (*probe) (<span class="keyword">struct</span> device *dev);</span><br><span class="line">    <span class="type">int</span> (*remove) (<span class="keyword">struct</span> device *dev);</span><br><span class="line">    <span class="type">void</span> (*shutdown) (<span class="keyword">struct</span> device *dev);</span><br><span class="line">    <span class="type">int</span> (*suspend) (<span class="keyword">struct</span> device *dev, <span class="type">pm_message_t</span> state);</span><br><span class="line">    <span class="type">int</span> (*resume) (<span class="keyword">struct</span> device *dev);</span><br><span class="line">    <span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">attribute_group</span> **<span class="title">groups</span>;</span></span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">dev_pm_ops</span> *<span class="title">pm</span>;</span></span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">driver_private</span> *<span class="title">p</span>;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="âœˆ-platform-driver-ç¨‹åºæ¡†æ¶"><a href="#âœˆ-platform-driver-ç¨‹åºæ¡†æ¶" class="headerlink" title="âœˆ platform_driver ç¨‹åºæ¡†æ¶"></a>âœˆ platform_driver ç¨‹åºæ¡†æ¶</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/init.h&gt;</span> <span class="comment">//åˆå§‹åŒ–å¤´æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/module.h&gt;</span> <span class="comment">//æœ€åŸºæœ¬çš„æ–‡ä»¶ï¼Œ æ”¯æŒåŠ¨æ€æ·»åŠ å’Œå¸è½½æ¨¡å—ã€‚</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/platform_device.h&gt;</span> <span class="comment">//å¹³å°è®¾å¤‡æ‰€éœ€è¦çš„å¤´æ–‡ä»¶</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// é©±åŠ¨å’Œè®¾å¤‡åŒ¹é…æˆåŠŸä¼šè¿›å…¥æ­¤å‡½æ•°</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">driver_probe</span><span class="params">(<span class="keyword">struct</span> platform_device *pdev)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">resource</span> *<span class="title">res</span>;</span></span><br><span class="line"></span><br><span class="line">    printk(<span class="string">&quot;driver_probe\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*è·å–èµ„æºæ–¹æ³•ä¸€ï¼š ä¸æ¨è*/</span></span><br><span class="line">    printk(<span class="string">&quot;beep_res is %s\n&quot;</span>, pdev-&gt;resource[<span class="number">0</span>].name);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*è·å–èµ„æºæ–¹æ³•äºŒï¼š æ¨è*/</span></span><br><span class="line">    res = platform_get_resource(pdev, IORESOURCE_MEM, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span> (res == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        printk(<span class="string">&quot;platform_get_resource is error\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> -EBUSY;</span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ‰“å°è·å–çš„å¯„å­˜å™¨åœ°å€å’Œé•¿åº¦</span></span><br><span class="line">    printk(<span class="string">&quot;beep_res start is 0x%x \n&quot;</span>, res-&gt;start);</span><br><span class="line">    printk(<span class="string">&quot;beep_res end is 0x%x \n&quot;</span>, res-&gt;end);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“ driver å’Œ device ä»»æ„ä¸€ä¸ª remove çš„æ—¶å€™ï¼Œ å°±ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•°</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">driver_remove</span><span class="params">(<span class="keyword">struct</span> platform_device *pdev)</span></span><br><span class="line">&#123;</span><br><span class="line">    printk(<span class="string">&quot;driver_remove\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">// platform é©±åŠ¨ç»“æ„ä½“</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">platform_driver</span> <span class="title">platform_driver</span> =</span> &#123;</span><br><span class="line">    .probe = driver_probe,</span><br><span class="line">    .remove = driver_remove,</span><br><span class="line">    .driver = &#123;</span><br><span class="line">        .owner = THIS_MODULE,</span><br><span class="line">        .name = <span class="string">&quot;platform_test&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">platform_driver_init</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// platform é©±åŠ¨æ³¨å†Œåˆ° Linux å†…æ ¸</span></span><br><span class="line">    ret = platform_driver_register(&amp;platform_driver); <span class="comment">//æ³¨å†Œå¹³å°é©±åŠ¨å‡½æ•°</span></span><br><span class="line">    <span class="keyword">if</span> (ret &lt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        printk(<span class="string">&quot;platform_driver_register error \n&quot;</span>);</span><br><span class="line">    &#125; </span><br><span class="line">    printk(<span class="string">&quot;platform_driver_register ok \n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">platform_driver_exit</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// platform é©±åŠ¨å¸è½½</span></span><br><span class="line">    platform_driver_unregister(&amp;platform_driver);</span><br><span class="line">    printk(<span class="string">&quot;gooodbye! \n&quot;</span>);</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">module_init(platform_driver_init);</span><br><span class="line">module_exit(platform_driver_exit);</span><br><span class="line">MODULE_LICENSE(<span class="string">&quot;GPL&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‚é¡¹è®¾å¤‡é©±åŠ¨ç‚¹ç¯</title>
      <link href="/2022/05/08/CocoPI-Zero/%E6%9D%82%E9%A1%B9%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8%E7%82%B9%E7%81%AF/"/>
      <url>/2022/05/08/CocoPI-Zero/%E6%9D%82%E9%A1%B9%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8%E7%82%B9%E7%81%AF/</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸš€-é©±åŠ¨ç¨‹åº"><a href="#ğŸš€-é©±åŠ¨ç¨‹åº" class="headerlink" title="ğŸš€ é©±åŠ¨ç¨‹åº"></a>ğŸš€ é©±åŠ¨ç¨‹åº</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/init.h&gt;</span>         <span class="comment">// åŒ…å«åˆå§‹åŒ–å®å®šä¹‰çš„å¤´æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/module.h&gt;</span>       <span class="comment">// åŒ…å«åˆå§‹åŒ–åŠ è½½æ¨¡å—çš„å¤´æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/miscdevice.h&gt;</span>   <span class="comment">// æ‚é¡¹è®¾å¤‡é©±åŠ¨ç›¸å…³çš„å¤´æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/fs.h&gt;</span>           <span class="comment">// åŒ…å«æ–‡ä»¶æ“ä½œé›†å®šä¹‰çš„å¤´æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/io.h&gt;</span>             <span class="comment">//å«æœ‰ ioremap å‡½æ•° iounmap å‡½æ•°</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/uaccess.h&gt;</span>        <span class="comment">//å«æœ‰ copy_from_user å‡½æ•°å’Œå«æœ‰ copy_to_user å‡½æ•°</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> GPIOE_CFG0 (0x01C20890)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> GPIOE_CFG1 (0x01C20894)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> GPIOE_DATA (0x01C208A0)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> GPIOE_PUL0 (0x01C208AC)</span></span><br><span class="line"></span><br><span class="line"><span class="type">size_t</span> *gpioe_cfg0; <span class="comment">//å­˜å‚¨è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€æ˜ å°„</span></span><br><span class="line"><span class="type">size_t</span> *gpioe_cfg1; <span class="comment">//å­˜å‚¨è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€æ˜ å°„</span></span><br><span class="line"><span class="type">size_t</span> *gpioe_data; <span class="comment">//å­˜å‚¨è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€æ˜ å°„</span></span><br><span class="line"><span class="type">size_t</span> *gpioe_pul0; <span class="comment">//å­˜å‚¨è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€æ˜ å°„</span></span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">led_open</span><span class="params">(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> file *file)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* GPIOE é…ç½® */</span></span><br><span class="line">    *((<span class="keyword">volatile</span> <span class="type">size_t</span>*)gpioe_cfg0) &amp;= ~(<span class="number">7</span>&lt;&lt;<span class="number">20</span>);    <span class="comment">//æ¸…é™¤é…ç½®å¯„å­˜å™¨</span></span><br><span class="line">    *((<span class="keyword">volatile</span> <span class="type">size_t</span>*)gpioe_cfg0) |= (<span class="number">1</span>&lt;&lt;<span class="number">20</span>);     <span class="comment">//é…ç½® GPIOE5 ä¸ºè¾“å‡ºæ¨¡å¼</span></span><br><span class="line">    *((<span class="keyword">volatile</span> <span class="type">size_t</span>*)gpioe_pul0) &amp;= ~(<span class="number">3</span>&lt;&lt;<span class="number">10</span>);    <span class="comment">//æ¸…é™¤ä¸Š/ä¸‹æ‹‰å¯„å­˜å™¨</span></span><br><span class="line">    *((<span class="keyword">volatile</span> <span class="type">size_t</span>*)gpioe_pul0) |= (<span class="number">1</span>&lt;&lt;<span class="number">10</span>);     <span class="comment">//é…ç½® GPIOE5 ä¸ºä¸Šæ‹‰æ¨¡å¼</span></span><br><span class="line">    *((<span class="keyword">volatile</span> <span class="type">size_t</span>*)gpioe_data) |= (<span class="number">1</span> &lt;&lt; <span class="number">5</span>);    <span class="comment">//è®¾ç½® GPIOE5 é«˜ç”µå¹³</span></span><br><span class="line"></span><br><span class="line">    printk(KERN_DEBUG<span class="string">&quot;open led!!!\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">led_close</span><span class="params">(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> file *filp)</span></span><br><span class="line">&#123;</span><br><span class="line">    printk(KERN_DEBUG<span class="string">&quot;close led!!!\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">led_read</span><span class="params">(<span class="keyword">struct</span> file *filp, <span class="type">char</span> __user *buff, <span class="type">size_t</span> count, <span class="type">loff_t</span> *offp)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> ret;</span><br><span class="line">    <span class="type">size_t</span> status = ((*((<span class="keyword">volatile</span> <span class="type">size_t</span>*)gpioe_data)) &gt;&gt; <span class="number">5</span>) &amp; <span class="number">0x01</span>;<span class="comment">//è·å– GPIOE5 çŠ¶æ€</span></span><br><span class="line">    ret = copy_to_user(buff, &amp;status, <span class="number">4</span>); <span class="comment">//å°†å†…æ ¸ç©ºé—´æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´ buff</span></span><br><span class="line">    <span class="keyword">if</span>(ret &lt; <span class="number">0</span>)</span><br><span class="line">        printk(KERN_DEBUG<span class="string">&quot;read error!!!\n&quot;</span>); <span class="comment">//è¾“å‡ºä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        printk(KERN_DEBUG<span class="string">&quot;read led ok!!!\n&quot;</span>); <span class="comment">//è¾“å‡ºä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">led_write</span><span class="params">(<span class="keyword">struct</span> file *filp, <span class="type">const</span> <span class="type">char</span> __user *buff, <span class="type">size_t</span> count, <span class="type">loff_t</span> *offp)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> ret;</span><br><span class="line">    <span class="type">size_t</span> status;</span><br><span class="line">    ret = copy_from_user(&amp;status, buff, <span class="number">4</span>); <span class="comment">//å°†ç”¨æˆ·ç©ºé—´æ‹·è´åˆ°å†…æ ¸ç©ºé—´çš„ status</span></span><br><span class="line">    <span class="keyword">if</span>(ret &lt; <span class="number">0</span>)</span><br><span class="line">        printk(KERN_DEBUG<span class="string">&quot;write error!!!\n&quot;</span>); <span class="comment">//è¾“å‡ºä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        printk(KERN_DEBUG<span class="string">&quot;write led ok!!!\n&quot;</span>); <span class="comment">//è¾“å‡ºä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line">    *((<span class="keyword">volatile</span> <span class="type">size_t</span>*)gpioe_data) &amp;= ~(<span class="number">1</span> &lt;&lt; <span class="number">5</span>) ;<span class="comment">//æ¸…é™¤ GPIOE5 çŠ¶æ€</span></span><br><span class="line">    <span class="keyword">if</span>(status)</span><br><span class="line">    &#123;</span><br><span class="line">        *((<span class="keyword">volatile</span> <span class="type">size_t</span>*)gpioe_data) |= (<span class="number">1</span> &lt;&lt; <span class="number">5</span>);<span class="comment">//è®¾ç½® GPIOE5 çŠ¶æ€ 1</span></span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="class"><span class="keyword">struct</span> <span class="title">file_operations</span> <span class="title">led_ops</span> =</span> &#123;</span><br><span class="line">    .owner  = THIS_MODULE,</span><br><span class="line">    .open   = led_open,</span><br><span class="line">    .read   = led_read,</span><br><span class="line">    .write  = led_write,</span><br><span class="line">    .release = led_close,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">miscdevice</span> <span class="title">led_dev</span> =</span> &#123;</span><br><span class="line">    .minor = MISC_DYNAMIC_MINOR,    <span class="comment">// åŠ¨æ€åˆ†é…æ¬¡è®¾å¤‡å·</span></span><br><span class="line">    .name = <span class="string">&quot;led_misc&quot;</span>,             <span class="comment">// è®¾å¤‡èŠ‚ç‚¹çš„åå­—</span></span><br><span class="line">    .fops = &amp;led_ops,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ¨¡å—çš„å…¥å£ */</span></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">misc_init</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> ret;</span><br><span class="line">    ret = misc_register(&amp;led_dev);  <span class="comment">// æ³¨å†Œæ‚é¡¹è®¾å¤‡</span></span><br><span class="line">    <span class="keyword">if</span> (ret &lt; <span class="number">0</span>) </span><br><span class="line">    &#123;</span><br><span class="line">        printk(<span class="string">&quot;led_dev register is error!&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    printk(<span class="string">&quot;led_dev register is succeed!\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    gpioe_cfg0 = ioremap(GPIOE_CFG0, <span class="number">4</span>); <span class="comment">//å°† GPIOE_CFG0 ç‰©ç†åœ°å€æ˜ å°„ä¸ºè™šæ‹Ÿåœ°å€</span></span><br><span class="line">    gpioe_cfg1 = ioremap(GPIOE_CFG1, <span class="number">4</span>); <span class="comment">//å°† GPIOE_CFG1 ç‰©ç†åœ°å€æ˜ å°„ä¸ºè™šæ‹Ÿåœ°å€</span></span><br><span class="line">    gpioe_data = ioremap(GPIOE_DATA, <span class="number">4</span>); <span class="comment">//å°† GPIOE_DATA ç‰©ç†åœ°å€æ˜ å°„ä¸ºè™šæ‹Ÿåœ°å€</span></span><br><span class="line">    gpioe_pul0 = ioremap(GPIOE_PUL0, <span class="number">4</span>); <span class="comment">//å°† GPIOE_PUL0 ç‰©ç†åœ°å€æ˜ å°„ä¸ºè™šæ‹Ÿåœ°å€</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ¨¡å—çš„å‡ºå£ */</span></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">misc_exit</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    misc_deregister(&amp;led_dev);</span><br><span class="line">    </span><br><span class="line">    iounmap(gpioe_cfg0); <span class="comment">//å–æ¶ˆ GPIOE_CFG0 æ˜ å°„</span></span><br><span class="line">    iounmap(gpioe_cfg1); <span class="comment">//å–æ¶ˆ GPIOE_CFG1 æ˜ å°„</span></span><br><span class="line">    iounmap(gpioe_data); <span class="comment">//å–æ¶ˆ GPIOE_DATA æ˜ å°„</span></span><br><span class="line">    iounmap(gpioe_pul0); <span class="comment">//å–æ¶ˆ GPIOE_PUL0 æ˜ å°„</span></span><br><span class="line">    </span><br><span class="line">    printk(<span class="string">&quot;led_dev deregister!\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å£°æ˜æ¨¡å—çš„å…¥å£å’Œå‡ºå£ */</span></span><br><span class="line">module_init(misc_init);</span><br><span class="line">module_exit(misc_exit);</span><br><span class="line"></span><br><span class="line">MODULE_LICENSE(<span class="string">&quot;GPL&quot;</span>);  <span class="comment">/* å£°æ˜æ¨¡å—çš„å¼€æºè®¸å¯è¯ */</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ğŸš€-åº”ç”¨ç¨‹åº"><a href="#ğŸš€-åº”ç”¨ç¨‹åº" class="headerlink" title="ğŸš€ åº”ç”¨ç¨‹åº"></a>ğŸš€ åº”ç”¨ç¨‹åº</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/stat.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **argv)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> fd;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    <span class="type">char</span> *filename = <span class="literal">NULL</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(argc !=<span class="number">3</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;usage: ./led [device] [on/off]\n&quot;</span>);     <span class="comment">//æ‰“å°ç”¨æ³•</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    filename = argv[<span class="number">1</span>];</span><br><span class="line">    fd = open(filename, O_RDWR);                        <span class="comment">//æ‰“å¼€ dev/è®¾å¤‡æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">if</span> (fd &lt; <span class="number">0</span>)                                         <span class="comment">//å°äº 0 è¯´æ˜æ²¡æœ‰æˆåŠŸ</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;error, can&#x27;t open %s\n&quot;</span>, filename);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">strcmp</span>(argv[<span class="number">2</span>], <span class="string">&quot;on&quot;</span>))                          <span class="comment">//å¦‚æœè¾“å…¥ç­‰äº onï¼Œåˆ™ LED äº®</span></span><br><span class="line">        val = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(!<span class="built_in">strcmp</span>(argv[<span class="number">2</span>], <span class="string">&quot;off&quot;</span>))                    <span class="comment">//å¦‚æœè¾“å…¥ç­‰äº offï¼Œåˆ™ LED ç­</span></span><br><span class="line">        val = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;usage: ./led_dev.exe [device] [on/off]\n&quot;</span>);     <span class="comment">//æ‰“å°ç”¨æ³•</span></span><br><span class="line">        close(fd);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    write(fd, &amp;val, <span class="number">4</span>);     <span class="comment">//æ“ä½œ LED</span></span><br><span class="line">    close(fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ğŸš€-è¸©å‘è®°å½•"><a href="#ğŸš€-è¸©å‘è®°å½•" class="headerlink" title="ğŸš€ è¸©å‘è®°å½•"></a>ğŸš€ è¸©å‘è®°å½•</h2><p>1ã€ç¼–è¯‘åº”ç”¨ç¨‹åºåº”ç”¨æ ¹æ–‡ä»¶ç³»ç»Ÿçš„äº¤å‰å·¥å…·é“¾ <code>arm-linux-gcc</code>ï¼Œ è€Œä¸æ˜¯ <code>arm-linux-gnueabi-gcc</code>ã€‚  ä¸‹é¢æ˜¯æ“ä½œè¿‡ç¨‹ã€‚</p><p>ç¼–è¯‘å®Œæ ¹æ–‡ä»¶ç³»ç»Ÿåï¼Œåœ¨ buildroot çš„ä¸»ç›®å½•ï¼Œè¿›å…¥ output/host/ ç›®å½•ï¼Œæ­¤ç›®å½•ä¸‹å°±æ˜¯ buildroot ç¼–è¯‘æ ¹æ–‡ä»¶ç³»ç»Ÿä¸­å®‰è£…çš„äº¤å‰å·¥å…·é“¾ã€‚æˆ‘ä»¬å¯ä»¥å°†è¯¥äº¤å‰å·¥å…·é“¾å®‰è£…åˆ° usr/local ç›®å½•ä¸‹  ï¼Œå¹¶ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> buildroot-2021.02.4/output/host/</span><br><span class="line">sudo <span class="built_in">mkdir</span> /usr/local/arm-gcc-app/</span><br><span class="line">sudo <span class="built_in">cp</span> -a ./* /usr/local/arm-gcc-app/</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œæ‰“å¼€/etc/profile æ–‡ä»¶ï¼Œåœ¨æœ«å°¾æ·»åŠ è·¯å¾„ï¼š  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/usr/local/arm-gcc-app/bin</span><br></pre></td></tr></table></figure><p>æœ€åé‡å¯ç³»ç»Ÿï¼Œä½¿ç¯å¢ƒå˜é‡æ°¸ä¹…ç”Ÿæ•ˆï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>arm-linux-gcc</code> ç¼–è¯‘Cæ–‡ä»¶äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> CocoPI-Zero </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxæ‚é¡¹è®¾å¤‡é©±åŠ¨</title>
      <link href="/2022/04/07/Linux/Linux%E6%9D%82%E9%A1%B9%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8/"/>
      <url>/2022/04/07/Linux/Linux%E6%9D%82%E9%A1%B9%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸš€-æ‚é¡¹è®¾å¤‡é©±åŠ¨ç®€ä»‹"><a href="#ğŸš€-æ‚é¡¹è®¾å¤‡é©±åŠ¨ç®€ä»‹" class="headerlink" title="ğŸš€ æ‚é¡¹è®¾å¤‡é©±åŠ¨ç®€ä»‹"></a>ğŸš€ æ‚é¡¹è®¾å¤‡é©±åŠ¨ç®€ä»‹</h2><p>æ‚é¡¹è®¾å¤‡æ˜¯å­—ç¬¦è®¾å¤‡çš„ä¸€ç§ï¼Œå®ƒæ¯”å¸¸è§„å­—ç¬¦è®¾å¤‡é©±åŠ¨æ›´åŠ ç®€å•ã€‚</p><p>æ‚é¡¹è®¾å¤‡é©±åŠ¨å¯ä»¥è‡ªåŠ¨ç”Ÿæˆè®¾å¤‡èŠ‚ç‚¹ï¼Œè€Œä¸”æ‰€æœ‰æ‚é¡¹è®¾å¤‡çš„ä¸»è®¾å¤‡å·å‡ä¸º 10ï¼Œå¯ä»¥æœ‰æ•ˆèŠ‚çº¦å†…æ ¸èµ„æºã€‚</p><p>å¯ä»¥ç”¨  <code>cat  /proc/misc</code>   æ¥æŸ¥çœ‹ç³»ç»Ÿå½“å‰çš„æ‚é¡¹è®¾å¤‡ã€‚</p><h2 id="ğŸš€-miscdevice-ç»“æ„ä½“"><a href="#ğŸš€-miscdevice-ç»“æ„ä½“" class="headerlink" title="ğŸš€ miscdevice ç»“æ„ä½“"></a>ğŸš€ miscdevice ç»“æ„ä½“</h2><p>misc è®¾å¤‡ç”¨ miscdevice ç»“æ„ä½“è¡¨ç¤ºï¼Œ miscdevice ç»“æ„ä½“çš„å®šä¹‰åœ¨å†…æ ¸æºç å…·ä½“å®šä¹‰åœ¨ <code>include/linux/miscdevice.h</code> ä¸­ï¼Œ å†…å®¹å¦‚ä¸‹ï¼š  </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸€èˆ¬åªéœ€è¦ç»™ minorã€nameã€fops è¿™ä¸‰ä¸ªæˆå‘˜å˜é‡èµ‹å€¼å³å¯</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">miscdevice</span> &#123;</span></span><br><span class="line"><span class="type">int</span> minor; <span class="comment">//æ¬¡è®¾å¤‡å·</span></span><br><span class="line"><span class="type">const</span> <span class="type">char</span> *name; <span class="comment">//è®¾å¤‡èŠ‚ç‚¹çš„åå­—</span></span><br><span class="line"><span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">file_operations</span> *<span class="title">fops</span>;</span> <span class="comment">//æ–‡ä»¶æ“ä½œé›†</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">list_head</span> <span class="title">list</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">device</span> *<span class="title">parent</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">device</span> *<span class="title">this_device</span>;</span></span><br><span class="line"><span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">attribute_group</span> **<span class="title">groups</span>;</span></span><br><span class="line"><span class="type">const</span> <span class="type">char</span> *nodename;</span><br><span class="line"><span class="type">umode_t</span> mode;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ğŸš€-æ‚é¡¹è®¾å¤‡é©±åŠ¨ç¨‹åºæ¡†æ¶"><a href="#ğŸš€-æ‚é¡¹è®¾å¤‡é©±åŠ¨ç¨‹åºæ¡†æ¶" class="headerlink" title="ğŸš€ æ‚é¡¹è®¾å¤‡é©±åŠ¨ç¨‹åºæ¡†æ¶"></a>ğŸš€ æ‚é¡¹è®¾å¤‡é©±åŠ¨ç¨‹åºæ¡†æ¶</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/init.h&gt;</span>         <span class="comment">// åŒ…å«åˆå§‹åŒ–å®å®šä¹‰çš„å¤´æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/module.h&gt;</span>       <span class="comment">// åŒ…å«åˆå§‹åŒ–åŠ è½½æ¨¡å—çš„å¤´æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/miscdevice.h&gt;</span>   <span class="comment">// æ‚é¡¹è®¾å¤‡é©±åŠ¨ç›¸å…³çš„å¤´æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/fs.h&gt;</span>           <span class="comment">// åŒ…å«æ–‡ä»¶æ“ä½œé›†å®šä¹‰çš„å¤´æ–‡ä»¶</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">file_operations</span> <span class="title">misc_fops</span> =</span> &#123;</span><br><span class="line">    .owner= THIS_MODULE,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">miscdevice</span> <span class="title">misc_dev</span> =</span> &#123;</span><br><span class="line">    .minor = MISC_DYNAMIC_MINOR,    <span class="comment">// åŠ¨æ€åˆ†é…æ¬¡è®¾å¤‡å·</span></span><br><span class="line">    .name = <span class="string">&quot;hello_misc&quot;</span>,           <span class="comment">// è®¾å¤‡èŠ‚ç‚¹çš„åå­—</span></span><br><span class="line">    .fops = &amp;misc_fops,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ¨¡å—çš„å…¥å£ */</span></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">misc_init</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> ret;</span><br><span class="line">    ret = misc_register(&amp;misc_dev);  <span class="comment">// æ³¨å†Œæ‚é¡¹è®¾å¤‡</span></span><br><span class="line">    <span class="keyword">if</span> (ret &lt; <span class="number">0</span>) </span><br><span class="line">    &#123;</span><br><span class="line">        printk(<span class="string">&quot;misc register is error!&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    printk(<span class="string">&quot;misc register is succeed!\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ¨¡å—çš„å‡ºå£ */</span></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">misc_exit</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    misc_deregister(&amp;misc_dev);</span><br><span class="line">    printk(<span class="string">&quot;goodbye!\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å£°æ˜æ¨¡å—çš„å…¥å£å’Œå‡ºå£ */</span></span><br><span class="line">module_init(misc_init);</span><br><span class="line">module_exit(misc_exit);</span><br><span class="line"></span><br><span class="line">MODULE_LICENSE(<span class="string">&quot;GPL&quot;</span>);  <span class="comment">/* å£°æ˜æ¨¡å—çš„å¼€æºè®¸å¯è¯ */</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxå­—ç¬¦é©±åŠ¨</title>
      <link href="/2022/04/05/Linux/linux%E5%AD%97%E7%AC%A6%E9%A9%B1%E5%8A%A8/"/>
      <url>/2022/04/05/Linux/linux%E5%AD%97%E7%AC%A6%E9%A9%B1%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸš€-è®¾å¤‡å·"><a href="#ğŸš€-è®¾å¤‡å·" class="headerlink" title="ğŸš€ è®¾å¤‡å·"></a>ğŸš€ è®¾å¤‡å·</h2><h3 id="âœˆ-è®¾å¤‡å·ç®€è¿°"><a href="#âœˆ-è®¾å¤‡å·ç®€è¿°" class="headerlink" title="âœˆ è®¾å¤‡å·ç®€è¿°"></a>âœˆ è®¾å¤‡å·ç®€è¿°</h3><p>è®¾å¤‡å·ç”±ä¸»è®¾å¤‡å·å’Œ æ¬¡è®¾å¤‡å·æ„æˆã€‚ä¸»è®¾å¤‡å·ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªç‰¹å®šçš„é©±åŠ¨ç¨‹åºã€‚ æ¬¡è®¾å¤‡å·ç”¨æ¥è¡¨ç¤ºä½¿ç”¨è¯¥é©±åŠ¨ç¨‹åºçš„å„ä¸ªè®¾å¤‡ã€‚ Linux æä¾›äº†ä¸€ä¸ªåä¸ºdev_t çš„æ•°æ®ç±»å‹è¡¨ç¤ºè®¾å¤‡å·ï¼Œ dev_t å®šä¹‰åœ¨æ–‡ä»¶ include/linux/types.h é‡Œé¢ï¼Œ å®šä¹‰å¦‚ä¸‹ï¼š  </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> __u32 <span class="type">__kernel_dev_t</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">__kernel_dev_t</span> <span class="type">dev_t</span></span><br></pre></td></tr></table></figure><p>ç”± dev_t ç±»å‹çš„å®šä¹‰å¯çŸ¥ï¼Œè®¾å¤‡å·æ˜¯ä¸€ä¸ª32ä½çš„å˜é‡ï¼Œ å…¶ä¸­ å‰12 ä½ç”¨æ¥è¡¨ç¤ºä¸»è®¾å¤‡å·ï¼ˆ0-4095 ï¼‰ï¼Œ å20 ä½ç”¨æ¥è¡¨ç¤ºæ¬¡è®¾å¤‡å·ã€‚   </p><p>Linux æä¾›äº†å‡ ä¸ªå®å®šä¹‰æ¥æ“ä½œè®¾å¤‡å·ï¼š  </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MINORBITS20 <span class="comment">//æ¬¡è®¾å¤‡å·çš„ä½æ•°ï¼Œ ä¸€å…±æ˜¯ 20 ä½</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MINORMASK ((1U &lt;&lt; MINORBITS) - 1) <span class="comment">//æ¬¡è®¾å¤‡å·çš„æ©ç </span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAJOR(dev) ((unsigned int) ((dev) &gt;&gt; MINORBITS)) <span class="comment">//åœ¨ dev_t é‡Œé¢è·å–æˆ‘ä»¬çš„ä¸»è®¾å¤‡å·</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MINOR(dev) ((unsigned int) ((dev) &amp; MINORMASK)) <span class="comment">//åœ¨ dev_t é‡Œé¢è·å–æˆ‘ä»¬çš„æ¬¡è®¾å¤‡å·</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MKDEV(ma,mi) (((ma) &lt;&lt; MINORBITS) | (mi)) <span class="comment">//å°†æˆ‘ä»¬çš„ä¸»è®¾å¤‡å·å’Œæ¬¡è®¾å¤‡å·ç»„æˆä¸€ä¸ª dev_t ç±»å‹ã€‚</span></span></span><br></pre></td></tr></table></figure><h3 id="âœˆ-è®¾å¤‡å·çš„åˆ†é…"><a href="#âœˆ-è®¾å¤‡å·çš„åˆ†é…" class="headerlink" title="âœˆ è®¾å¤‡å·çš„åˆ†é…"></a>âœˆ è®¾å¤‡å·çš„åˆ†é…</h3><p>åˆ†é…è®¾å¤‡å·æœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œé™æ€åˆ†é…å’ŒåŠ¨æ€åˆ†é…ã€‚ç”±äºé™æ€åˆ†é…è®¾å¤‡å·å¯èƒ½å­˜åœ¨å†²çªé—®é¢˜ï¼Œ å› æ­¤å»ºè®®ä½¿ç”¨åŠ¨æ€åˆ†é…è®¾å¤‡å·ã€‚   </p><p>å‡½æ•°å®šä¹‰ï¼š<code>int alloc_chrdev_region(dev_t *dev, unsigned baseminor, unsigned count, const char *name);</code></p><p>å„å‚æ•°çš„å«ä¹‰ï¼š</p><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>dev</td><td>ä¿å­˜ç”³è¯·åˆ°çš„è®¾å¤‡å·ã€‚</td></tr><tr><td>baseminor</td><td>æ¬¡è®¾å¤‡å·çš„èµ·å§‹åœ°å€ï¼Œä¸€èˆ¬å–0ï¼Œå³æ¬¡è®¾å¤‡å·ä» 0 å¼€å§‹ã€‚</td></tr><tr><td>count</td><td>è¦ç”³è¯·çš„è®¾å¤‡å·æ•°é‡ã€‚</td></tr><tr><td>name</td><td>è®¾å¤‡åå­—ã€‚</td></tr></tbody></table></div><p>è¿”å›å€¼ï¼šæˆåŠŸè¿”å› 0ï¼Œ å¤±è´¥è¿”å›è´Ÿæ•°ã€‚ </p><p>åŠ¨æ€åˆ†é…ä¼šä¼˜å…ˆåˆ†é… 255 åˆ° 234 çš„ä¸»è®¾å¤‡å·ã€‚</p><h3 id="âœˆ-è®¾å¤‡å·çš„æ³¨é”€"><a href="#âœˆ-è®¾å¤‡å·çš„æ³¨é”€" class="headerlink" title="âœˆ è®¾å¤‡å·çš„æ³¨é”€"></a>âœˆ è®¾å¤‡å·çš„æ³¨é”€</h3><p>è®¾å¤‡å·é‡Šæ”¾å‡½æ•° ï¼š<code>void unregister_chrdev_region(dev_t from, unsigned count);</code></p><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>from</td><td>è¦é‡Šæ”¾çš„è®¾å¤‡å·ã€‚</td></tr><tr><td>count</td><td>è¡¨ç¤ºä» from å¼€å§‹ï¼Œ è¦é‡Šæ”¾çš„è®¾å¤‡å·æ•°é‡ã€‚</td></tr></tbody></table></div><h2 id="ğŸš€-å­—ç¬¦ç±»è®¾å¤‡çš„æ³¨å†Œå’Œæ³¨é”€"><a href="#ğŸš€-å­—ç¬¦ç±»è®¾å¤‡çš„æ³¨å†Œå’Œæ³¨é”€" class="headerlink" title="ğŸš€ å­—ç¬¦ç±»è®¾å¤‡çš„æ³¨å†Œå’Œæ³¨é”€"></a>ğŸš€ å­—ç¬¦ç±»è®¾å¤‡çš„æ³¨å†Œå’Œæ³¨é”€</h2><h3 id="âœˆ-åˆå§‹åŒ–cdev-ç»“æ„ä½“"><a href="#âœˆ-åˆå§‹åŒ–cdev-ç»“æ„ä½“" class="headerlink" title="âœˆ  åˆå§‹åŒ–cdev ç»“æ„ä½“"></a>âœˆ  åˆå§‹åŒ–cdev ç»“æ„ä½“</h3><p>åœ¨ Linux å†…æ ¸ä¸­ï¼Œ ä½¿ç”¨ cdev ç»“æ„ä½“æè¿°ä¸€ä¸ªå­—ç¬¦è®¾å¤‡ï¼Œ cdev ç»“æ„ä½“çš„å®šä¹‰å¦‚ä¸‹ï¼š  </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æè¿°å­—ç¬¦è®¾å¤‡çš„ä¸€ä¸ªç»“æ„ä½“</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">cdev</span> &#123;</span> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">kobject</span> <span class="title">kobj</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">module</span> *<span class="title">owner</span>;</span></span><br><span class="line">    <span class="type">const</span> <span class="class"><span class="keyword">struct</span> <span class="title">file_operations</span> *<span class="title">ops</span>;</span><span class="comment">// æ–‡ä»¶æ“ä½œé›†</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">list_head</span> <span class="title">list</span>;</span></span><br><span class="line">    <span class="type">dev_t</span> dev;<span class="comment">// è®¾å¤‡å·</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> count;<span class="comment">// è®¾å¤‡æ•°é‡</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å‡½æ•° cdev_init ç”¨äºåˆå§‹åŒ– cdev ç»“æ„ä½“ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// cdev: è¦åˆå§‹åŒ–çš„ cdev ç»“æ„ä½“å˜é‡ã€‚</span></span><br><span class="line"><span class="comment">// ops: å®é™…å°±æ˜¯æŠŠæ­¤æ–‡ä»¶æ“ä½œé›†å†™ç»™ cdev</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">cdev_init</span><span class="params">(<span class="keyword">struct</span> cdev *cdev, <span class="type">const</span> <span class="keyword">struct</span> file_operations *ops)</span>;</span><br></pre></td></tr></table></figure><p>cdev_init å‡½æ•°åªç»™ cdev ç»“æ„ä½“çš„ ops æˆå‘˜å˜é‡èµ‹äº†å€¼ï¼Œä¸€èˆ¬è¿˜éœ€ç»™ owner èµ‹å€¼ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cdev.owner = THIS_MODULE;</span><br></pre></td></tr></table></figure><h3 id="âœˆ-å­—ç¬¦ç±»è®¾å¤‡çš„æ³¨å†Œå’Œæ³¨é”€"><a href="#âœˆ-å­—ç¬¦ç±»è®¾å¤‡çš„æ³¨å†Œå’Œæ³¨é”€" class="headerlink" title="âœˆ å­—ç¬¦ç±»è®¾å¤‡çš„æ³¨å†Œå’Œæ³¨é”€"></a>âœˆ å­—ç¬¦ç±»è®¾å¤‡çš„æ³¨å†Œå’Œæ³¨é”€</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŠŸèƒ½: æ³¨å†Œå­—ç¬¦ç±»è®¾å¤‡</span></span><br><span class="line"><span class="comment">// cdev: è¦æ³¨å†Œçš„ cdev</span></span><br><span class="line"><span class="comment">// dev: è®¾å¤‡å·</span></span><br><span class="line"><span class="comment">// count: æ¬¡è®¾å¤‡å·çš„æ•°é‡</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">cdev_add</span><span class="params">(<span class="keyword">struct</span> cdev *cdev, <span class="type">dev_t</span> dev, <span class="type">unsigned</span> count)</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠŸèƒ½: æ³¨é”€å­—ç¬¦ç±»è®¾å¤‡</span></span><br><span class="line"><span class="comment">// cdev: è¦æ³¨é”€çš„ cdev</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">cdev_del</span><span class="params">(<span class="keyword">struct</span> cdev *cdev)</span>;</span><br></pre></td></tr></table></figure><h2 id="ğŸš€-åˆ›å»ºå’Œå¸è½½è®¾å¤‡"><a href="#ğŸš€-åˆ›å»ºå’Œå¸è½½è®¾å¤‡" class="headerlink" title="ğŸš€ åˆ›å»ºå’Œå¸è½½è®¾å¤‡"></a>ğŸš€ åˆ›å»ºå’Œå¸è½½è®¾å¤‡</h2><h3 id="âœˆ-ç±»çš„åˆ›å»ºå’Œåˆ é™¤"><a href="#âœˆ-ç±»çš„åˆ›å»ºå’Œåˆ é™¤" class="headerlink" title="âœˆ ç±»çš„åˆ›å»ºå’Œåˆ é™¤"></a>âœˆ ç±»çš„åˆ›å»ºå’Œåˆ é™¤</h3><p>å†…æ ¸ä¸­  struct class ç»“æ„ä½“ç±»å‹å˜é‡å¯¹åº”ä¸€ä¸ªç±»ï¼Œ  ä½¿ç”¨å®å®šä¹‰  <code>class_create</code> åˆ›å»ºä¸€ä¸ªç±»  ï¼Œç„¶åå†è°ƒç”¨å‡½æ•° <code>device_create</code> æ¥åœ¨ /dev ç›®å½•ä¸‹åˆ›å»ºç›¸åº”çš„è®¾å¤‡èŠ‚ç‚¹ã€‚  </p><p>class_create çš„å®šä¹‰ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> class_create(owner, name) \</span></span><br><span class="line"><span class="meta">    (&#123; \</span></span><br><span class="line"><span class="meta">    static struct lock_class_key __key; \</span></span><br><span class="line"><span class="meta">    __class_create(owner, name, &amp;__key); \</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="keyword">class</span> *__<span class="title">class_create</span>(<span class="keyword">struct</span> <span class="title">module</span> *<span class="title">owner</span>, <span class="title">const</span> <span class="title">char</span> *<span class="title">name</span>, <span class="keyword">struct</span> <span class="title">lock_class_key</span> *<span class="title">key</span>);</span></span><br></pre></td></tr></table></figure><p>class_create ä¸€å…±æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œ å‚æ•° owner ä¸€èˆ¬ä¸º THIS_MODULEï¼Œ å‚æ•° name æ˜¯ç±»åå­—ã€‚ è¿”å›å€¼æ˜¯ä¸ªæŒ‡å‘ç»“æ„ä½“ class çš„æŒ‡é’ˆï¼Œ ä¹Ÿå°±æ˜¯åˆ›å»ºçš„ç±»ã€‚  </p><p>å¸è½½é©±åŠ¨ç¨‹åºçš„æ—¶å€™éœ€è¦åˆ é™¤æ‰ç±»ï¼Œ ç±»åˆ é™¤å‡½æ•°ä¸º class_destroyï¼Œ å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š  </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">class_destroy</span><span class="params">(<span class="keyword">struct</span> class *cls)</span>;<span class="comment">// cls ä¸ºè¦åˆ é™¤çš„ç±»</span></span><br></pre></td></tr></table></figure><h3 id="âœˆ-åˆ›å»ºå’Œå¸è½½è®¾å¤‡"><a href="#âœˆ-åˆ›å»ºå’Œå¸è½½è®¾å¤‡" class="headerlink" title="âœˆ åˆ›å»ºå’Œå¸è½½è®¾å¤‡"></a>âœˆ åˆ›å»ºå’Œå¸è½½è®¾å¤‡</h3><p>åˆ›å»ºå®Œæˆä¸€ä¸ªç±»åï¼Œ ä½¿ç”¨ device_create å‡½æ•°åœ¨è¿™ä¸ªç±»ä¸‹åˆ›å»ºä¸€ä¸ªè®¾å¤‡ã€‚ device_create<br>å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š  </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å‚æ•°:</span></span><br><span class="line"><span class="comment">class: å°±æ˜¯è®¾å¤‡è¦åˆ›å»ºå“ªä¸ªç±»ä¸‹é¢ã€‚</span></span><br><span class="line"><span class="comment">parent: çˆ¶è®¾å¤‡ï¼Œä¸€èˆ¬ä¸º NULLï¼Œå³æ²¡æœ‰çˆ¶è®¾å¤‡ã€‚</span></span><br><span class="line"><span class="comment">devt: è®¾å¤‡å·ã€‚</span></span><br><span class="line"><span class="comment">drvdata:è®¾å¤‡å¯èƒ½ä¼šä½¿ç”¨çš„ä¸€äº›æ•°æ®ï¼Œä¸€èˆ¬ä¸º NULLã€‚</span></span><br><span class="line"><span class="comment">fmt: è®¾å¤‡åå­—ï¼Œå¦‚æœè®¾ç½® fmt=xxx çš„è¯ï¼Œ å°±ä¼šç”Ÿæˆ/dev/xxx è¿™ä¸ªè®¾å¤‡æ–‡ä»¶ã€‚ </span></span><br><span class="line"><span class="comment">è¿”å›å€¼:</span></span><br><span class="line"><span class="comment">åˆ›å»ºå¥½çš„è®¾å¤‡ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">struct</span> device *<span class="title function_">device_create</span><span class="params">(<span class="keyword">struct</span> class *class,<span class="keyword">struct</span> device *parent,<span class="type">dev_t</span> devt,<span class="type">void</span> *drvdata,<span class="type">const</span> <span class="type">char</span> *fmt, ...)</span>;  </span><br></pre></td></tr></table></figure><p>è®¾å¤‡åˆ é™¤å‡½æ•°ä¸º device_destroyï¼Œ å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š  </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">device_destroy</span><span class="params">(<span class="keyword">struct</span> class *class, <span class="type">dev_t</span> devt)</span>;<span class="comment">// å‚æ•° devt æ˜¯è¦åˆ é™¤çš„è®¾å¤‡å·ã€‚</span></span><br></pre></td></tr></table></figure><h2 id="ğŸš€-å­—ç¬¦è®¾å¤‡é©±åŠ¨ç¨‹åºæ¡†æ¶"><a href="#ğŸš€-å­—ç¬¦è®¾å¤‡é©±åŠ¨ç¨‹åºæ¡†æ¶" class="headerlink" title="ğŸš€ å­—ç¬¦è®¾å¤‡é©±åŠ¨ç¨‹åºæ¡†æ¶"></a>ğŸš€ å­—ç¬¦è®¾å¤‡é©±åŠ¨ç¨‹åºæ¡†æ¶</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/init.h&gt;</span>         <span class="comment">// åŒ…å«åˆå§‹åŒ–å®å®šä¹‰</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/module.h&gt;</span>       <span class="comment">// åŒ…å«åˆå§‹åŒ–åŠ è½½æ¨¡å—</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/fs.h&gt;</span>           <span class="comment">// åŒ…å«æ–‡ä»¶æ“ä½œé›†å®šä¹‰</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/kdev_t.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/cdev.h&gt;</span>         <span class="comment">// åŒ…å«å¯¹å­—ç¬¦è®¾å¤‡ç»“æ„cdvä»¥åŠæ“ä½œå‡½æ•°çš„å®šä¹‰</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;linux/device.h&gt;</span>       <span class="comment">// åŒ…å«deviceã€classç­‰ç»“æ„çš„å®šä¹‰</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DEVICE_NUMBER       1               <span class="comment">// æ¬¡è®¾å¤‡çš„æ•°é‡</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DEVICE_NAME         <span class="string">&quot;chrdev&quot;</span>        <span class="comment">// è®¾å¤‡åç§°</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DEVICE_CLASS_NAME   <span class="string">&quot;chrdev_class&quot;</span>  <span class="comment">// ç±»çš„åç§°</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DEVICE_NODE_NAME    <span class="string">&quot;chrdev_node&quot;</span>   <span class="comment">// è®¾å¤‡èŠ‚ç‚¹åç§°</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">dev_t</span> dev_num;      <span class="comment">// è®¾å¤‡å·</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">cdev</span>     <span class="title">cdev</span>;</span>   </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">device</span>   *<span class="title">device</span>;</span>   <span class="comment">// è®¾å¤‡</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="keyword">class</span>    *<span class="keyword">class</span>;</span>     <span class="comment">// ç±»</span></span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">cdev_open</span><span class="params">(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> file *file)</span></span><br><span class="line">&#123;</span><br><span class="line">    printk(<span class="string">&quot;cdev open!!!\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">cdev_close</span><span class="params">(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> file *file)</span></span><br><span class="line">&#123;</span><br><span class="line">    printk(<span class="string">&quot;cdev close!!!\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è®¾å¤‡æ“ä½œå‡½æ•°ç»“æ„ä½“ */</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">file_operations</span> <span class="title">cdev_fops</span> =</span> &#123;</span><br><span class="line">    .owner= THIS_MODULE,</span><br><span class="line">    .open= cdev_open,</span><br><span class="line">    .release = cdev_close,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ¨¡å—çš„å…¥å£ */</span></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">chrdev_init</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> ret;</span><br><span class="line">    ret = alloc_chrdev_region(&amp;dev_num, <span class="number">0</span>, <span class="number">1</span>, DEVICE_NAME);  <span class="comment">// åŠ¨æ€åˆ†é…è®¾å¤‡å·</span></span><br><span class="line">    <span class="keyword">if</span> (ret &lt; <span class="number">0</span>) </span><br><span class="line">    &#123;</span><br><span class="line">        printk(<span class="string">&quot;alloc_chrdev_region error!\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    printk(<span class="string">&quot;alloc_chrdev_region succeed!\n&quot;</span>);</span><br><span class="line">    printk(<span class="string">&quot;dev_num = %d\n&quot;</span>, dev_num);      <span class="comment">// æ‰“å°è®¾å¤‡å·</span></span><br><span class="line">    printk(<span class="string">&quot;major_num = %d, minor_num = %d\n&quot;</span>, MAJOR(dev_num), MINOR(dev_num));      <span class="comment">// æ‰“å°ä¸»è®¾å¤‡å·å’Œæ¬¡è®¾å¤‡å·</span></span><br><span class="line">    </span><br><span class="line">    cdev.owner = THIS_MODULE;</span><br><span class="line">    cdev_init(&amp;cdev, &amp;cdev_fops);</span><br><span class="line">    cdev_add(&amp;cdev, dev_num, DEVICE_NUMBER);    <span class="comment">// æ³¨å†Œè®¾å¤‡</span></span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> =</span> class_create(THIS_MODULE, DEVICE_CLASS_NAME);   <span class="comment">// åˆ›å»ºclassç±»</span></span><br><span class="line">    device = device_create(class, <span class="literal">NULL</span>, dev_num, <span class="literal">NULL</span>, DEVICE_NODE_NAME);   <span class="comment">// åœ¨classç±»ä¸‹åˆ›å»ºè®¾å¤‡</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ¨¡å—çš„å‡ºå£ */</span></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">chrdev_exit</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    unregister_chrdev_region(dev_num, DEVICE_NUMBER);   <span class="comment">// æ³¨é”€è®¾å¤‡å·</span></span><br><span class="line">    cdev_del(&amp;cdev);                <span class="comment">// åˆ é™¤è®¾å¤‡</span></span><br><span class="line">    device_destroy(class, dev_num); <span class="comment">// æ³¨é”€è®¾å¤‡</span></span><br><span class="line">    class_destroy(class);           <span class="comment">// åˆ é™¤ç±»</span></span><br><span class="line">    printk(<span class="string">&quot;goodbye!\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å£°æ˜æ¨¡å—çš„å…¥å£å’Œå‡ºå£ */</span></span><br><span class="line">module_init(chrdev_init);</span><br><span class="line">module_exit(chrdev_exit);</span><br><span class="line"></span><br><span class="line">MODULE_LICENSE(<span class="string">&quot;GPL&quot;</span>);  <span class="comment">/* å£°æ˜æ¨¡å—çš„å¼€æºè®¸å¯è¯ */</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxç³»ç»ŸTFå¡é•œåƒç”Ÿæˆè„šæœ¬</title>
      <link href="/2022/03/29/CocoPI-Zero/Linux%E7%B3%BB%E7%BB%9FTF%E5%8D%A1%E9%95%9C%E5%83%8F%E7%94%9F%E6%88%90%E8%84%9A%E6%9C%AC/"/>
      <url>/2022/03/29/CocoPI-Zero/Linux%E7%B3%BB%E7%BB%9FTF%E5%8D%A1%E9%95%9C%E5%83%8F%E7%94%9F%E6%88%90%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">! /bin/bash</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å˜é‡å®šä¹‰</span></span><br><span class="line">ImgFile=CocoPI-Zero.img         # ç”Ÿæˆçš„é•œåƒæ–‡ä»¶åç§°</span><br><span class="line">Sdb1Name=boot                   # ç¬¬ä¸€åˆ†åŒºåç§°</span><br><span class="line">Sdb2Name=rootfs                 # ç¬¬äºŒåˆ†åŒºåç§°</span><br><span class="line"></span><br><span class="line">UbootFile=u-boot-sunxi-with-spl.bin         # ä½¿ç”¨çš„ uboot æ–‡ä»¶</span><br><span class="line">zImageFile=zImage                           # Linuxå†…æ ¸é•œåƒæ–‡ä»¶åç§°</span><br><span class="line">dtbFile=suniv-f1c100s-licheepi-nano.dtb     # è®¾å¤‡æ ‘æ–‡ä»¶åç§°</span><br><span class="line">rootfsFile=rootfs.tar                       # æ–‡ä»¶ç³»ç»Ÿå‹ç¼©åŒ…</span><br><span class="line"></span><br><span class="line">sudo echo &quot;åˆ›å»ºä¸€ä¸ª 256MiB çš„ç©ºæ–‡ä»¶&quot;</span><br><span class="line">if [ ! -f &quot;$ImgFile&quot; ]; then</span><br><span class="line">  sudo rm -rf $ImgFile</span><br><span class="line">else</span><br><span class="line">sudo dd if=/dev/zero of=$ImgFile bs=1M count=256</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">sudo <span class="built_in">dd</span> <span class="keyword">if</span>=<span class="variable">$UbootFile</span> of=<span class="variable">$ImgFile</span> bs=1024 seek=8</span></span><br><span class="line"></span><br><span class="line">echo &quot;åˆ¶ä½œ BOOT åˆ†åŒº&quot;</span><br><span class="line">sudo dd if=/dev/zero of=img1 bs=1M count=32</span><br><span class="line">sudo mkfs.vfat -n $Sdb1Name img1</span><br><span class="line">sudo mount -t vfat img1 /mnt/</span><br><span class="line">sudo cp $zImageFile /mnt/</span><br><span class="line">sudo cp $dtbFile /mnt/</span><br><span class="line">sudo umount /mnt</span><br><span class="line">sudo dd if=img1 of=$ImgFile bs=1M seek=1</span><br><span class="line"></span><br><span class="line">echo &quot;åˆ¶ä½œ rootfs åˆ†åŒº&quot;</span><br><span class="line">sudo dd if=/dev/zero of=img2 bs=1M count=223</span><br><span class="line">sudo mkfs.ext4 -F -b 4096 -E stride=2,stripe-width=1024 -L $Sdb2Name img2</span><br><span class="line">sudo mount -t ext4 img2 /mnt/</span><br><span class="line">sudo tar -xf $rootfsFile -C /mnt/</span><br><span class="line">sudo umount /mnt</span><br><span class="line">sudo dd if=img2 of=$ImgFile bs=1M seek=33</span><br><span class="line"></span><br><span class="line">echo &quot;æ·»åŠ åˆ†åŒºè¡¨&quot;</span><br><span class="line">sudo fdisk $ImgFile &lt;&lt;EOF</span><br><span class="line">o</span><br><span class="line">n</span><br><span class="line">p</span><br><span class="line">1</span><br><span class="line"></span><br><span class="line">+32M</span><br><span class="line"></span><br><span class="line">n</span><br><span class="line">p</span><br><span class="line">2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">t</span><br><span class="line">2</span><br><span class="line">83</span><br><span class="line">w</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">echo &quot;å†™å…¥ uboot&quot;</span><br><span class="line">sudo dd if=$UbootFile of=$ImgFile bs=1024 seek=8 conv=notrunc</span><br><span class="line"></span><br><span class="line">echo &quot;åˆ é™¤ä¸­é—´è¿‡ç¨‹æ–‡ä»¶&quot;</span><br><span class="line">sudo rm -rf img1</span><br><span class="line">sudo rm -rf img2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> CocoPI-Zero </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CocoPI-Zeroå¼€å‘å­¦ä¹ èµ„æ–™æ±‡æ€»</title>
      <link href="/2022/03/26/CocoPI-Zero/CocoPI-Zero%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%E6%B1%87%E6%80%BB/"/>
      <url>/2022/03/26/CocoPI-Zero/CocoPI-Zero%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%E6%B1%87%E6%80%BB/</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸš€-è”ææ´¾Nanoèµ„æ–™"><a href="#ğŸš€-è”ææ´¾Nanoèµ„æ–™" class="headerlink" title="ğŸš€ è”ææ´¾Nanoèµ„æ–™"></a>ğŸš€ è”ææ´¾Nanoèµ„æ–™</h2><p>è”ææ´¾Nano å…¨æµç¨‹æŒ‡å—ï¼š<a href="https://wiki.sipeed.com/soft/Lichee/zh/Nano-Doc-Backup/index.html">https://wiki.sipeed.com/soft/Lichee/zh/Nano-Doc-Backup/index.html</a></p><p>è”ææ´¾Nano èµ„æ–™ä¸‹è½½ï¼š<a href="https://dl.sipeed.com/shareURL/LICHEE/Nano">https://dl.sipeed.com/shareURL/LICHEE/Nano</a></p><h2 id="ğŸš€-æå±±æ–‡å¤§ä½¬ç¼–å†™çš„æ•™ç¨‹"><a href="#ğŸš€-æå±±æ–‡å¤§ä½¬ç¼–å†™çš„æ•™ç¨‹" class="headerlink" title="ğŸš€ æå±±æ–‡å¤§ä½¬ç¼–å†™çš„æ•™ç¨‹"></a>ğŸš€ æå±±æ–‡å¤§ä½¬ç¼–å†™çš„æ•™ç¨‹</h2><p><a href="https://www.writebug.com/myres/static/uploads/2022/3/13/72bf30443093e49a1f9622336c852c8b.html">https://www.writebug.com/myres/static/uploads/2022/3/13/72bf30443093e49a1f9622336c852c8b.html</a></p><h2 id="ğŸš€-å¢¨äº‘å¤§ä½¬çš„åšå®¢"><a href="#ğŸš€-å¢¨äº‘å¤§ä½¬çš„åšå®¢" class="headerlink" title="ğŸš€ å¢¨äº‘å¤§ä½¬çš„åšå®¢"></a>ğŸš€ å¢¨äº‘å¤§ä½¬çš„åšå®¢</h2><p><a href="https://www.cnblogs.com/twzy/">https://www.cnblogs.com/twzy/</a></p><h2 id="ğŸš€-ç«‹åˆ›å¼€æºç¡¬ä»¶èµ„æ–™"><a href="#ğŸš€-ç«‹åˆ›å¼€æºç¡¬ä»¶èµ„æ–™" class="headerlink" title="ğŸš€ ç«‹åˆ›å¼€æºç¡¬ä»¶èµ„æ–™"></a>ğŸš€ ç«‹åˆ›å¼€æºç¡¬ä»¶èµ„æ–™</h2><p><a href="https://oshwhub.com/lengyuefeng/v3scopy_copy">https://oshwhub.com/lengyuefeng/v3scopy_copy</a></p><p><a href="https://oshwhub.com/an_ye/f1c100s_copy_copy">https://oshwhub.com/an_ye/f1c100s_copy_copy</a></p><h2 id="ğŸš€-å…¶ä»–èµ„æ–™"><a href="#ğŸš€-å…¶ä»–èµ„æ–™" class="headerlink" title="ğŸš€ å…¶ä»–èµ„æ–™"></a>ğŸš€ å…¶ä»–èµ„æ–™</h2><p>å“‡é…·å¼€å‘è€…ç¤¾åŒºï¼š<a href="https://whycan.com/">https://whycan.com/</a></p><p>é©±åŠ¨å¼€å‘è§†é¢‘æ•™ç¨‹ï¼š<a href="https://space.bilibili.com/417254117/favlist?fid=1412587817&amp;ftype=create">https://space.bilibili.com/417254117/favlist?fid=1412587817&amp;ftype=create</a></p>]]></content>
      
      
      <categories>
          
          <category> CocoPI-Zero </category>
          
      </categories>
      
      
        <tags>
            
            <tag> other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxå¼€å‘ç¯å¢ƒæ­å»º</title>
      <link href="/2022/03/20/Linux/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
      <url>/2022/03/20/Linux/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸš€Ubuntu16å›ºå®šIPåœ°å€"><a href="#ğŸš€Ubuntu16å›ºå®šIPåœ°å€" class="headerlink" title="ğŸš€Ubuntu16å›ºå®šIPåœ°å€"></a>ğŸš€Ubuntu16å›ºå®šIPåœ°å€</h2><p>æ‰“å¼€ç½‘ç»œè®¾ç½®ï¼Œå®‰è£…ä¸‹å›¾è¿›è¡Œç›¸åº”çš„è®¾ç½®å³å¯ã€‚</p><p><img src="../../images/linuxé©±åŠ¨å¼€å‘ç¯å¢ƒæ­å»º/202204042137579.png" alt="è®¾ç½®å›ºå®šIP"></p><p>ifconfig å‘½ä»¤æŸ¥è¯¢ä¸€ä¸‹å½“å‰IP</p><p>ç„¶å ping ä¸€ä¸‹ baidu.comï¼Œå¦‚æœå¯ä»¥ ping é€šåˆ™è¯´æ˜è®¾ç½®æˆåŠŸã€‚</p><p><img src="../../images/linuxé©±åŠ¨å¼€å‘ç¯å¢ƒæ­å»º/202204042137551.png" alt="æ£€æŸ¥æ˜¯å¦å¯ä»¥pingé€š"></p><h2 id="ğŸš€-SSH-æœåŠ¡å¼€å¯"><a href="#ğŸš€-SSH-æœåŠ¡å¼€å¯" class="headerlink" title="ğŸš€ SSH æœåŠ¡å¼€å¯"></a>ğŸš€ SSH æœåŠ¡å¼€å¯</h2><p>å¼€å¯ Ubuntu çš„ SSH æœåŠ¡ä»¥åæˆ‘ä»¬å°±å¯ä»¥åœ¨ Windwos ä¸‹ä½¿ç”¨ç»ˆç«¯è½¯ä»¶ç™»é™†åˆ° Ubuntuï¼Œæ¯”å¦‚ ä½¿ç”¨ MobaXtermã€‚</p><p>Ubuntu ä¸‹ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¼€å¯ SSH æœåŠ¡ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install openssh-server </span><br></pre></td></tr></table></figure><p>ä¸Šè¿°å‘½ä»¤å®‰è£… ssh æœåŠ¡ï¼Œssh çš„é…ç½®æ–‡ä»¶ä¸º/etc/ssh/sshd_configï¼Œä½¿ç”¨é»˜è®¤é…ç½®å³å¯ã€‚</p><hr><h2 id="ğŸš€-FTP-æœåŠ¡å¼€å¯"><a href="#ğŸš€-FTP-æœåŠ¡å¼€å¯" class="headerlink" title="ğŸš€ FTP æœåŠ¡å¼€å¯"></a>ğŸš€ FTP æœåŠ¡å¼€å¯</h2><p>Windows å’Œ Ubuntu ä¸‹çš„æ–‡ä»¶äº’ä¼ æˆ‘ ä»¬éœ€è¦ä½¿ç”¨ FTP æœåŠ¡.</p><p>è®¾ç½®æ–¹æ³•å¦‚ä¸‹ï¼š </p><p>1ã€ æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥å®‰è£… FTP æœåŠ¡ï¼š </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install vsftpd </span><br></pre></td></tr></table></figure><p>2ã€ä½¿ç”¨ VI å‘½ä»¤æ‰“å¼€/etc/vsftpd.confï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/vsftpd.conf </span><br></pre></td></tr></table></figure><p>æ‰“å¼€ä»¥å vsftpd.conf æ–‡ä»¶ä»¥åæ‰¾åˆ°å¦‚ä¸‹ä¸¤è¡Œï¼š </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">local_enable=YES </span><br><span class="line">write_enable=YES </span><br></pre></td></tr></table></figure><p>ç¡®ä¿ä¸Šé¢ä¸¤è¡Œå‰é¢æ²¡æœ‰â€œ#â€ï¼Œæœ‰çš„è¯å°±å–æ¶ˆæ‰ã€‚</p><p>3ã€é‡å¯ FTP æœåŠ¡ï¼š </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /etc/init.d/vsftpd restart </span><br></pre></td></tr></table></figure><hr><h2 id="ğŸš€-å®‰è£…äº¤å‰ç¼–è¯‘é“¾"><a href="#ğŸš€-å®‰è£…äº¤å‰ç¼–è¯‘é“¾" class="headerlink" title="ğŸš€ å®‰è£…äº¤å‰ç¼–è¯‘é“¾"></a>ğŸš€ å®‰è£…äº¤å‰ç¼–è¯‘é“¾</h2><p>é¦–å…ˆåœ¨ <a href="https://releases.linaro.org/components/toolchain/binaries/">https://releases.linaro.org/components/toolchain/binaries/</a> è·å–è‡ªå·±éœ€è¦çš„äº¤å‰ç¼–è¯‘å™¨ç‰ˆæœ¬ã€‚</p><p>æ­¤å¤„ä¸ºè·å–7.2.1ç‰ˆæœ¬ï¼Œæ‚¨å¯è·å–å…¶ä»–ç‰ˆæœ¬æˆ–è€…é€šè¿‡é“¾æ¥ç›´æ¥ä¸‹è½½</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget https://releases.linaro.org/components/toolchain/binaries/7.2-2017.11/arm-linux-gnueabi/gcc-linaro-7.2.1-2017.11-x86_64_arm-linux-gnueabi.tar.xz</span><br><span class="line">tar -vxf gcc-linaro-7.2.1-2017.11-x86_64_arm-linux-gnueabi.tar.xz</span><br><span class="line">mv gcc-linaro-7.2.1-2017.11-x86_64_arm-linux-gnueabi arm-linux-gcc</span><br><span class="line">sudo cp -r ./arm-linux-gcc /opt/</span><br><span class="line">sudo vim /etc/bash.bashrc</span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶æœ«å°¾ æ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PATH=&quot;$PATH:/opt/arm-linux-gcc/bin&quot;</span><br></pre></td></tr></table></figure><p>æ·»åŠ å®Œæ¯•ï¼Œä½¿è·¯å¾„ç”Ÿæ•ˆ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/bash.bashrc</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å¯ç”¨  <code>arm-linux-gnueabi-gcc -v</code>  è¿›è¡Œæµ‹è¯•ï¼›</p><p>è‹¥æ™®é€šç”¨æˆ·çŠ¶æ€ä¸‹æ²¡æœ‰æˆåŠŸï¼Œé€šè¿‡ <code>sudo su</code> åˆ‡æ¢åˆ°rootç”¨æˆ·å†å°è¯•ï¼›</p><p>ç”±äºäº¤å‰ç¼–è¯‘å™¨æ‹¼å†™èµ·æ¥å¤ªé•¿ï¼Œä¸ºäº†æ–¹ä¾¿åç»­å¼€å‘ï¼Œå¯åœ¨ ~/.bashrc ä¸­æ·»åŠ ä¸ªäººå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alias mymake=&#x27;make ARCH=arm CROSS_COMPILE=arm-linux-gnueabi-&#x27;</span><br><span class="line">alias mygcc=&#x27;arm-linux-gnueabi-gcc&#x27;</span><br></pre></td></tr></table></figure><hr><h2 id="ğŸš€-å®‰è£…å¿…è¦çš„åŠ¨æ€é“¾æ¥åº“"><a href="#ğŸš€-å®‰è£…å¿…è¦çš„åŠ¨æ€é“¾æ¥åº“" class="headerlink" title="ğŸš€ å®‰è£…å¿…è¦çš„åŠ¨æ€é“¾æ¥åº“"></a>ğŸš€ å®‰è£…å¿…è¦çš„åŠ¨æ€é“¾æ¥åº“</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install lib32ncurses5 lib32z1 git-core gnupg flex bison gperf build-essential zip curl zlib1g-dev libc6-dev lib32ncurses5-dev gcc-multilib x11proto-core-dev libx11-dev lib32z1-dev libgl1-mesa-dev g++-multilib tofrodos python-markdown libxml2-utils libssl-dev swig python-dev</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vimç®€æ˜“é…ç½®</title>
      <link href="/2022/03/19/Linux/vim%E7%AE%80%E6%98%93%E9%85%8D%E7%BD%AE/"/>
      <url>/2022/03/19/Linux/vim%E7%AE%80%E6%98%93%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>Vimç®€æ˜“é…ç½®åŸåˆ™ï¼šç®€æ˜“å®ç”¨æ–¹ä¾¿ï¼Œä¸è£…é¢å¤–æ’ä»¶ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">syntax on           &quot;è¯­æ³•é«˜äº®&quot;</span><br><span class="line">set number          &quot;æ˜¾ç¤ºè¡Œå·&quot;</span><br><span class="line">set cursorline      &quot;çªå‡ºæ˜¾ç¤ºå½“å‰è¡Œ&quot;</span><br><span class="line">set showmatch       &quot;æ‹¬å·åŒ¹é…&quot;</span><br><span class="line">set showmode        &quot;åœ¨åº•éƒ¨æ˜¾ç¤ºå½“å‰æ¨¡å¼&quot;</span><br><span class="line">set showcmd         &quot;å‘½ä»¤æ¨¡å¼ä¸‹æ˜¾ç¤ºé”®å…¥çš„æŒ‡ä»¤&quot;</span><br><span class="line">set t_Co=256        &quot;å¯ç”¨256è‰²&quot;</span><br><span class="line">set textwidth=80    &quot;è®¾ç½®è¡Œå®½&quot;</span><br><span class="line">set wrap            &quot;è¶…è¿‡è®¾å®šè¡Œå®½æ—¶è‡ªåŠ¨æ¢è¡Œ&quot;</span><br><span class="line">&quot;set nowrap&quot;        &quot;å–æ¶ˆè‡ªåŠ¨æ¢è¡Œ&quot;</span><br><span class="line">set scrolloff=5     &quot;å‚ç›´æ»šåŠ¨æ—¶ï¼Œå…‰æ ‡è·ç¦»é¡¶éƒ¨/åº•éƒ¨çš„ä½ç½®&quot;</span><br><span class="line">set laststatus=2    &quot;æ˜¾ç¤ºçŠ¶æ€æ &quot;</span><br><span class="line">set ruler           &quot;åœ¨çŠ¶æ€æ æ˜¾ç¤ºå…‰æ ‡çš„å½“å‰ä½ç½®&quot;</span><br><span class="line">set wildmenu        &quot;è¾“å…¥å‘½ä»¤æ—¶ï¼ŒTabé”®è‡ªåŠ¨è¡¥å…¨&quot;</span><br><span class="line"></span><br><span class="line">set hlsearch        &quot;æœç´¢æ—¶ï¼Œé«˜äº®æ˜¾ç¤ºåŒ¹é…ç»“æœ&quot;</span><br><span class="line">set incsearch       &quot;æœç´¢æ—¶ï¼Œé«˜äº®åŒæ­¥&quot;</span><br><span class="line">set ignorecase      &quot;æœç´¢æ—¶å¿½ç•¥å¤§å°å†™&quot;</span><br><span class="line">set smartcase       &quot;æœç´¢æ—¶æ™ºèƒ½å¿½ç•¥å¤§å°å†™&quot;</span><br><span class="line"> </span><br><span class="line">set tabstop=4       &quot;Tabé•¿åº¦ä¸º4ç©ºæ ¼&quot;</span><br><span class="line">set autoindent      &quot;ç»§æ‰¿å‰ä¸€è¡Œçš„ç¼©è¿›æ–¹å¼&quot;</span><br><span class="line">&quot;set expandtab       &quot;Tabè‡ªåŠ¨è½¬æ¢ä¸ºç©ºæ ¼&quot;</span><br><span class="line">&quot;set softtabstop=4   &quot;è‡ªåŠ¨è½¬æ¢çš„ç©ºæ ¼æ•°&quot;</span><br><span class="line">set shiftwidth=4    &quot;åœ¨æ–‡æœ¬ä¸ŠæŒ‰ä¸‹ &gt;&gt;ã€&lt;&lt; æˆ–è€… == æ—¶ï¼Œæ“ä½œçš„å­—ç¬¦æ•°&quot;</span><br><span class="line"></span><br><span class="line">&quot;è®¾ç½®è‡ªåŠ¨è¡¥å…¨&quot;</span><br><span class="line">inoremap ( ()&lt;ESC&gt;i</span><br><span class="line">inoremap [ []&lt;ESC&gt;i</span><br><span class="line">inoremap &#123; &#123;&#125;&lt;ESC&gt;i</span><br><span class="line">&quot;inoremap &lt; &lt;&gt;&lt;ESC&gt;i</span><br><span class="line">inoremap &#x27; &#x27;&#x27;&lt;ESC&gt;i</span><br><span class="line">inoremap &quot; &quot;&quot;&lt;ESC&gt;i</span><br><span class="line"></span><br><span class="line">set mouse=a         &quot;æ”¯æŒä½¿ç”¨é¼ æ ‡&quot;</span><br><span class="line">set encoding=utf-8  &quot;ä½¿ç”¨ utf-8 ç¼–ç &quot;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vim </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ESP32è·å–ç½‘ç»œæ—¶é—´</title>
      <link href="/2022/01/10/LittlePC-Clock/ESP32%E8%8E%B7%E5%8F%96%E7%BD%91%E7%BB%9C%E6%97%B6%E9%97%B4/"/>
      <url>/2022/01/10/LittlePC-Clock/ESP32%E8%8E%B7%E5%8F%96%E7%BD%91%E7%BB%9C%E6%97%B6%E9%97%B4/</url>
      
        <content type="html"><![CDATA[<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/Naisu_kun/article/details/115627629?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;spm=1018.2226.3001.4187">https://blog.csdn.net/Naisu_kun/article/details/115627629?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;spm=1018.2226.3001.4187</a></p><h2 id="ğŸš€-ç¤ºä¾‹ä»£ç "><a href="#ğŸš€-ç¤ºä¾‹ä»£ç " class="headerlink" title="ğŸš€ ç¤ºä¾‹ä»£ç "></a>ğŸš€ ç¤ºä¾‹ä»£ç </h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;WiFi.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">char</span> *ssid = <span class="string">&quot;********&quot;</span>;    <span class="comment">//ä½ çš„ç½‘ç»œåç§°</span></span><br><span class="line"><span class="type">const</span> <span class="type">char</span> *password = <span class="string">&quot;********&quot;</span>; <span class="comment">//ä½ çš„ç½‘ç»œå¯†ç </span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">char</span> *ntpServer = <span class="string">&quot;pool.ntp.org&quot;</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">long</span> gmtOffset_sec = <span class="number">8</span> * <span class="number">3600</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> daylightOffset_sec = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">printLocalTime</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">tm</span> <span class="title">timeinfo</span>;</span></span><br><span class="line">    <span class="keyword">if</span> (!getLocalTime(&amp;timeinfo))</span><br><span class="line">    &#123;</span><br><span class="line">        Serial.println(<span class="string">&quot;Failed to obtain time&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Serial.println(&amp;timeinfo, <span class="string">&quot;%F %T %A&quot;</span>); <span class="comment">// æ ¼å¼åŒ–è¾“å‡º</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    Serial.begin(<span class="number">115200</span>);</span><br><span class="line">    Serial.println();</span><br><span class="line"></span><br><span class="line">    WiFi.begin(ssid, password);</span><br><span class="line">    <span class="keyword">while</span> (WiFi.status() != WL_CONNECTED)</span><br><span class="line">    &#123;</span><br><span class="line">        delay(<span class="number">500</span>);</span><br><span class="line">        Serial.print(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    Serial.println(<span class="string">&quot;WiFi connected!&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä»ç½‘ç»œæ—¶é—´æœåŠ¡å™¨ä¸Šè·å–å¹¶è®¾ç½®æ—¶é—´</span></span><br><span class="line">    <span class="comment">// è·å–æˆåŠŸåèŠ¯ç‰‡ä¼šä½¿ç”¨RTCæ—¶é’Ÿä¿æŒæ—¶é—´çš„æ›´æ–°</span></span><br><span class="line">    configTime(gmtOffset_sec, daylightOffset_sec, ntpServer);</span><br><span class="line">    printLocalTime();</span><br><span class="line">    </span><br><span class="line">    WiFi.disconnect(<span class="literal">true</span>);</span><br><span class="line">    WiFi.mode(WIFI_OFF);</span><br><span class="line">    Serial.println(<span class="string">&quot;WiFi disconnected!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    delay(<span class="number">1000</span>);</span><br><span class="line">    printLocalTime();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ğŸš€-ä»£ç è§£æ"><a href="#ğŸš€-ä»£ç è§£æ" class="headerlink" title="ğŸš€ ä»£ç è§£æ"></a>ğŸš€ ä»£ç è§£æ</h2><p>ä½¿ç”¨ä¸‹é¢å‡½æ•°ä»ç½‘ç»œæ—¶é—´æœåŠ¡å™¨ä¸Šè·å–å¹¶è®¾ç½®æ—¶é—´ï¼š<br><code>void configTime(long gmtOffset_sec, int daylightOffset_sec, const char* server1, const char* server2 = nullptr, const char* server3 = nullptr)</code><br>ç½‘ç»œæ—¶é—´æœåŠ¡å™¨æœ€å¸¸ç”¨çš„ä¸»æœºåæ˜¯ <code>pool.ntp.org</code> ï¼›<br><code>gmtOffset_sec</code> å‚æ•°å°±æ˜¯ç”¨æ¥ä¿®æ­£æ—¶åŒºçš„ï¼Œæ¯”å¦‚å¯¹äºæˆ‘ä»¬ä¸œå…«åŒºï¼ˆUTC/GMT+08:00ï¼‰æ¥è¯´è¯¥å‚æ•°å°±éœ€è¦å¡«å†™<code>8 * 3600</code>ï¼›<br>å¦‚æœä½¿ç”¨å¤ä»¤æ—¶ <code>daylightOffset_sec</code> å°±å¡«å†™<code>3600</code>ï¼Œå¦åˆ™å°±å¡«å†™ <code>0</code> ï¼›</p><p>è®¾ç½®å®Œæˆåå°±å¯ä»¥ä½¿ç”¨ä¸‹é¢å‡½æ•°è¯»å–å½“å‰æ—¶é—´äº†ï¼š<br><code>bool getLocalTime(struct tm * info, uint32_t ms = 5000)</code><br><code>ms</code> ä¸ºè¯¥æ“ä½œè¶…æ—¶æ—¶é—´ï¼Œè¶…æ—¶åˆ™è¿”å›falseï¼›<br><code>info</code> æ˜¯ä¸€ä¸ª <code>struct tm</code> ç»“æ„ä½“å¯¹è±¡ï¼Œç”¨äºæ¥æ”¶å½“å‰æ—¶é—´ï¼›</p><h2 id="ğŸš€-ç½‘ç»œæ—¶é—´æœåŠ¡å™¨"><a href="#ğŸš€-ç½‘ç»œæ—¶é—´æœåŠ¡å™¨" class="headerlink" title="ğŸš€ ç½‘ç»œæ—¶é—´æœåŠ¡å™¨"></a>ğŸš€ ç½‘ç»œæ—¶é—´æœåŠ¡å™¨</h2><p>å¯ç”¨çš„ç½‘ç»œæ—¶é—´æœåŠ¡å™¨ä¸»è¦æœ‰ä¸‹é¢ä¸€äº›ï¼š</p><div class="table-container"><table><thead><tr><th>Area</th><th>HostName</th></tr></thead><tbody><tr><td>Worldwide</td><td>pool.ntp.org</td></tr><tr><td>Asia</td><td>asia.pool.ntp.org</td></tr><tr><td>Europe</td><td>europe.pool.ntp.org</td></tr><tr><td>North America</td><td>north-america.pool.ntp.org</td></tr><tr><td>South America</td><td>south-america.pool.ntp.org</td></tr><tr><td>Oceania</td><td>oceania.pool.ntp.org</td></tr></tbody></table></div><h2 id="ğŸš€-struct-tmç»“æ„ä½“ä¸æ ¼å¼åŒ–è¾“å‡º"><a href="#ğŸš€-struct-tmç»“æ„ä½“ä¸æ ¼å¼åŒ–è¾“å‡º" class="headerlink" title="ğŸš€ struct tmç»“æ„ä½“ä¸æ ¼å¼åŒ–è¾“å‡º"></a>ğŸš€ struct tmç»“æ„ä½“ä¸æ ¼å¼åŒ–è¾“å‡º</h2><p>è¯¥ç»“æ„ä½“ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tm</span> &#123;</span></span><br><span class="line"><span class="type">int</span> tm_sec; <span class="comment">// ç§’ï¼Œå–å€¼0~59ï¼›</span></span><br><span class="line"><span class="type">int</span> tm_min; <span class="comment">// åˆ†ï¼Œå–å€¼0~59ï¼›</span></span><br><span class="line"><span class="type">int</span> tm_hour; <span class="comment">// æ—¶ï¼Œå–å€¼0~23ï¼›</span></span><br><span class="line"><span class="type">int</span> tm_mday; <span class="comment">// æœˆä¸­çš„æ—¥æœŸï¼Œå–å€¼1~31ï¼›</span></span><br><span class="line"><span class="type">int</span> tm_mon; <span class="comment">// æœˆï¼Œå–å€¼0~11ï¼›</span></span><br><span class="line"><span class="type">int</span> tm_year; <span class="comment">// å¹´ï¼Œå…¶å€¼ç­‰äºå®é™…å¹´ä»½å‡å»1900ï¼›</span></span><br><span class="line"><span class="type">int</span> tm_wday; <span class="comment">// æ˜ŸæœŸï¼Œå–å€¼0~6ï¼Œ0ä¸ºå‘¨æ—¥ï¼Œ1ä¸ºå‘¨ä¸€ï¼Œä¾æ­¤ç±»æ¨ï¼›</span></span><br><span class="line"><span class="type">int</span> tm_yday; <span class="comment">// å¹´ä¸­çš„æ—¥æœŸï¼Œå–å€¼0~365ï¼Œ0ä»£è¡¨1æœˆ1æ—¥ï¼Œ1ä»£è¡¨1æœˆ2æ—¥ï¼Œä¾æ­¤ç±»æ¨ï¼›</span></span><br><span class="line"><span class="type">int</span> tm_isdst; <span class="comment">// å¤ä»¤æ—¶æ ‡è¯†ç¬¦ï¼Œå®è¡Œå¤ä»¤æ—¶çš„æ—¶å€™ï¼Œtm_isdstä¸ºæ­£ï¼›ä¸å®è¡Œå¤ä»¤æ—¶çš„è¿›å€™ï¼Œtm_isdstä¸º0ï¼›ä¸äº†è§£æƒ…å†µæ—¶ï¼Œtm_isdst()ä¸ºè´Ÿ</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br>è¯¥ç»“æ„ä½“å¯ä»¥æ ¼å¼åŒ–è¾“å‡ºï¼Œæ ¼å¼åŒ–è§„åˆ™å¦‚ä¸‹ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">%a æ˜ŸæœŸå‡ çš„ç®€å†™</span><br><span class="line">%A æ˜ŸæœŸå‡ çš„å…¨ç§°</span><br><span class="line">%b æœˆåˆ†çš„ç®€å†™</span><br><span class="line">%B æœˆä»½çš„å…¨ç§°</span><br><span class="line">%c æ ‡å‡†çš„æ—¥æœŸçš„æ—¶é—´ä¸²</span><br><span class="line">%C å¹´ä»½çš„åä¸¤ä½æ•°å­—</span><br><span class="line">%d åè¿›åˆ¶è¡¨ç¤ºçš„æ¯æœˆçš„ç¬¬å‡ å¤©</span><br><span class="line">%D æœˆ/å¤©/å¹´</span><br><span class="line">%e åœ¨ä¸¤å­—ç¬¦åŸŸä¸­ï¼Œåè¿›åˆ¶è¡¨ç¤ºçš„æ¯æœˆçš„ç¬¬å‡ å¤©</span><br><span class="line">%F å¹´-æœˆ-æ—¥</span><br><span class="line">%g å¹´ä»½çš„åä¸¤ä½æ•°å­—ï¼Œä½¿ç”¨åŸºäºå‘¨çš„å¹´</span><br><span class="line">%G å¹´åˆ†ï¼Œä½¿ç”¨åŸºäºå‘¨çš„å¹´</span><br><span class="line">%h ç®€å†™çš„æœˆä»½å</span><br><span class="line">%H 24å°æ—¶åˆ¶çš„å°æ—¶</span><br><span class="line">%I 12å°æ—¶åˆ¶çš„å°æ—¶</span><br><span class="line">%j åè¿›åˆ¶è¡¨ç¤ºçš„æ¯å¹´çš„ç¬¬å‡ å¤©</span><br><span class="line">%m åè¿›åˆ¶è¡¨ç¤ºçš„æœˆä»½</span><br><span class="line">%M åæ—¶åˆ¶è¡¨ç¤ºçš„åˆ†é’Ÿæ•°</span><br><span class="line">%p æœ¬åœ°çš„AMæˆ–PMçš„ç­‰ä»·æ˜¾ç¤º</span><br><span class="line">%r 12å°æ—¶çš„æ—¶é—´</span><br><span class="line">%R æ˜¾ç¤ºå°æ—¶å’Œåˆ†é’Ÿï¼šhh:mm</span><br><span class="line">%S åè¿›åˆ¶çš„ç§’æ•°</span><br><span class="line">%t æ°´å¹³åˆ¶è¡¨ç¬¦</span><br><span class="line">%T æ˜¾ç¤ºæ—¶åˆ†ç§’ï¼šhh:mm:ss</span><br><span class="line">%u æ¯å‘¨çš„ç¬¬å‡ å¤©ï¼Œæ˜ŸæœŸä¸€ä¸ºç¬¬ä¸€å¤© ï¼ˆå€¼ä»0åˆ°6ï¼Œæ˜ŸæœŸä¸€ä¸º0ï¼‰</span><br><span class="line">%U ç¬¬å¹´çš„ç¬¬å‡ å‘¨ï¼ŒæŠŠæ˜ŸæœŸæ—¥åšä¸ºç¬¬ä¸€å¤©ï¼ˆå€¼ä»0åˆ°53ï¼‰</span><br><span class="line">%V æ¯å¹´çš„ç¬¬å‡ å‘¨ï¼Œä½¿ç”¨åŸºäºå‘¨çš„å¹´</span><br><span class="line">%w åè¿›åˆ¶è¡¨ç¤ºçš„æ˜ŸæœŸå‡ ï¼ˆå€¼ä»0åˆ°6ï¼Œæ˜ŸæœŸå¤©ä¸º0ï¼‰</span><br><span class="line">%W æ¯å¹´çš„ç¬¬å‡ å‘¨ï¼ŒæŠŠæ˜ŸæœŸä¸€åšä¸ºç¬¬ä¸€å¤©ï¼ˆå€¼ä»0åˆ°53ï¼‰</span><br><span class="line">%x æ ‡å‡†çš„æ—¥æœŸä¸²</span><br><span class="line">%X æ ‡å‡†çš„æ—¶é—´ä¸²</span><br><span class="line">%y ä¸å¸¦ä¸–çºªçš„åè¿›åˆ¶å¹´ä»½ï¼ˆå€¼ä»0åˆ°99ï¼‰</span><br><span class="line">%Y å¸¦ä¸–çºªéƒ¨åˆ†çš„åè¿›åˆ¶å¹´ä»½</span><br><span class="line">%zï¼Œ%Z æ—¶åŒºåç§°ï¼Œå¦‚æœä¸èƒ½å¾—åˆ°æ—¶åŒºåç§°åˆ™è¿”å›ç©ºå­—ç¬¦</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> LittlePC-Clock </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Arduino </tag>
            
            <tag> ESP32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vimå¸¸ç”¨å‘½ä»¤æ€»ç»“</title>
      <link href="/2022/01/06/Linux/vim%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/"/>
      <url>/2022/01/06/Linux/vim%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h2 id="æ’å…¥æ¨¡å¼"><a href="#æ’å…¥æ¨¡å¼" class="headerlink" title="æ’å…¥æ¨¡å¼"></a>æ’å…¥æ¨¡å¼</h2><div class="table-container"><table><thead><tr><th>å¿«æ·é”®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>i</code></td><td>åœ¨å…‰æ ‡å¤„è¿›å…¥æ’å…¥æ¨¡å¼</td></tr><tr><td><code>I</code></td><td>åœ¨è¡Œé¦–è¿›å…¥æ’å…¥æ¨¡å¼</td></tr><tr><td><code>a</code></td><td>åœ¨å…‰æ ‡åè¿›å…¥æ’å…¥æ¨¡å¼</td></tr><tr><td><code>A</code></td><td>åœ¨è¡Œå°¾è¿›å…¥æ’å…¥æ¨¡å¼</td></tr><tr><td><code>o</code></td><td>åœ¨ä¸‹ä¸€è¡Œæ’å…¥æ–°è¡Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼</td></tr><tr><td><code>O</code></td><td>åœ¨ä¸Šä¸€è¡Œæ’å…¥æ–°è¡Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼</td></tr><tr><td><code>gi</code></td><td>è¿›å…¥åˆ°ä¸Šä¸€æ¬¡æ’å…¥æ¨¡å¼çš„ä½ç½®</td></tr><tr><td><code>&lt;esc&gt;</code></td><td>é€€å‡ºæ’å…¥æ¨¡å¼</td></tr></tbody></table></div><h2 id="ç¼“å­˜æ“ä½œ"><a href="#ç¼“å­˜æ“ä½œ" class="headerlink" title="ç¼“å­˜æ“ä½œ"></a>ç¼“å­˜æ“ä½œ</h2><div class="table-container"><table><thead><tr><th>å¿«æ·é”®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>:e &lt;filename&gt;</code></td><td>æ–°å»ºbufferæ‰“å¼€æ–‡ä»¶</td></tr><tr><td><code>:bp</code></td><td>åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªbuffer</td></tr><tr><td><code>:bn</code></td><td>åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªbuffer</td></tr><tr><td><code>:bd</code></td><td>åˆ é™¤å½“å‰buffer</td></tr></tbody></table></div><h2 id="çª—å£æ“ä½œ"><a href="#çª—å£æ“ä½œ" class="headerlink" title="çª—å£æ“ä½œ"></a>çª—å£æ“ä½œ</h2><div class="table-container"><table><thead><tr><th>å¿«æ·é”®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>:sp &lt;filename&gt;</code></td><td>æ¨ªå‘åˆ‡åˆ†çª—å£å¹¶æ‰“å¼€æ–‡ä»¶</td></tr><tr><td><code>:vsp &lt;filename&gt;</code></td><td>ç«–å‘åˆ‡åˆ†çª—å£å¹¶æ‰“å¼€æ–‡ä»¶</td></tr><tr><td><code>&lt;c-w&gt;h</code></td><td>è·³åˆ°å·¦è¾¹çš„çª—å£</td></tr><tr><td><code>&lt;c-w&gt;j</code></td><td>è·³åˆ°ä¸‹è¾¹çš„çª—å£</td></tr><tr><td><code>&lt;c-w&gt;k</code></td><td>è·³åˆ°ä¸Šè¾¹çš„çª—å£</td></tr><tr><td><code>&lt;c-w&gt;l</code></td><td>è·³åˆ°å³è¾¹çš„çª—å£</td></tr><tr><td><code>&lt;c-w&gt;c</code></td><td>å…³é—­å½“å‰çª—å£</td></tr><tr><td><code>&lt;c-w&gt;o</code></td><td>å…³é—­å…¶ä»–çª—å£</td></tr><tr><td><code>:only</code></td><td>å…³é—­å…¶ä»–çª—å£</td></tr></tbody></table></div><h2 id="å…‰æ ‡ç§»åŠ¨"><a href="#å…‰æ ‡ç§»åŠ¨" class="headerlink" title="å…‰æ ‡ç§»åŠ¨"></a>å…‰æ ‡ç§»åŠ¨</h2><div class="table-container"><table><thead><tr><th>å¿«æ·é”®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>h</code></td><td>ä¸Šä¸‹å·¦å³ç§»åŠ¨</td></tr><tr><td><code>j</code></td><td>ä¸Šä¸‹å·¦å³ç§»åŠ¨</td></tr><tr><td><code>k</code></td><td>ä¸Šä¸‹å·¦å³ç§»åŠ¨</td></tr><tr><td><code>l</code></td><td>ä¸Šä¸‹å·¦å³ç§»åŠ¨</td></tr><tr><td><code>0</code></td><td>å…‰æ ‡ç§»åŠ¨åˆ°è¡Œé¦–</td></tr><tr><td><code>^</code></td><td>è·³åˆ°ä»è¡Œé¦–å¼€å§‹ç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦</td></tr><tr><td><code>$</code></td><td>å…‰æ ‡ç§»åŠ¨åˆ°è¡Œå°¾</td></tr><tr><td><code>&lt;c-o&gt;</code></td><td>è·³åˆ°ä¸Šä¸€ä¸ªä½ç½®</td></tr><tr><td><code>&lt;c-i&gt;</code></td><td>è·³åˆ°ä¸‹ä¸€ä¸ªä½ç½®</td></tr><tr><td><code>&lt;c-b&gt;</code></td><td>ä¸Šä¸€é¡µ</td></tr><tr><td><code>&lt;c-f&gt;</code></td><td>ä¸‹ä¸€é¡µ</td></tr><tr><td><code>&lt;c-u&gt;</code></td><td>ä¸Šç§»åŠå±</td></tr><tr><td><code>&lt;c-d&gt;</code></td><td>ä¸‹ç§»åŠå±</td></tr><tr><td><code>H</code></td><td>è°ƒåˆ°å±å¹•é¡¶ä¸Š</td></tr><tr><td><code>M</code></td><td>è°ƒåˆ°å±å¹•ä¸­é—´</td></tr><tr><td><code>L</code></td><td>è°ƒåˆ°å±å¹•ä¸‹æ–¹</td></tr><tr><td><code>:n</code></td><td>è·³åˆ°ç¬¬nè¡Œ</td></tr><tr><td><code>w</code></td><td>è·³åˆ°ä¸‹ä¸€ä¸ªå•è¯å¼€å¤´(æ ‡ç‚¹æˆ–ç©ºæ ¼åˆ†éš”çš„å•è¯)</td></tr><tr><td><code>W</code></td><td>è·³åˆ°ä¸‹ä¸€ä¸ªå•è¯å¼€å¤´(ç©ºæ ¼åˆ†éš”çš„å•è¯)</td></tr><tr><td><code>e</code></td><td>è·³åˆ°ä¸‹ä¸€ä¸ªå•è¯å°¾éƒ¨(æ ‡ç‚¹æˆ–ç©ºæ ¼åˆ†éš”çš„å•è¯)</td></tr><tr><td><code>E</code></td><td>è·³åˆ°ä¸‹ä¸€ä¸ªå•è¯å°¾éƒ¨(ç©ºæ ¼åˆ†éš”çš„å•è¯)</td></tr><tr><td><code>b</code></td><td>ä¸Šä¸€ä¸ªå•è¯å¤´(æ ‡ç‚¹æˆ–ç©ºæ ¼åˆ†éš”çš„å•è¯)</td></tr><tr><td><code>B</code></td><td>ä¸Šä¸€ä¸ªå•è¯å¤´(ç©ºæ ¼åˆ†éš”çš„å•è¯)</td></tr><tr><td><code>ge</code></td><td>ä¸Šä¸€ä¸ªå•è¯å°¾</td></tr><tr><td><code>%</code></td><td>åœ¨é…å¯¹ç¬¦é—´ç§»åŠ¨, å¯ç”¨äº()ã€{}ã€[]</td></tr><tr><td><code>gg</code></td><td>åˆ°æ–‡ä»¶é¦–</td></tr><tr><td><code>G</code></td><td>åˆ°æ–‡ä»¶å°¾</td></tr><tr><td><code>fx</code></td><td>è·³è½¬åˆ°ä¸‹ä¸€ä¸ªä¸ºxçš„å­—ç¬¦</td></tr><tr><td><code>Fx</code></td><td>è·³è½¬åˆ°ä¸Šä¸€ä¸ªä¸ºxçš„å­—ç¬¦</td></tr><tr><td><code>tx</code></td><td>è·³è½¬åˆ°ä¸‹ä¸€ä¸ªä¸ºxçš„å­—ç¬¦å‰</td></tr><tr><td><code>Tx</code></td><td>è·³è½¬åˆ°ä¸Šä¸€ä¸ªä¸ºxçš„å­—ç¬¦å‰</td></tr><tr><td><code>;</code></td><td>è·³åˆ°ä¸‹ä¸€ä¸ªæœç´¢çš„ç»“æœ</td></tr><tr><td><code>[[</code></td><td>è·³è½¬åˆ°å‡½æ•°å¼€å¤´</td></tr><tr><td><code>]]</code></td><td>è·³è½¬åˆ°å‡½æ•°ç»“å°¾</td></tr></tbody></table></div><h2 id="æ–‡æœ¬ç¼–è¾‘"><a href="#æ–‡æœ¬ç¼–è¾‘" class="headerlink" title="æ–‡æœ¬ç¼–è¾‘"></a>æ–‡æœ¬ç¼–è¾‘</h2><div class="table-container"><table><thead><tr><th>å¿«æ·é”®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>r</code></td><td>æ›¿æ¢å½“å‰å­—ç¬¦</td></tr><tr><td><code>R</code></td><td>è¿›å…¥æ›¿æ¢æ¨¡å¼ï¼Œç›´è‡³ ESC ç¦»å¼€</td></tr><tr><td><code>s</code></td><td>æ›¿æ¢å­—ç¬¦ï¼ˆåˆ é™¤å…‰æ ‡å¤„å­—ç¬¦ï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œå‰å¯æ¥æ•°é‡ï¼‰</td></tr><tr><td><code>S</code></td><td>æ›¿æ¢è¡Œï¼ˆåˆ é™¤å½“å‰è¡Œï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œå‰å¯æ¥æ•°é‡ï¼‰</td></tr><tr><td><code>cc</code></td><td>æ”¹å†™å½“å‰è¡Œï¼ˆåˆ é™¤å½“å‰è¡Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ï¼‰ï¼ŒåŒ S</td></tr><tr><td><code>cw</code></td><td>æ”¹å†™å…‰æ ‡å¼€å§‹å¤„çš„å½“å‰å•è¯</td></tr><tr><td><code>ciw</code></td><td>æ”¹å†™å…‰æ ‡æ‰€å¤„çš„å•è¯</td></tr><tr><td><code>caw</code></td><td>æ”¹å†™å…‰æ ‡æ‰€å¤„çš„å•è¯ï¼Œå¹¶ä¸”åŒ…æ‹¬å‰åç©ºæ ¼ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰</td></tr><tr><td><code>ct,</code></td><td>æ”¹å†™åˆ°é€—å·</td></tr><tr><td><code>c0</code></td><td>æ”¹å†™åˆ°è¡Œé¦–</td></tr><tr><td><code>c^</code></td><td>æ”¹å†™åˆ°è¡Œé¦–ï¼ˆç¬¬ä¸€ä¸ªéé›¶å­—ç¬¦ï¼‰</td></tr><tr><td><code>c$</code></td><td>æ”¹å†™åˆ°è¡Œæœ«</td></tr><tr><td><code>C</code></td><td>æ”¹å†™åˆ°è¡Œæœ«ï¼ˆåŒ c$ï¼‰</td></tr><tr><td><code>ci&quot;</code></td><td>æ”¹å†™åŒå¼•å·ä¸­çš„å†…å®¹</td></tr><tr><td><code>ci&#39;</code></td><td>æ”¹å†™å•å¼•å·ä¸­çš„å†…å®¹</td></tr><tr><td><code>ci)</code></td><td>æ”¹å†™å°æ‹¬å·ä¸­çš„å†…å®¹</td></tr><tr><td><code>ci]</code></td><td>æ”¹å†™ä¸­æ‹¬å·ä¸­å†…å®¹</td></tr><tr><td><code>ci&#125;</code></td><td>æ”¹å†™å¤§æ‹¬å·ä¸­å†…å®¹</td></tr><tr><td><code>cit</code></td><td>æ”¹å†™ xml tag ä¸­çš„å†…å®¹</td></tr><tr><td><code>cis</code></td><td>æ”¹å†™å½“å‰å¥å­</td></tr><tr><td><code>ciB</code></td><td>æ”¹å†™â€™{}â€™ä¸­çš„å†…å®¹</td></tr><tr><td><code>c2w</code></td><td>æ”¹å†™ä¸‹ä¸¤ä¸ªå•è¯</td></tr><tr><td><code>ct(</code></td><td>æ”¹å†™åˆ°å°æ‹¬å·å‰</td></tr><tr><td><code>x</code></td><td>åˆ é™¤å½“å‰å­—ç¬¦ï¼Œå‰é¢å¯ä»¥æ¥æ•°å­—ï¼Œ3xä»£è¡¨åˆ é™¤ä¸‰ä¸ªå­—ç¬¦</td></tr><tr><td><code>X</code></td><td>å‘å‰åˆ é™¤å­—ç¬¦</td></tr><tr><td><code>dd</code></td><td>åˆ é™¤å½“å‰è¡Œ</td></tr><tr><td><code>d0</code></td><td>åˆ é™¤åˆ°è¡Œé¦–</td></tr><tr><td><code>d^</code></td><td>åˆ é™¤åˆ°è¡Œé¦–ï¼ˆç¬¬ä¸€ä¸ªéé›¶å­—ç¬¦ï¼‰</td></tr><tr><td><code>d$</code></td><td>åˆ é™¤åˆ°è¡Œæœ«</td></tr><tr><td><code>D</code></td><td>åˆ é™¤åˆ°è¡Œæœ«ï¼ˆåŒ d$ï¼‰</td></tr><tr><td><code>dw</code></td><td>åˆ é™¤å½“å‰å•è¯</td></tr><tr><td><code>dt,</code></td><td>åˆ é™¤åˆ°é€—å·</td></tr><tr><td><code>diw</code></td><td>åˆ é™¤å…‰æ ‡æ‰€å¤„çš„å•è¯</td></tr><tr><td><code>daw</code></td><td>åˆ é™¤å…‰æ ‡æ‰€å¤„çš„å•è¯ï¼Œå¹¶åŒ…å«å‰åç©ºæ ¼ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰</td></tr><tr><td><code>di&quot;</code></td><td>åˆ é™¤åŒå¼•å·ä¸­çš„å†…å®¹</td></tr><tr><td><code>di&#39;</code></td><td>åˆ é™¤å•å¼•å·ä¸­çš„å†…å®¹</td></tr><tr><td><code>di)</code></td><td>åˆ é™¤å°æ‹¬å·ä¸­çš„å†…å®¹</td></tr><tr><td><code>di]</code></td><td>åˆ é™¤ä¸­æ‹¬å·ä¸­å†…å®¹</td></tr><tr><td><code>di&#125;</code></td><td>åˆ é™¤å¤§æ‹¬å·ä¸­å†…å®¹</td></tr><tr><td><code>diB</code></td><td>åˆ é™¤â€™{}â€™ä¸­çš„å†…å®¹</td></tr><tr><td><code>dit</code></td><td>åˆ é™¤ xml tag ä¸­çš„å†…å®¹</td></tr><tr><td><code>dis</code></td><td>åˆ é™¤å½“å‰å¥å­</td></tr><tr><td><code>d2w</code></td><td>åˆ é™¤ä¸‹ä¸¤ä¸ªå•è¯</td></tr><tr><td><code>dt(</code></td><td>åˆ é™¤åˆ°å°æ‹¬å·å‰</td></tr><tr><td><code>dgg</code></td><td>åˆ é™¤åˆ°æ–‡ä»¶å¤´éƒ¨</td></tr><tr><td><code>dG</code></td><td>åˆ é™¤åˆ°æ–‡ä»¶å°¾éƒ¨</td></tr><tr><td><code>d&#125;</code></td><td>åˆ é™¤ä¸‹ä¸€æ®µ</td></tr><tr><td><code>d&#123;</code></td><td>åˆ é™¤ä¸Šä¸€æ®µ</td></tr><tr><td><code>u</code></td><td>æ’¤é”€</td></tr><tr><td><code>U</code></td><td>æ’¤é”€æ•´è¡Œæ“ä½œ</td></tr><tr><td><code>CTRL-R</code></td><td>æ’¤é”€ä¸Šä¸€æ¬¡ u å‘½ä»¤</td></tr><tr><td><code>J</code></td><td>è¿æ¥è‹¥å¹²è¡Œ</td></tr><tr><td><code>gJ</code></td><td>è¿æ¥è‹¥å¹²è¡Œï¼Œåˆ é™¤ç©ºç™½å­—ç¬¦</td></tr><tr><td><code>.</code></td><td>é‡å¤ä¸Šä¸€æ¬¡æ“ä½œ</td></tr><tr><td><code>~</code></td><td>äº¤æ¢å¤§å°å†™</td></tr><tr><td><code>g~iw</code></td><td>æ›¿æ¢å½“å‰å•è¯çš„å¤§å°å†™</td></tr><tr><td><code>gUiw</code></td><td>å°†å•è¯è½¬æˆå¤§å†™</td></tr><tr><td><code>guiw</code></td><td>å°†å½“å‰å•è¯è½¬æˆå°å†™</td></tr><tr><td><code>guu</code></td><td>å…¨è¡Œè½¬ä¸ºå°å†™</td></tr><tr><td><code>gUU</code></td><td>å…¨è¡Œè½¬ä¸ºå¤§å†™</td></tr><tr><td><code>gg=G</code></td><td>ç¼©è¿›æ•´ä¸ªæ–‡ä»¶</td></tr><tr><td><code>=a&#123;</code></td><td>ç¼©è¿›å…‰æ ‡æ‰€åœ¨ä»£ç å—</td></tr><tr><td><code>=i&#123;</code></td><td>ç¼©è¿›å…‰æ ‡æ‰€åœ¨ä»£ç å—ï¼Œä¸ç¼©è¿›â€{â€œ</td></tr><tr><td><code>&lt;&lt;</code></td><td>å‡å°‘ç¼©è¿›</td></tr><tr><td><code>&gt;&gt;</code></td><td>å¢åŠ ç¼©è¿›</td></tr><tr><td><code>==</code></td><td>è‡ªåŠ¨ç¼©è¿›</td></tr><tr><td><code>CTRL-A</code></td><td>å¢åŠ æ•°å­—</td></tr><tr><td><code>CTRL-X</code></td><td>å‡å°‘æ•°å­—</td></tr><tr><td><code>p</code></td><td>ç²˜è´´åˆ°å…‰æ ‡å</td></tr><tr><td><code>P</code></td><td>ç²˜è´´åˆ°å…‰æ ‡å‰</td></tr><tr><td><code>v</code></td><td>å¼€å§‹æ ‡è®°</td></tr><tr><td><code>y</code></td><td>å¤åˆ¶æ ‡è®°å†…å®¹</td></tr><tr><td><code>V</code></td><td>å¼€å§‹æŒ‰è¡Œæ ‡è®°</td></tr><tr><td><code>CTRL-V</code></td><td>å¼€å§‹åˆ—æ ‡è®°</td></tr><tr><td><code>y$</code></td><td>å¤åˆ¶å½“å‰ä½ç½®åˆ°æœ¬è¡Œç»“æŸçš„å†…å®¹</td></tr><tr><td><code>yy</code></td><td>å¤åˆ¶å½“å‰è¡Œ</td></tr><tr><td><code>Y</code></td><td>å¤åˆ¶å½“å‰è¡Œï¼ŒåŒ yy</td></tr><tr><td><code>yt,</code></td><td>å¤åˆ¶åˆ°é€—å·</td></tr><tr><td><code>yiw</code></td><td>å¤åˆ¶å½“å‰å•è¯</td></tr><tr><td><code>&quot;+y</code></td><td>å¤åˆ¶å½“å‰é€‰ä¸­åˆ°ç³»ç»Ÿå‰ªåˆ‡æ¿</td></tr><tr><td><code>3yy</code></td><td>å¤åˆ¶å…‰æ ‡ä¸‹ä¸‰è¡Œå†…å®¹</td></tr><tr><td><code>v0</code></td><td>é€‰ä¸­å½“å‰ä½ç½®åˆ°è¡Œé¦–</td></tr><tr><td><code>v$</code></td><td>é€‰ä¸­å½“å‰ä½ç½®åˆ°è¡Œæœ«</td></tr><tr><td><code>vt,</code></td><td>é€‰ä¸­åˆ°é€—å·</td></tr><tr><td><code>viw</code></td><td>é€‰ä¸­å½“å‰å•è¯</td></tr><tr><td><code>vi)</code></td><td>é€‰ä¸­å°æ‹¬å·å†…çš„ä¸œè¥¿</td></tr><tr><td><code>vi]</code></td><td>é€‰ä¸­ä¸­æ‹¬å·å†…çš„ä¸œè¥¿</td></tr><tr><td><code>viB</code></td><td>é€‰ä¸­â€™{}â€™ä¸­çš„å†…å®¹</td></tr><tr><td><code>vis</code></td><td>é€‰ä¸­å¥å­ä¸­çš„ä¸œè¥¿</td></tr><tr><td><code>gv</code></td><td>é‡æ–°é€‰æ‹©ä¸Šä¸€æ¬¡é€‰ä¸­çš„æ–‡å­—</td></tr><tr><td><code>:set paste</code></td><td>å…è®¸ç²˜è´´æ¨¡å¼ï¼ˆé¿å…ç²˜è´´æ—¶è‡ªåŠ¨ç¼©è¿›å½±å“æ ¼å¼ï¼‰</td></tr><tr><td><code>:set nopaste</code></td><td>ç¦æ­¢ç²˜è´´æ¨¡å¼</td></tr><tr><td><code>&quot;?yy</code></td><td>å¤åˆ¶å½“å‰è¡Œåˆ°å¯„å­˜å™¨ ? ï¼Œé—®å·ä»£è¡¨ 0-9 çš„å¯„å­˜å™¨åç§°</td></tr><tr><td><code>&quot;?p</code></td><td>å°†å¯„å­˜å™¨ ? çš„å†…å®¹ç²˜è´´åˆ°å…‰æ ‡å</td></tr><tr><td><code>&quot;?P</code></td><td>å°†å¯„å­˜å™¨ ? çš„å†…å®¹ç²˜è´´åˆ°å…‰æ ‡å‰</td></tr><tr><td><code>:registers</code></td><td>æ˜¾ç¤ºæ‰€æœ‰å¯„å­˜å™¨å†…å®¹</td></tr><tr><td><code>:[range]y</code></td><td>å¤åˆ¶èŒƒå›´ï¼Œæ¯”å¦‚ :20,30y æ˜¯å¤åˆ¶20åˆ°30è¡Œï¼Œ:10y æ˜¯å¤åˆ¶ç¬¬åè¡Œ</td></tr><tr><td><code>:[range]d</code></td><td>åˆ é™¤èŒƒå›´ï¼Œæ¯”å¦‚ :20,30d æ˜¯åˆ é™¤20åˆ°30è¡Œï¼Œ:10d æ˜¯åˆ é™¤ç¬¬åè¡Œ</td></tr><tr><td><code>ddp</code></td><td>äº¤æ¢ä¸¤è¡Œå†…å®¹ï¼šå…ˆåˆ é™¤å½“å‰è¡Œå¤åˆ¶åˆ°å¯„å­˜å™¨ï¼Œå¹¶ç²˜è´´</td></tr></tbody></table></div><h2 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h2><div class="table-container"><table><thead><tr><th>å¿«æ·é”®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>:w</code></td><td>ä¿å­˜æ–‡ä»¶</td></tr><tr><td><code>:w &lt;filename&gt;</code></td><td>æŒ‰åç§°ä¿å­˜æ–‡ä»¶</td></tr><tr><td><code>ZZ</code></td><td>ä¿å­˜æ–‡ä»¶ï¼ˆå¦‚æœæœ‰æ”¹åŠ¨çš„è¯ï¼‰ï¼Œå¹¶å…³é—­çª—å£</td></tr><tr><td><code>:e &lt;filename&gt;</code></td><td>æ‰“å¼€æ–‡ä»¶å¹¶ç¼–è¾‘</td></tr><tr><td><code>:saveas &lt;filename&gt;</code></td><td>å¦å­˜ä¸ºæ–‡ä»¶</td></tr><tr><td><code>:r &lt;filename&gt;</code></td><td>è¯»å–æ–‡ä»¶å¹¶å°†å†…å®¹æ’å…¥åˆ°å…‰æ ‡å</td></tr><tr><td><code>:r !dir</code></td><td>å°†dirå‘½ä»¤çš„è¾“å‡ºæ•è·å¹¶æ’å…¥åˆ°å…‰æ ‡å</td></tr><tr><td><code>:close</code></td><td>å…³é—­æ–‡ä»¶</td></tr><tr><td><code>:q</code></td><td>é€€å‡º</td></tr><tr><td><code>:q!</code></td><td>å¼ºåˆ¶é€€å‡º</td></tr><tr><td><code>:wa</code></td><td>ä¿å­˜æ‰€æœ‰æ–‡ä»¶</td></tr><tr><td><code>:cd &lt;path&gt;</code></td><td>åˆ‡æ¢Vimå½“å‰è·¯å¾„</td></tr><tr><td><code>:new</code></td><td>æ‰“å¼€ä¸€ä¸ªæ–°çš„çª—å£ç¼–è¾‘æ–°æ–‡ä»¶</td></tr><tr><td><code>:enew</code></td><td>åœ¨å½“å‰çª—å£åˆ›å»ºæ–°æ–‡ä»¶</td></tr><tr><td><code>:vnew</code></td><td>åœ¨å·¦å³åˆ‡åˆ†çš„æ–°çª—å£ä¸­ç¼–è¾‘æ–°æ–‡ä»¶</td></tr><tr><td><code>:tabnew</code></td><td>åœ¨æ–°çš„æ ‡ç­¾é¡µä¸­ç¼–è¾‘æ–°æ–‡ä»¶</td></tr></tbody></table></div><h2 id="å®ç”¨å‘½ä»¤"><a href="#å®ç”¨å‘½ä»¤" class="headerlink" title="å®ç”¨å‘½ä»¤"></a>å®ç”¨å‘½ä»¤</h2><div class="table-container"><table><thead><tr><th>å¿«æ·é”®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>/pattern</code></td><td>ä»å…‰æ ‡å¤„å‘æ–‡ä»¶å°¾æœç´¢ pattern</td></tr><tr><td><code>?pattern</code></td><td>ä»å…‰æ ‡å¤„å‘æ–‡ä»¶å¤´æœç´¢ pattern</td></tr><tr><td><code>n</code></td><td>å‘åŒä¸€æ–¹å‘æ‰§è¡Œä¸Šä¸€æ¬¡æœç´¢</td></tr><tr><td><code>N</code></td><td>å‘ç›¸åæ–¹å‘æ‰§è¡Œä¸Šä¸€æ¬¡æœç´¢</td></tr><tr><td><code>*</code></td><td>å‘å‰æœç´¢å…‰æ ‡ä¸‹çš„å•è¯</td></tr><tr><td><code>#</code></td><td>å‘åæœç´¢å…‰æ ‡ä¸‹çš„å•è¯</td></tr><tr><td><code>:s/p1/p2/g</code></td><td>æ›¿æ¢å½“å‰è¡Œçš„p1ä¸ºp2</td></tr><tr><td><code>:%s/p1/p2/g</code></td><td>æ›¿æ¢å½“å‰æ–‡ä»¶ä¸­çš„p1ä¸ºp2</td></tr><tr><td><code>:%s/&lt;p1&gt;/p2/g</code></td><td>æ›¿æ¢å½“å‰æ–‡ä»¶ä¸­çš„p1å•è¯ä¸ºp2</td></tr><tr><td><code>:%s/p1/p2/gc</code></td><td>æ›¿æ¢å½“å‰æ–‡ä»¶ä¸­çš„p1ä¸ºp2ï¼Œå¹¶ä¸”æ¯å¤„è¯¢é—®ä½ æ˜¯å¦æ›¿æ¢</td></tr><tr><td><code>:10,20s/p1/p2/g</code></td><td>å°†ç¬¬10åˆ°20è¡Œä¸­æ‰€æœ‰p1æ›¿æ¢ä¸ºp2</td></tr><tr><td><code>:%s/1\\2\/3/123/g</code></td><td>å°†â€œ1\2/3â€ æ›¿æ¢ä¸º â€œ123â€ï¼ˆç‰¹æ®Šå­—ç¬¦ä½¿ç”¨åæ–œæ æ ‡æ³¨ï¼‰</td></tr><tr><td><code>:%s/\r//g</code></td><td>åˆ é™¤ DOS æ¢è¡Œç¬¦ ^M</td></tr><tr><td><code>:g/^\s*$/d</code></td><td>åˆ é™¤ç©ºè¡Œ</td></tr><tr><td><code>:g/test/d</code></td><td>åˆ é™¤æ‰€æœ‰åŒ…å« test çš„è¡Œ</td></tr><tr><td><code>:v/test/d</code></td><td>åˆ é™¤æ‰€æœ‰ä¸åŒ…å« test çš„è¡Œ</td></tr><tr><td><code>:%s/^/test/</code></td><td>åœ¨è¡Œé¦–åŠ å…¥ç‰¹å®šå­—ç¬¦(ä¹Ÿå¯ä»¥ç”¨å®å½•åˆ¶æ¥æ·»åŠ )</td></tr><tr><td><code>:%s/$/test/</code></td><td>åœ¨è¡Œå°¾åŠ å…¥ç‰¹å®šå­—ç¬¦(ä¹Ÿå¯ä»¥ç”¨å®å½•åˆ¶æ¥æ·»åŠ )</td></tr><tr><td><code>:sort</code></td><td>æ’åº</td></tr><tr><td><code>:g/^\(.\+\)$\n\1/d</code></td><td>å»é™¤é‡å¤è¡Œ(å…ˆæ’åº)</td></tr><tr><td><code>:%s/^.\&#123;10\&#125;//</code></td><td>åˆ é™¤æ¯è¡Œå‰10ä¸ªå­—ç¬¦</td></tr><tr><td><code>:%s/.\&#123;10\&#125;$//</code></td><td>åˆ é™¤æ¯è¡Œå°¾10ä¸ªå­—ç¬¦</td></tr></tbody></table></div><h2 id="å¸®åŠ©"><a href="#å¸®åŠ©" class="headerlink" title="å¸®åŠ©"></a>å¸®åŠ©</h2><div class="table-container"><table><thead><tr><th>å¿«æ·é”®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>h tutor</code></td><td>å…¥é—¨æ–‡æ¡£</td></tr><tr><td><code>h quickref</code></td><td>å¿«é€Ÿå¸®åŠ©</td></tr><tr><td><code>h index</code></td><td>æŸ¥è¯¢Vimæ‰€æœ‰é”®ç›˜å‘½ä»¤å®šä¹‰</td></tr><tr><td><code>h description</code></td><td>å¸®åŠ©ä½ æ›´å¥½çš„ä½¿ç”¨å†…ç½®å¸®åŠ©ç³»ç»Ÿ</td></tr><tr><td><code>h pattern.txt</code></td><td>æ­£åˆ™è¡¨è¾¾å¼å¸®åŠ©</td></tr><tr><td><code>h eval</code></td><td>è„šæœ¬ç¼–å†™å¸®åŠ©</td></tr><tr><td><code>h function-list</code></td><td>æŸ¥çœ‹VimScriptçš„å‡½æ•°åˆ—è¡¨</td></tr><tr><td><code>h windows.txt</code></td><td>çª—å£ä½¿ç”¨å¸®åŠ©</td></tr><tr><td><code>h tabpage.txt</code></td><td>æ ‡ç­¾é¡µä½¿ç”¨å¸®åŠ©</td></tr><tr><td><code>h tips</code></td><td>æŸ¥çœ‹Vimå†…ç½®çš„å¸¸ç”¨æŠ€å·§æ–‡æ¡£</td></tr><tr><td><code>h quote</code></td><td>å¯„å­˜å™¨</td></tr><tr><td><code>h autocommand-events</code></td><td>æ‰€æœ‰å¯èƒ½äº‹ä»¶</td></tr><tr><td><code>h write-plugin</code></td><td>ç¼–å†™æ’ä»¶</td></tr></tbody></table></div><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><div class="table-container"><table><thead><tr><th>å¿«æ·é”®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>vim -u NONE -N</code></td><td>å¼€å¯vimæ—¶ä¸åŠ è½½vimrcæ–‡ä»¶</td></tr><tr><td><code>vimdiff file1 file2</code></td><td>æ˜¾ç¤ºæ–‡ä»¶å·®å¼‚</td></tr><tr><td><code>vim -R filename</code></td><td>ä»¥åªè¯»æ–¹å¼æ‰“å¼€ï¼ˆé˜…è¯»æ¨¡å¼ï¼‰</td></tr></tbody></table></div>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vim </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Arduinoç§»æ¤LVGL</title>
      <link href="/2021/12/15/LittlePC-Clock/Arduino%E7%A7%BB%E6%A4%8DLVGL/"/>
      <url>/2021/12/15/LittlePC-Clock/Arduino%E7%A7%BB%E6%A4%8DLVGL/</url>
      
        <content type="html"><![CDATA[<p>ä»¥ LVGL 7.11ç‰ˆæœ¬ä¸ºä¾‹</p><h2 id="ğŸš€èµ„æºä¸‹è½½"><a href="#ğŸš€èµ„æºä¸‹è½½" class="headerlink" title="ğŸš€èµ„æºä¸‹è½½"></a>ğŸš€èµ„æºä¸‹è½½</h2><p><a href="https://github.com/lvgl/lvgl/tree/release/v7">LVGL v7</a></p><p><a href="https://github.com/lvgl/lv_demos/tree/release/v7">lv_demos v7</a></p><p><a href="https://www.aliyundrive.com/s/PNLDYfUxQQT">TFT_eSPI</a></p><h2 id="ğŸš€ç¯å¢ƒé…ç½®"><a href="#ğŸš€ç¯å¢ƒé…ç½®" class="headerlink" title="ğŸš€ç¯å¢ƒé…ç½®"></a>ğŸš€ç¯å¢ƒé…ç½®</h2><p>é¦–å…ˆï¼Œç”¨ VSCode æ–°å»ºä¸€ä¸ª Arduino å·¥ç¨‹ã€‚</p><p>å°†ä¸Šé¢ä¸‹è½½çš„ä¸‰ä¸ªæ–‡ä»¶å¤¹å¤åˆ¶åˆ°å·¥ç¨‹çš„ lib ç›®å½•ä¸­ã€‚</p><p><img src="../../images/Arduinoç§»æ¤LVGL/202204042140441.png" alt="å›¾1"></p><p>å°† lvgl ç›®å½•ä¸­çš„ lv_conf_template.h å¤åˆ¶åˆ°è¿™ä¸ªç›®å½•ï¼Œå¹¶å°†åå­—æ”¹æˆ lv_conf.h ã€‚</p><p>å°† lv_demos ç›®å½•ä¸­çš„ lv_ex_conf_template.h å¤åˆ¶åˆ°è¿™ä¸ªç›®å½•ï¼Œå¹¶å°†åå­—æ”¹æˆ lv_ex_conf.h ã€‚</p><p><img src="../../images/Arduinoç§»æ¤LVGL/202204042140285.png" alt="å›¾2"></p><p>å°† lv_conf.h ä¸ lv_ex_conf.h é‡Œé¢çš„ #if 0 æ”¹æˆ #if 1 ã€‚</p><p><img src="../../images/Arduinoç§»æ¤LVGL/202204042140331.png" alt="å›¾3"></p><p>è¿›å…¥ lv_conf.h ï¼Œä¿®æ”¹å±å¹•çš„å¤§å°ã€‚å¹¶ä½¿èƒ½ç”¨æˆ·æ—¶é’Ÿæºã€‚</p><p><img src="../../images/Arduinoç§»æ¤LVGL/202204042140387.png" alt="å›¾4"></p><p><img src="../../images/Arduinoç§»æ¤LVGL/202204042140420.png" alt="å›¾5"></p><p>è¿›å…¥ lv_ex_conf.h ï¼Œä½¿èƒ½ç›¸åº”çš„ demo ä¸º 1 ã€‚</p><p><img src="../../images/Arduinoç§»æ¤LVGL/202204042140438.png" alt="å›¾6"></p><h2 id="ğŸš€éªŒè¯ç¨‹åº"><a href="#ğŸš€éªŒè¯ç¨‹åº" class="headerlink" title="ğŸš€éªŒè¯ç¨‹åº"></a>ğŸš€éªŒè¯ç¨‹åº</h2><p>å°†ä¸‹é¢çš„ä»£ç å¤åˆ¶åˆ° main.cpp ä¸­ç¼–è¯‘ä¸‹è½½ï¼Œçœ‹çœ‹æ˜¯å¦å¯ä»¥æ­£ç¡®è¿è¡Œã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Arduino.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;lvgl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;TFT_eSPI.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;lv_examples.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">TFT_eSPI tft = TFT_eSPI(); <span class="comment">/* TFT instance */</span></span><br><span class="line"><span class="type">static</span> <span class="type">lv_disp_buf_t</span> disp_buf;</span><br><span class="line"><span class="type">static</span> <span class="type">lv_color_t</span> buf[LV_HOR_RES_MAX * <span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Display flushing */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">my_disp_flush</span><span class="params">(<span class="type">lv_disp_drv_t</span> *disp, <span class="type">const</span> <span class="type">lv_area_t</span> *area, <span class="type">lv_color_t</span> *color_p)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">uint32_t</span> w = (area-&gt;x2 - area-&gt;x1 + <span class="number">1</span>);</span><br><span class="line">    <span class="type">uint32_t</span> h = (area-&gt;y2 - area-&gt;y1 + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    tft.startWrite();</span><br><span class="line">    tft.setAddrWindow(area-&gt;x1, area-&gt;y1, w, h);</span><br><span class="line">    tft.pushColors(&amp;color_p-&gt;full, w * h, <span class="literal">true</span>);</span><br><span class="line">    tft.endWrite();</span><br><span class="line"></span><br><span class="line">    lv_disp_flush_ready(disp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    Serial.begin(<span class="number">115200</span>); <span class="comment">/* prepare for possible serial debug */</span></span><br><span class="line"></span><br><span class="line">    lv_init();</span><br><span class="line"></span><br><span class="line">    tft.begin(); <span class="comment">/* TFT init */</span></span><br><span class="line">    tft.setRotation(<span class="number">4</span>); <span class="comment">/* Landscape orientation */</span></span><br><span class="line"></span><br><span class="line">    lv_disp_buf_init(&amp;disp_buf, buf, <span class="literal">NULL</span>, LV_HOR_RES_MAX * <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*Initialize the display*/</span></span><br><span class="line">    <span class="type">lv_disp_drv_t</span> disp_drv;</span><br><span class="line">    lv_disp_drv_init(&amp;disp_drv);</span><br><span class="line">    disp_drv.hor_res = <span class="number">240</span>;</span><br><span class="line">    disp_drv.ver_res = <span class="number">240</span>;</span><br><span class="line">    disp_drv.flush_cb = my_disp_flush;</span><br><span class="line">    disp_drv.buffer = &amp;disp_buf;</span><br><span class="line">    lv_disp_drv_register(&amp;disp_drv);</span><br><span class="line"></span><br><span class="line">    lv_demo_benchmark();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    lv_task_handler(); <span class="comment">/* let the GUI do its work */</span></span><br><span class="line">    delay(<span class="number">5</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> LittlePC-Clock </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Arduino </tag>
            
            <tag> ESP32 </tag>
            
            <tag> LVGL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TFT_eSPIåº“çš„ä½¿ç”¨</title>
      <link href="/2021/12/13/LittlePC-Clock/TFT-eSPI%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2021/12/13/LittlePC-Clock/TFT-eSPI%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸš€ç¡¬ä»¶å‡†å¤‡"><a href="#ğŸš€ç¡¬ä»¶å‡†å¤‡" class="headerlink" title="ğŸš€ç¡¬ä»¶å‡†å¤‡"></a>ğŸš€ç¡¬ä»¶å‡†å¤‡</h2><p>ä»¥åˆ†è¾¨ç‡ä¸º 240x240 çš„ SPI æ¥å£çš„ TFT å±å¹•ä¸ºä¾‹ï¼Œå…¶é©±åŠ¨èŠ¯ç‰‡ä¸ºST7789ï¼Œä¸ESP32çš„ç¡¬ä»¶è¿æ¥å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="../../images/TFT-eSPIåº“çš„ä½¿ç”¨/202204042140386.png" alt="ç¡¬ä»¶è¿æ¥"></p><p>å…¶ä¸­ DC æ¥åˆ°äº†IO2ã€RES æ¥åˆ°äº† IO4ã€MOSI æ¥åˆ°äº† IO23ã€SCK æ¥åˆ°äº† IO18ã€‚</p><h2 id="ğŸš€User-Setup-h-æ–‡ä»¶çš„ä¿®æ”¹"><a href="#ğŸš€User-Setup-h-æ–‡ä»¶çš„ä¿®æ”¹" class="headerlink" title="ğŸš€User_Setup.h æ–‡ä»¶çš„ä¿®æ”¹"></a>ğŸš€User_Setup.h æ–‡ä»¶çš„ä¿®æ”¹</h2><p>é¦–å…ˆé€‰æ‹©å¯¹åº”çš„é©±åŠ¨èŠ¯ç‰‡ï¼Œå–æ¶ˆå…¶å®å®šä¹‰çš„æ³¨é‡Šã€‚</p><h2 id="ğŸš€User-Setup-Select-hæ–‡ä»¶çš„ä¿®æ”¹"><a href="#ğŸš€User-Setup-Select-hæ–‡ä»¶çš„ä¿®æ”¹" class="headerlink" title="ğŸš€User_Setup_Select.hæ–‡ä»¶çš„ä¿®æ”¹"></a>ğŸš€User_Setup_Select.hæ–‡ä»¶çš„ä¿®æ”¹</h2><p>ç„¶åè¿›å…¥ User_Setup_Select.h ï¼Œæ‰¾åˆ°å¯¹åº”åˆ†è¾¨ç‡å’Œé©±åŠ¨èŠ¯ç‰‡çš„å¤´æ–‡ä»¶ï¼Œå–æ¶ˆå…¶æ³¨é‡Šã€‚</p><p>æœ¬æ¬¡é€‰æ‹©çš„æ˜¯ Setup24_ST7789.h</p><h2 id="ğŸš€Setup24-ST7789-hæ–‡ä»¶çš„ä¿®æ”¹"><a href="#ğŸš€Setup24-ST7789-hæ–‡ä»¶çš„ä¿®æ”¹" class="headerlink" title="ğŸš€Setup24_ST7789.hæ–‡ä»¶çš„ä¿®æ”¹"></a>ğŸš€Setup24_ST7789.hæ–‡ä»¶çš„ä¿®æ”¹</h2><p>è¿›å…¥ User_Setups ç›®å½•ï¼Œæ‰¾åˆ°å¹¶æ‰“å¼€ Setup24_ST7789.h ã€‚</p><p>ä¿®æ”¹åˆ†è¾¨ç‡å’Œå¼•è„šå³å¯ã€‚</p><h2 id="ğŸš€æµ‹è¯•ä¾‹ç¨‹"><a href="#ğŸš€æµ‹è¯•ä¾‹ç¨‹" class="headerlink" title="ğŸš€æµ‹è¯•ä¾‹ç¨‹"></a>ğŸš€æµ‹è¯•ä¾‹ç¨‹</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;TFT_eSPI.h&gt;</span> </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;SPI.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">TFT_eSPI tft = TFT_eSPI();  <span class="comment">// Invoke custom library</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">  tft.init();</span><br><span class="line">  tft.fillScreen(TFT_BLACK);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Set &quot;cursor&quot; at top left corner of display (0,0) and select font 4</span></span><br><span class="line">  tft.setCursor(<span class="number">0</span>, <span class="number">0</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Set the font colour to be white with a black background</span></span><br><span class="line">  tft.setTextColor(TFT_WHITE, TFT_BLACK);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// We can now plot text on screen using the &quot;print&quot; class</span></span><br><span class="line">  tft.println(<span class="string">&quot;Initialised default\n&quot;</span>);</span><br><span class="line">  tft.println(<span class="string">&quot;White text&quot;</span>);</span><br><span class="line">  </span><br><span class="line">  tft.setTextColor(TFT_RED, TFT_BLACK);</span><br><span class="line">  tft.println(<span class="string">&quot;Red text&quot;</span>);</span><br><span class="line">  </span><br><span class="line">  tft.setTextColor(TFT_GREEN, TFT_BLACK);</span><br><span class="line">  tft.println(<span class="string">&quot;Green text&quot;</span>);</span><br><span class="line">  </span><br><span class="line">  tft.setTextColor(TFT_BLUE, TFT_BLACK);</span><br><span class="line">  tft.println(<span class="string">&quot;Blue text&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span> &#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> LittlePC-Clock </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Arduino </tag>
            
            <tag> ESP32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ESP32é—ªå­˜æ–‡ä»¶ç³»ç»ŸåŸºæœ¬æ“ä½œ</title>
      <link href="/2021/12/13/LittlePC-Clock/ESP32%E9%97%AA%E5%AD%98%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"/>
      <url>/2021/12/13/LittlePC-Clock/ESP32%E9%97%AA%E5%AD%98%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<p>å‚è€ƒèµ„æ–™ï¼š<a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/spiffs/spiffs-operation/">ESP8266é—ªå­˜æ–‡ä»¶ç³»ç»ŸåŸºæœ¬æ“ä½œ â€“ å¤ªæåˆ›å®¢</a></p><p>æ¯ä¸€ä¸ªESP8266éƒ½é…æœ‰ä¸€ä¸ªé—ªå­˜ï¼Œè¿™ä¸ªé—ªå­˜å¾ˆåƒæ˜¯ä¸€ä¸ªå°ç¡¬ç›˜ï¼Œæˆ‘ä»¬ä¸Šä¼ çš„æ–‡ä»¶å°±è¢«å­˜æ”¾åœ¨è¿™ä¸ªé—ªå­˜é‡Œã€‚è¿™ä¸ªé—ªå­˜çš„å…¨ç§°æ˜¯Serial Peripheral Interface Flash File Systemï¼ˆSPIFFSï¼‰ã€‚</p><p>é™¤äº†å¯ä»¥å­˜æ”¾ä¸Šä¼ çš„ç¨‹åºä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°†ç½‘é¡µæ–‡ä»¶æˆ–è€…ç³»ç»Ÿé…ç½®æ–‡ä»¶å­˜æ”¾åœ¨ESP8266çš„é—ªå­˜ä¸­ã€‚</p><h2 id="ğŸš€éœ€è¦çš„å¤´æ–‡ä»¶"><a href="#ğŸš€éœ€è¦çš„å¤´æ–‡ä»¶" class="headerlink" title="ğŸš€éœ€è¦çš„å¤´æ–‡ä»¶"></a>ğŸš€éœ€è¦çš„å¤´æ–‡ä»¶</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;FS.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;SPIFFS.h&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="ğŸš€æ ¼å¼åŒ–é—ªå­˜ç³»ç»Ÿ"><a href="#ğŸš€æ ¼å¼åŒ–é—ªå­˜ç³»ç»Ÿ" class="headerlink" title="ğŸš€æ ¼å¼åŒ–é—ªå­˜ç³»ç»Ÿ"></a>ğŸš€æ ¼å¼åŒ–é—ªå­˜ç³»ç»Ÿ</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Serial.println(<span class="string">&quot;SPIFFS format start&quot;</span>);</span><br><span class="line">SPIFFS.format();    <span class="comment">// æ ¼å¼åŒ–SPIFFS</span></span><br><span class="line">Serial.println(<span class="string">&quot;SPIFFS format finish&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="ğŸš€å¯åŠ¨é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ"><a href="#ğŸš€å¯åŠ¨é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="ğŸš€å¯åŠ¨é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ"></a>ğŸš€å¯åŠ¨é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(SPIFFS.begin())&#123; <span class="comment">// å¯åŠ¨é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">Serial.println(<span class="string">&quot;SPIFFS Started.&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">Serial.println(<span class="string">&quot;SPIFFS Failed to Start.&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ğŸš€æ‰“å°ç›®å½•ä¸­çš„æ‰€æœ‰çš„æ–‡ä»¶ååŠæ–‡ä»¶å¤§å°"><a href="#ğŸš€æ‰“å°ç›®å½•ä¸­çš„æ‰€æœ‰çš„æ–‡ä»¶ååŠæ–‡ä»¶å¤§å°" class="headerlink" title="ğŸš€æ‰“å°ç›®å½•ä¸­çš„æ‰€æœ‰çš„æ–‡ä»¶ååŠæ–‡ä»¶å¤§å°"></a>ğŸš€æ‰“å°ç›®å½•ä¸­çš„æ‰€æœ‰çš„æ–‡ä»¶ååŠæ–‡ä»¶å¤§å°</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">fileInfo</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *dirName)</span></span><br><span class="line">&#123;</span><br><span class="line">    File dir = SPIFFS.open(dirName);</span><br><span class="line">    Serial.<span class="built_in">printf</span>(<span class="string">&quot;Listing directory: %s\r\n&quot;</span>, dirName);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(!dir)&#123;</span><br><span class="line">        Serial.println(<span class="string">&quot;- failed to open directory&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    File file = dir.openNextFile();</span><br><span class="line">    <span class="keyword">while</span>(file)&#123;</span><br><span class="line">        <span class="keyword">if</span>(file.isDirectory())&#123;</span><br><span class="line">            Serial.print(<span class="string">&quot;  DIR : &quot;</span>);</span><br><span class="line">            Serial.println(file.name());           </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            Serial.print(<span class="string">&quot;  FILE: &quot;</span>);</span><br><span class="line">            Serial.print(file.name());</span><br><span class="line">            Serial.print(<span class="string">&quot;\tSIZE: &quot;</span>);</span><br><span class="line">            Serial.println(file.size());</span><br><span class="line">        &#125;</span><br><span class="line">        file = dir.openNextFile();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ğŸš€å°†é…ç½®æ–‡ä»¶å†™å…¥åˆ°é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ"><a href="#ğŸš€å°†é…ç½®æ–‡ä»¶å†™å…¥åˆ°é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="ğŸš€å°†é…ç½®æ–‡ä»¶å†™å…¥åˆ°é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ"></a>ğŸš€å°†é…ç½®æ–‡ä»¶å†™å…¥åˆ°é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">String file_name = <span class="string">&quot;/config.txt&quot;</span>;       <span class="comment">//é…ç½®æ–‡ä»¶å</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">writeConfigFile</span><span class="params">(<span class="type">char</span> *config)</span></span><br><span class="line">&#123;</span><br><span class="line">    File file = SPIFFS.open(file_name, <span class="string">&quot;w&quot;</span>);      </span><br><span class="line">    <span class="keyword">if</span>(!file)&#123;</span><br><span class="line">        Serial.println(<span class="string">&quot;- failed to open file for writing&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(file.print(config))&#123;</span><br><span class="line">        Serial.println(<span class="string">&quot;- file write success&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        Serial.println(<span class="string">&quot;- file write failed&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å°æ ¹ç›®å½•ä¸­æ–‡ä»¶å†…å®¹ä»¥åŠæ–‡ä»¶å¤§å°</span></span><br><span class="line">    fileInfo(<span class="string">&quot;/&quot;</span>);</span><br><span class="line"></span><br><span class="line">    file.close();  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ğŸš€è¯»å–é…ç½®æ–‡ä»¶å¹¶å­˜å‚¨åˆ°ç›¸åº”å†…å­˜ä¸­"><a href="#ğŸš€è¯»å–é…ç½®æ–‡ä»¶å¹¶å­˜å‚¨åˆ°ç›¸åº”å†…å­˜ä¸­" class="headerlink" title="ğŸš€è¯»å–é…ç½®æ–‡ä»¶å¹¶å­˜å‚¨åˆ°ç›¸åº”å†…å­˜ä¸­"></a>ğŸš€è¯»å–é…ç½®æ–‡ä»¶å¹¶å­˜å‚¨åˆ°ç›¸åº”å†…å­˜ä¸­</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">String file_name = <span class="string">&quot;/config.txt&quot;</span>;       <span class="comment">//é…ç½®æ–‡ä»¶å</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">readConfigFile</span><span class="params">(<span class="type">char</span> *config)</span></span><br><span class="line">&#123; </span><br><span class="line">    File file = SPIFFS.open(file_name, <span class="string">&quot;r&quot;</span>);</span><br><span class="line">    <span class="comment">//è¯»å–æ–‡ä»¶å†…å®¹å¹¶ä¸”é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºæ–‡ä»¶ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;file.size(); i++)&#123;</span><br><span class="line">        config[i] = (<span class="type">char</span>)file.read(); </span><br><span class="line">        Serial.print(config[i]);      </span><br><span class="line">    &#125;</span><br><span class="line">    Serial.println();</span><br><span class="line">    file.close();  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> LittlePC-Clock </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Arduino </tag>
            
            <tag> ESP32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤©æ°”æ—¶é’Ÿ-å­¦ä¹ èµ„æ–™æ±‡æ€»</title>
      <link href="/2021/11/16/LittlePC-Clock/%E5%A4%A9%E6%B0%94%E6%97%B6%E9%92%9F-%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%E6%B1%87%E6%80%BB/"/>
      <url>/2021/11/16/LittlePC-Clock/%E5%A4%A9%E6%B0%94%E6%97%B6%E9%92%9F-%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%E6%B1%87%E6%80%BB/</url>
      
        <content type="html"><![CDATA[<p>å¤ªæåˆ›å®¢å®˜ç½‘é¦–é¡µï¼š<a href="http://www.taichi-maker.com/">http://www.taichi-maker.com/</a></p><p>å®‰ä¿¡å¯ç§‘æŠ€å®˜ç½‘é¦–é¡µï¼š<a href="https://www.ai-thinker.com/">https://www.ai-thinker.com/</a></p><p>å®‰ä¿¡å¯ç§‘æŠ€CSDNåšå®¢ï¼š<a href="https://aithinker.blog.csdn.net/">https://aithinker.blog.csdn.net/</a></p><h2 id="arduinoå­¦ä¹ ä¸ç¯å¢ƒæ­å»º"><a href="#arduinoå­¦ä¹ ä¸ç¯å¢ƒæ­å»º" class="headerlink" title="arduinoå­¦ä¹ ä¸ç¯å¢ƒæ­å»º"></a>arduinoå­¦ä¹ ä¸ç¯å¢ƒæ­å»º</h2><p>ã€å¤ªæåˆ›å®¢ã€‘é›¶åŸºç¡€å…¥é—¨å­¦ç”¨Arduino ç¬¬ä¸€éƒ¨åˆ†åˆè¾‘ bilibiliï¼š<a href="https://www.bilibili.com/video/BV164411J7GE">https://www.bilibili.com/video/BV164411J7GE</a></p><p>PlatformIOå¹³å°ä¸‹Arduinoçš„å¼€å‘è¿‡ç¨‹-åŸºäºVisual Studio Codeå¹³å°ï¼š<a href="https://blog.csdn.net/weixin_41598714/article/details/97641453">https://blog.csdn.net/weixin_41598714/article/details/97641453</a></p><h2 id="FastLED"><a href="#FastLED" class="headerlink" title="FastLED"></a>FastLED</h2><p>WS2812LEDæ™ºèƒ½ç¯å¸¦åŠFastLEDåº“åº”ç”¨ ï¼ˆè§†é¢‘æ•™ç¨‹ï¼‰ï¼š<a href="https://www.bilibili.com/video/BV1DW411u7om?spm_id_from=333.999.0.0">https://www.bilibili.com/video/BV1DW411u7om?spm_id_from=333.999.0.0</a></p><p>FastLEDåº“ â€“ å¤ªæåˆ›å®¢ ï¼š<a href="http://www.taichi-maker.com/homepage/reference-index/arduino-library-index/fastled-library/">http://www.taichi-maker.com/homepage/reference-index/arduino-library-index/fastled-library/</a></p><h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><p>JSONåŸºç¡€ â€“ å¤ªæåˆ›å®¢ï¼š<a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/esp8266-nodemcu-web-client/json-basics/">http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/esp8266-nodemcu-web-client/json-basics/</a></p><p>ESP8266 JSONè§£æ â€“ å¤ªæåˆ›å®¢ï¼š<a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/esp8266-nodemcu-web-client/esp8266-json-parse/">http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/esp8266-nodemcu-web-client/esp8266-json-parse/</a></p><p>JSONåœ¨çº¿è§£æåŠæ ¼å¼åŒ–éªŒè¯ - JSON.cnï¼š<a href="https://www.json.cn/json/jsononline.html">https://www.json.cn/json/jsononline.html</a></p><p>JSONæ ¼å¼åŒ– - OKToolsï¼š<a href="https://oktools.net/json">https://oktools.net/json</a></p><h2 id="é—ªå­˜æ–‡ä»¶ç³»ç»Ÿï¼ˆSPIFFSï¼‰"><a href="#é—ªå­˜æ–‡ä»¶ç³»ç»Ÿï¼ˆSPIFFSï¼‰" class="headerlink" title="é—ªå­˜æ–‡ä»¶ç³»ç»Ÿï¼ˆSPIFFSï¼‰"></a>é—ªå­˜æ–‡ä»¶ç³»ç»Ÿï¼ˆSPIFFSï¼‰</h2><p><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/spiffs/">ESP8266 NodeMCU é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ â€“ å¤ªæåˆ›å®¢</a></p><h2 id="LVGL"><a href="#LVGL" class="headerlink" title="LVGL"></a>LVGL</h2><p>æ­£ç‚¹åŸå­LVGLè§†é¢‘æ•™ç¨‹-åŸºäºSTM32ï¼š<a href="https://www.bilibili.com/video/BV1ug4y1q7ha">https://www.bilibili.com/video/BV1ug4y1q7ha</a></p><p>ç™¾é—®ç½‘LVGLä¸­æ–‡æ•™ç¨‹æ–‡æ¡£ï¼š<a href="http://lvgl.100ask.net/8.1/index.html">http://lvgl.100ask.net/8.1/index.html</a></p>]]></content>
      
      
      <categories>
          
          <category> LittlePC-Clock </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
            <tag> Arduino </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
